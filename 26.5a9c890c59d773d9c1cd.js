(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{ghUV:function(t,e,n){"use strict";n.r(e),n.d(e,"GeneralRequestModule",function(){return Ps});var s=n("Yvf7"),r=n("8VHZ"),i=n("hxwH"),a=n("mHYI"),c=n("9Xeq"),o=n("FVf3"),l=n("DQuc"),u=n("vipk"),b=n("gh/l"),y=n("kPid"),p=n("Fk62"),g=n("jiyY"),f=n("/zEo"),h=n("J1Ni"),d=n("Ub9n");let m=(()=>{class t{constructor(){}ngOnInit(){}getAnimationData(t){return t&&t.activatedRouteData&&t.activatedRouteData.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Eb({type:t,selectors:[["app-general-request-homepage"]],decls:1,vars:0,template:function(t,e){1&t&&d.Lb(0,"router-outlet")},directives:[p.h],styles:[""],data:{animation:[h.c]}}),t})();var w=n("EUGn"),O=n("jV/k"),v=n("vfyW"),P=n("oECA"),z=n("O6Zd"),I=n("XRyL"),E=n("VcWf"),q=n("FBrc");let $=(()=>{class t{constructor(t,e,n){this.http=t,this.apiConfig=e,this.ems=n,this.$systemType="General Request",this.$sa="general-request"}manageRequest(){return this.http.get(`${this.apiConfig.host}/${this.$sa}/manage`).pipe(Object(v.a)(t=>console.log(t)),Object(P.a)(this.handleError("Request Type Entries",null)))}manageRequestEntry(t){return this.http.get(`${this.apiConfig.host}/${this.$sa}/manage/t/${t}`).pipe(Object(v.a)(t=>console.log(t)),Object(P.a)(this.handleError("Request Type Entry",null)))}getAllEntry(t){return this.http.get(`${this.apiConfig.host}/${this.$sa}/t/${this.rtype}/entries`,{params:t}).pipe(Object(v.a)(t=>console.log(t)),Object(P.a)(this.handleError(this.$systemType+" Entries",null)))}getEntry(t,e){return this.http.get(`${this.apiConfig.host}/${this.$sa}/t/${t}/entry/${e}/detail`).pipe(Object(v.a)(t=>console.log(t)),Object(P.a)(this.handleError(this.$systemType+" Entry",null)))}addComment(t,e){return this.http.get(`${this.apiConfig.host}/${this.$sa}/t/${t}/entry/${e}/comment`).pipe(Object(v.a)(t=>console.log(t)),Object(z.a)(t=>({permitted:!0,$data:t})),Object(P.a)(this.handleError(this.$systemType+" Comment Entry",null)))}addComment$(t,e,n){return this.http.post(`${this.apiConfig.host}/${this.$sa}/t/${t}/entry/${e}/comment`,n).pipe(Object(v.a)(t=>console.log(t)),Object(z.a)(t=>({updated:!0,$data:t})),Object(P.a)(this.handleError(this.$systemType+" Comment Entry",null)))}addReply(t,e,n){return this.http.get(`${this.apiConfig.host}/${this.$sa}/t/${t}/entry/${e}/comment/${n}/reply`).pipe(Object(v.a)(t=>{console.log(t)}),Object(z.a)(t=>({permitted:!0,$data:t})),Object(P.a)(this.handleError(this.$systemType+" Reply Entry",null)))}addReply$(t,e,n,s){return this.http.post(`${this.apiConfig.host}/${this.$sa}/t/${t}/entry/${e}/comment/${n}/reply`,s).pipe(Object(v.a)(t=>{console.log(t)}),Object(z.a)(t=>({updated:!0,$data:t})),Object(P.a)(this.handleError(this.$systemType+" Reply Entry",null)))}getTimeline(t,e){return this.http.get(`${this.apiConfig.host}/${this.$sa}/t/${t}/entry/${e}/timeline`).pipe(Object(v.a)(t=>console.log(t)),Object(P.a)(this.handleError(this.$systemType+" Entry Timeline",null)))}updateEntry$(t,e,n){return this.http.put(`${this.apiConfig.host}/${this.$sa}/t/${t}/entry/${e}/detail`,n).pipe(Object(z.a)(t=>({updated:!0,$data:t})),Object(P.a)(this.handleError(this.$systemType+" Entry",null)))}confirmEntryOnReview$(t,e){return this.http.put(`${this.apiConfig.host}/${this.$sa}/t/${t}/entry/${e}/review`,{entry:e}).pipe(Object(I.a)(5e3),Object(z.a)(t=>({onReview:!0,$data:t})),Object(P.a)(this.handleError(this.$systemType+" Entry",null)))}status(){return this.http.get(`${this.apiConfig.host}/${this.$sa}/status`).pipe(Object(P.a)(this.handleError(this.$systemType+" Entry",null)))}transferEntry(t,e){return this.http.get(`${this.apiConfig.host}/${this.$sa}/t/${t}/entry/${e}/transfer`).pipe(Object(v.a)(t=>console.log(t)),Object(z.a)(t=>({permitted:!0,$data:t})),Object(P.a)(this.handleError(this.$systemType+" Entry",null)))}transferEntry$(t,e,n){return this.http.put(`${this.apiConfig.host}/${this.$sa}/t/${t}/entry/${e}/transfer`,n).pipe(Object(v.a)(t=>console.log(t)),Object(z.a)(t=>({updated:!0,$data:t})),Object(P.a)(this.handleError(this.$systemType+" Entry",null)))}deleteManyEntry$(t,e){return this.http.patch(`${this.apiConfig.host}/${this.$sa}/t/${this.rtype}/delete/entry/many`,{entries:e}).pipe(Object(z.a)(t=>({manyDeleted:!0})),Object(P.a)(this.handleError(this.$systemType+" Entries Delete",null)))}deleteAllEntry(t){return this.http.get(`${this.apiConfig.host}/${this.$sa}/t/${t}/delete/entry/all/`).pipe(Object(P.a)(this.handleError(this.$systemType+" Entry or Entries Delete",null)))}deleteAllEntry$(t){return this.http.delete(`${this.apiConfig.host}/${this.$sa}/t/$rtype/delete/entry/all/`).pipe(Object(z.a)(t=>({allDeleted:!0})),Object(P.a)(this.handleError(this.$systemType+" Entry or Entries Delete",null)))}handleError(t="operation",e){return t=>(this.ems.message=t,Object(O.a)(e))}}return t.\u0275fac=function(e){return new(e||t)(d.Tb(q.b),d.Tb(E.b),d.Tb(w.a))},t.\u0275prov=d.Gb({token:t,factory:t.\u0275fac}),t})();var T=n("+ef2"),C=n("TY4h");function k(t,e){if(1&t&&(d.Pb(0,"h2"),d.yc(1),d.Ob()),2&t){const t=d.ac();d.zb(1),d.zc(" ",t.title," ")}}function F(t,e){if(1&t&&d.Lb(0,"app-view-description",4),2&t){const t=d.ac();d.gc("system-type",t.systemType)("view-type",t.view)}}function M(t,e){if(1&t&&d.Lb(0,"app-resource-unavailable",5),2&t){const t=d.ac();d.gc("error",t.error)}}const N=function(t){return["./","t",t]};function _(t,e){if(1&t&&(d.Pb(0,"li"),d.Pb(1,"a",7),d.yc(2),d.Ob(),d.Ob()),2&t){const t=e.$implicit;d.zb(1),d.gc("routerLink",d.lc(2,N,null==t?null:t.slug)),d.zb(1),d.zc(" ",null==t?null:t.name," ")}}function L(t,e){if(1&t&&(d.Nb(0),d.wc(1,_,3,4,"li",8),d.Mb()),2&t){const t=d.ac(2);d.zb(1),d.gc("ngForOf",t.entries)}}const j=function(){return["/account","profile"]};function x(t,e){if(1&t&&(d.Pb(0,"div",6),d.Pb(1,"ul"),d.wc(2,L,2,1,"ng-container",0),d.Pb(3,"li"),d.Pb(4,"a",7),d.yc(5," Profile "),d.Ob(),d.Ob(),d.Ob(),d.Ob()),2&t){const t=d.ac();d.zb(2),d.gc("ngIf",null!=t.entries&&(null==t.entries?null:t.entries.length)>0),d.zb(2),d.gc("routerLink",d.kc(2,j))}}let A=(()=>{class t{constructor(t,e,n){this.route=t,this.grs=e,this.ems=n,this.isError=!1}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.dashboard.systemType,this.title=t.dashboard.title,this.view=t.dashboard.view,this.grs.manageRequest().subscribe(t=>{null==t?(this.isError=!0,this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message)):null!=t&&t.length>0&&(this.entries=t)})}}return t.\u0275fac=function(e){return new(e||t)(d.Kb(p.a),d.Kb($),d.Kb(w.a))},t.\u0275cmp=d.Eb({type:t,selectors:[["app-general-request-dashboard"]],features:[d.yb([w.a])],decls:4,vars:4,consts:[[4,"ngIf"],[3,"system-type","view-type",4,"ngIf"],[3,"error",4,"ngIf"],["id","dashboard",4,"ngIf"],[3,"system-type","view-type"],[3,"error"],["id","dashboard"],[1,"center",3,"routerLink"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(d.wc(0,k,2,1,"h2",0),d.wc(1,F,1,2,"app-view-description",1),d.wc(2,M,1,1,"app-resource-unavailable",2),d.wc(3,x,6,3,"div",3)),2&t&&(d.gc("ngIf",e.title),d.zb(1),d.gc("ngIf",e.view),d.zb(1),d.gc("ngIf",e.isError),d.zb(1),d.gc("ngIf",e.systemType))},directives:[s.l,T.a,C.a,p.f,s.k],styles:[""]}),t})();var R=n("XA6Z"),S=n("vlQ6"),K=n("9Ku7");function D(t,e){if(1&t&&(d.Pb(0,"h2"),d.yc(1),d.Ob()),2&t){const t=d.ac();d.zb(1),d.zc(" ",t.entry.name," Request ")}}function U(t,e){if(1&t&&d.Lb(0,"app-view-description",4),2&t){const t=d.ac();d.gc("system-type",t.systemType)("view-type",t.view)}}function W(t,e){if(1&t&&d.Lb(0,"app-resource-unavailable",5),2&t){const t=d.ac();d.gc("error",t.error)}}const G=function(){return["entry","create"]};function Q(t,e){if(1&t&&(d.Pb(0,"li"),d.Pb(1,"a",7),d.yc(2),d.Ob(),d.Ob()),2&t){const t=d.ac(2);d.zb(1),d.gc("routerLink",d.kc(2,G)),d.zb(1),d.zc(" Create ",t.entry.name," Entry ")}}const V=function(){return["entry","delete","all"]};function B(t,e){if(1&t&&(d.Pb(0,"li"),d.Pb(1,"a",7),d.yc(2),d.Ob(),d.Ob()),2&t){const t=d.ac(2);d.zb(1),d.gc("routerLink",d.kc(2,V)),d.zb(1),d.zc(" Delete All ",t.entry.name," Entry ")}}const Y=function(){return["entries"]},H=function(){return["../../"]},J=function(){return["/account","profile"]};function X(t,e){if(1&t&&(d.Pb(0,"div",6),d.Pb(1,"ul"),d.Pb(2,"li"),d.Pb(3,"a",7),d.yc(4),d.Ob(),d.Ob(),d.wc(5,Q,3,3,"li",0),d.Pb(6,"li"),d.Pb(7,"a",7),d.yc(8," Other Requests "),d.Ob(),d.Ob(),d.wc(9,B,3,3,"li",0),d.Pb(10,"li"),d.Pb(11,"a",7),d.yc(12," Profile "),d.Ob(),d.Ob(),d.Ob(),d.Ob()),2&t){const t=d.ac();d.zb(3),d.gc("routerLink",d.kc(6,Y)),d.zb(1),d.zc(" Manage ",t.entry.name," Entry "),d.zb(1),d.gc("ngIf",t.canCreate),d.zb(2),d.gc("routerLink",d.kc(7,H)),d.zb(2),d.gc("ngIf",t.canDeleteAll),d.zb(2),d.gc("routerLink",d.kc(8,J))}}let Z=(()=>{class t{constructor(t,e,n,s,r){this.route=t,this.ts=e,this.grs=n,this.ems=s,this.aus=r,this.isError=!1}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.dashboard.systemType,this.title=t.dashboard.title,this.view=t.dashboard.view,this.link=t.dashboard.link,this.grs.$systemType=this.systemType,this.route.paramMap.pipe(Object(R.a)(t=>{let e=t.get("request");return this.rslug=e,this.grs.manageRequestEntry(e)})).subscribe(t=>{null==t?(this.isError=!0,this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message)):null!=t&&(this.entry=t,this.ts.setTitle(t.name+" Request"))})}get canCreate(){return["student","departmentPresident","facultyPresident"].indexOf(this.aus.userRole)>-1}get canDeleteAll(){return this.aus.isSuperAdministrator}}return t.\u0275fac=function(e){return new(e||t)(d.Kb(p.a),d.Kb(S.b),d.Kb($),d.Kb(w.a),d.Kb(K.a))},t.\u0275cmp=d.Eb({type:t,selectors:[["app-general-request-entry-dashboard"]],features:[d.yb([w.a])],decls:4,vars:4,consts:[[4,"ngIf"],[3,"system-type","view-type",4,"ngIf"],[3,"error",4,"ngIf"],["id","dashboard",4,"ngIf"],[3,"system-type","view-type"],[3,"error"],["id","dashboard"],[1,"center",3,"routerLink"]],template:function(t,e){1&t&&(d.wc(0,D,2,1,"h2",0),d.wc(1,U,1,2,"app-view-description",1),d.wc(2,W,1,1,"app-resource-unavailable",2),d.wc(3,X,13,9,"div",3)),2&t&&(d.gc("ngIf",e.entry&&(null==e.entry?null:e.entry.name)),d.zb(1),d.gc("ngIf",e.view),d.zb(1),d.gc("ngIf",e.isError),d.zb(1),d.gc("ngIf",e.entry))},directives:[s.l,T.a,C.a,p.f],styles:[""]}),t})();var tt=n("iPJu"),et=n("yjbJ"),nt=n("9nlD");const st=["staff","moderator","administrator","superAdministrator"];var rt=n("9yhg"),it=n("Rxsk"),at=n("xlhj"),ct=n("RBZI");function ot(t,e){if(1&t&&(d.Pb(0,"h2"),d.yc(1),d.Ob()),2&t){const t=d.ac();d.zb(1),d.zc(" ",t.title,"")}}function lt(t,e){if(1&t&&d.Lb(0,"app-view-description",8),2&t){const t=d.ac();d.gc("system-type",t.systemType)("view-type",t.view)}}function ut(t,e){if(1&t){const t=d.Qb();d.Pb(0,"app-notification-screen",9),d.Wb("finished",function(){return d.rc(t),d.ac().removeNotification()}),d.Ob()}if(2&t){const t=d.ac();d.gc("notified",t.notificationAvailable)("message",t.notificationMessage)}}function bt(t,e){if(1&t&&d.Lb(0,"app-search",10),2&t){const t=d.ac();d.gc("system-type",t.systemType)("$link",t.$link)("search-filters",t.searchFilters)}}function yt(t,e){1&t&&(d.Pb(0,"td",24),d.yc(1," Nil "),d.Ob())}function pt(t,e){if(1&t&&(d.Pb(0,"td",32),d.yc(1),d.Ob()),2&t){const t=d.ac().$implicit;d.zb(1),d.zc(" ",null==t?null:t.application_number," ")}}function gt(t,e){if(1&t&&(d.Pb(0,"td",24),d.yc(1),d.Ob()),2&t){const t=d.ac().$implicit;d.zb(1),d.zc(" ",null==t||null==t.author?null:t.author.full_name," ")}}function ft(t,e){if(1&t&&(d.Pb(0,"td",24),d.yc(1),d.bc(2,"date"),d.Ob()),2&t){const t=d.ac().$implicit;d.zb(1),d.zc(" ",d.dc(2,1,null==t?null:t.updated_on,"longDate")," ")}}function ht(t,e){if(1&t&&(d.Pb(0,"td",24),d.yc(1),d.Ob()),2&t){const t=d.ac().$implicit;d.zb(1),d.zc(" ",null==t||null==t.author?null:t.author.level," ")}}function dt(t,e){if(1&t&&(d.Pb(0,"td",24),d.yc(1),d.Ob()),2&t){const t=d.ac().$implicit;d.zb(1),d.zc(" ",null==t||null==t.author?null:t.author.identity_number," ")}}const mt=function(t,e,n){return{rejected:t,fulfilled:e,update:n}};function wt(t,e){if(1&t&&(d.Pb(0,"td",33),d.yc(1),d.Ob()),2&t){const t=d.ac().$implicit;d.gc("ngClass",d.nc(2,mt,"Rejected"==(null==t?null:t.status),"Fulfilled"==(null==t?null:t.status),"Update"==(null==t?null:t.status))),d.zb(1),d.zc(" ",null==t?null:t.status," ")}}function Ot(t,e){if(1&t){const t=d.Qb();d.Nb(0),d.Pb(1,"input",38,39),d.Wb("click",function(){d.rc(t);const e=d.qc(2),n=d.ac(3),s=n.$implicit,r=n.index;return d.ac(2).addEntryToDeleteList(null==s?null:s.num,e.checked,r)}),d.Ob(),d.Lb(3,"span",40),d.Mb()}if(2&t){const t=e.$implicit,n=d.ac(3).$implicit;d.zb(1),d.gc("checked",t==(null==n?null:n.num))}}function vt(t,e){if(1&t&&(d.Nb(0),d.wc(1,Ot,4,1,"ng-container",37),d.Mb()),2&t){const t=d.ac(4);d.zb(1),d.gc("ngForOf",t.esdl)}}function Pt(t,e){if(1&t){const t=d.Qb();d.Pb(0,"input",41,39),d.Wb("click",function(){d.rc(t);const e=d.qc(1),n=d.ac(2),s=n.$implicit,r=n.index;return d.ac(2).addEntryToDeleteList(null==s?null:s.num,e.checked,r)}),d.Ob(),d.Lb(2,"span",40)}}function zt(t,e){if(1&t&&(d.Pb(0,"label",34),d.wc(1,vt,2,1,"ng-container",35),d.wc(2,Pt,3,0,"ng-template",null,36,d.xc),d.Ob()),2&t){const t=d.qc(3),e=d.ac(3);d.zb(1),d.gc("ngIf",e.esdl.length)("ngIfElse",t)}}const It=function(t){return["../","entry",t,"detail"]};function Et(t,e){if(1&t&&(d.Pb(0,"tr"),d.Pb(1,"td",24),d.yc(2),d.Ob(),d.wc(3,yt,2,0,"ng-template",null,25,d.xc),d.wc(5,pt,2,1,"td",26),d.wc(6,gt,2,1,"td",27),d.wc(7,ft,3,4,"td",27),d.wc(8,ht,2,1,"td",27),d.wc(9,dt,2,1,"td",27),d.wc(10,wt,2,6,"td",28),d.Pb(11,"td",29),d.Pb(12,"a",30),d.yc(13," View "),d.Ob(),d.wc(14,zt,4,2,"label",31),d.Ob(),d.Ob()),2&t){const t=e.$implicit,n=e.index,s=d.qc(4),r=d.ac(2);d.zb(2),d.zc(" ",n+1,". "),d.zb(3),d.gc("ngIf",null==t?null:t.application_number)("ngIfElse",s),d.zb(1),d.gc("ngIf",null==t||null==t.author?null:t.author.full_name)("ngIfElse",s),d.zb(1),d.gc("ngIf",null==t?null:t.updated_on)("ngIfElse",s),d.zb(1),d.gc("ngIf",null==t||null==t.author?null:t.author.level)("ngIfElse",s),d.zb(1),d.gc("ngIf",null==t||null==t.author?null:t.author.identity_number)("ngIfElse",s),d.zb(1),d.gc("ngIf",null==t?null:t.status)("ngIfElse",s),d.zb(2),d.gc("routerLink",d.lc(15,It,null==t?null:t.slug)),d.zb(2),d.gc("ngIf",r.canUpdateEntry)}}function qt(t,e){if(1&t&&d.Lb(0,"app-pagination",42),2&t){const t=d.ac(2);d.gc("entries-length",t.$entriesLength)("entry-ref",t.$entryRef)("page-number",t.pageNumber)}}function $t(t,e){if(1&t&&(d.Pb(0,"div"),d.Pb(1,"table",11),d.Pb(2,"caption",12),d.yc(3," Entries "),d.Ob(),d.Pb(4,"colgroup"),d.Lb(5,"col",13),d.Lb(6,"col",14),d.Lb(7,"col",15),d.Lb(8,"col",16),d.Lb(9,"col",17),d.Lb(10,"col",18),d.Lb(11,"col",19),d.Lb(12,"col",20),d.Ob(),d.Pb(13,"thead"),d.Pb(14,"tr"),d.Pb(15,"th",21),d.yc(16," Index "),d.Ob(),d.Pb(17,"th",21),d.yc(18," Application Unique ID "),d.Ob(),d.Pb(19,"th",21),d.yc(20," Full Name "),d.Ob(),d.Pb(21,"th",21),d.yc(22," Date Created "),d.Ob(),d.Pb(23,"th",21),d.yc(24," Level "),d.Ob(),d.Pb(25,"th",21),d.yc(26," Student Identity No. "),d.Ob(),d.Pb(27,"th",21),d.yc(28," Status "),d.Ob(),d.Pb(29,"th",21),d.yc(30," Changes "),d.Ob(),d.Ob(),d.Ob(),d.Pb(31,"tbody"),d.wc(32,Et,15,17,"tr",22),d.Ob(),d.Pb(33,"tfoot"),d.Pb(34,"tr"),d.Lb(35,"td"),d.Ob(),d.Pb(36,"tr"),d.Lb(37,"td"),d.Ob(),d.Pb(38,"tr"),d.wc(39,qt,1,3,"app-pagination",23),d.Ob(),d.Ob(),d.Ob(),d.Ob()),2&t){const t=d.ac();d.zb(31),d.gc("@listAnimation",t.entries.length),d.zb(1),d.gc("ngForOf",t.entries)("ngForTrackBy",t.trackByAppNumber),d.zb(7),d.gc("ngIf",t.pageNumber)}}function Tt(t,e){if(1&t&&d.Lb(0,"app-resource-unavailable",43),2&t){const t=d.ac();d.gc("error",t.error)}}let Ct=(()=>{class t{constructor(t,e,n,s,r,i,a,c){this.route=t,this.location=e,this.grs=n,this.gss=s,this.gas=r,this.ems=i,this.ns=a,this.aus=c,this.entries=[],this.isError=!1,this.esdl=[],this.p$esdl=!1,this.pageNumber=1,this.$entriesLength=0,this.entriesSearchedOb=this.gss.entriesSearched$.subscribe(t=>{this.location.replaceState(`/general-request/t/${this.rslug}/entries`),this.pageNumber=1,null==t?(this.entries=[],this.$entriesLength=0,this.error=Object.assign({resource:this.systemType+" Entry or Entries"},this.ems.message),this.isError=!0):null!=t&&t.length>0&&(this.error=null,this.isError=!1,this.$entriesLength=t.length,this.entries=t,this.entries.length<=10&&(this.pageNumber=1),this.entries.length>10&&this.entries.pop())}),this.clearSearchOb=this.gss.clearSearch$.subscribe(t=>{this.clearSearch$()}),this.errorExistOb=this.gss.errorExist$.subscribe(t=>{this.isError=t})}searchErr$(t){this.error=null,this.isError=!1}clearSearch$(){this.error=null,this.isError=!1,this.pageNumber=1,this.location.replaceState(`/general-request/t/${this.rslug}/entries`),this.gss.searchCleared.next(!0),this.getAllEntry({})}trackByAppNumber(t,e){return e.application_number}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.entries.systemType,this.title=t.entries.title,this.view=t.entries.view,this.link=t.entries.link,this.searchFilters=t.entries.searchFilters,this.grs.$systemType=this.systemType,this.route.queryParamMap.subscribe(t=>{let e=this.route.snapshot.paramMap,n=this.gas.paramProcessor(t,this);return this.rslug=e.get("request"),this.$link="general-request/t/"+this.rslug,this.grs.rtype=this.rslug,this.getAllEntry(n)})}ngOnDestroy(){null!=this.entriesSearchedOb&&this.entriesSearchedOb.unsubscribe(),null!=this.clearSearchOb&&this.clearSearchOb.unsubscribe(),null!=this.errorExistOb&&this.errorExistOb.unsubscribe()}getAllEntry(t){this.grs.getAllEntry(t).subscribe(t=>{null==t?(this.entries=[],this.$entriesLength=0,this.isError=!0,this.error=Object.assign({resource:this.systemType+" Entry or Entries"},this.ems.message)):null!=t&&t.length>0&&(this.error=null,this.isError=!1,this.$entriesLength=t.length,this.entries=t),this.entries.length>10&&this.entries.pop()})}addEntryToDeleteList(t,e,n){this.gas.addEntryToDeleteList(t,e,n,this)}deleteManyEntry(){this.gas.deleteManyEntry(this,this.grs)}get userRole(){return this.aus.userRole}get canUpdateEntry(){return st.indexOf(this.userRole)>-1}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}removeNotification(){this.ns.removeNotification()}}return t.\u0275fac=function(e){return new(e||t)(d.Kb(p.a),d.Kb(s.h),d.Kb($),d.Kb(tt.a),d.Kb(et.a),d.Kb(w.a),d.Kb(nt.a),d.Kb(K.a))},t.\u0275cmp=d.Eb({type:t,selectors:[["app-general-request-entries"]],features:[d.yb([nt.a,w.a,tt.a,et.a])],decls:11,vars:8,consts:[["id","entry-main"],[4,"ngIf"],[3,"system-type","view-type",4,"ngIf"],[3,"notified","message","finished",4,"ngIf"],[1,"search-bar"],[3,"system-type","$link","search-filters",4,"ngIf"],[1,"entry-option","entry-option-small","center",3,"click"],[3,"error",4,"ngIf"],[3,"system-type","view-type"],[3,"notified","message","finished"],[3,"system-type","$link","search-filters"],[1,"entries"],[1,"bold","left"],[1,"index"],[1,"app-number"],[1,"full-name"],[1,"date"],[1,"level"],[1,"stdid"],[1,"status"],[1,"changes"],[1,"bold","center"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"entries-length","entry-ref","page-number",4,"ngIf"],[1,"center"],["nilValue",""],["class","center bold app-number",4,"ngIf","ngIfElse"],["class","center",4,"ngIf","ngIfElse"],["class","center",3,"ngClass",4,"ngIf","ngIfElse"],[1,""],[1,"center","changes-option","changes-option-full",3,"routerLink"],["class","changes-mark",4,"ngIf"],[1,"center","bold","app-number"],[1,"center",3,"ngClass"],[1,"changes-mark"],[4,"ngIf","ngIfElse"],["normalChecks",""],[4,"ngFor","ngForOf"],["type","checkbox",3,"checked","click"],["checked",""],[1,"checkmark"],["type","checkbox",3,"click"],[3,"entries-length","entry-ref","page-number"],[3,"error"]],template:function(t,e){1&t&&(d.Pb(0,"div",0),d.wc(1,ot,2,1,"h2",1),d.wc(2,lt,1,2,"app-view-description",2),d.wc(3,ut,1,2,"app-notification-screen",3),d.Lb(4,"app-list-entry-options"),d.Pb(5,"div",4),d.wc(6,bt,1,3,"app-search",5),d.Pb(7,"a",6),d.Wb("click",function(){return e.deleteManyEntry()}),d.yc(8," Delete Many "),d.Ob(),d.Ob(),d.wc(9,$t,40,4,"div",1),d.wc(10,Tt,1,1,"app-resource-unavailable",7),d.Ob()),2&t&&(d.zb(1),d.gc("ngIf",e.title),d.zb(1),d.gc("ngIf",e.view),d.zb(1),d.gc("ngIf",e.notificationAvailable),d.zb(3),d.gc("ngIf",e.systemType),d.zb(1),d.Cb("hide",e.esdl.length<2),d.zb(2),d.gc("ngIf",e.$entriesLength>0),d.zb(1),d.gc("ngIf",e.isError))},directives:[s.l,rt.a,T.a,it.a,at.a,s.k,p.f,s.j,ct.a,C.a],pipes:[s.d],styles:[""],data:{animation:[h.b]}}),t})();var kt=n("tTBu");let Ft=(()=>{class t{constructor(t){this.fb=t,this.permanentData={},this.permanentProps={unit:[r.o.required,r.o.max(9e7)],status:[r.o.required,r.o.max(9e7)]},this.otherCtrls={request_type:[r.o.required,r.o.max(1e7)],unit:[r.o.required,r.o.max(1e7)],request_username:[r.o.minLength(5),r.o.maxLength(100)],request_password:[r.o.minLength(5),r.o.maxLength(100)]}}getPermanentProp(t){return this.permanentProps[t]}removeControls(t,e){null!=t&&t.length>0&&t.forEach(t=>e.get(t)?e.removeControl(t):null)}entryUpdateForm(){return this.fb.group({text:["",{validators:[r.o.required,r.o.minLength(10),r.o.maxLength(500)]}],status:["",{validators:[...this.getPermanentProp("status")]}]})}entryTransferForm(){return this.fb.group({text:["",{validators:[r.o.required,r.o.minLength(10),r.o.maxLength(500)]}],unit:["",{validators:[...this.getPermanentProp("unit")]}]})}createPermanent(t,e){if(null!=t){for(let n in t){let s=n.toLowerCase();this.permanentData[s]=t[n],e.get(s)&&e.get(s).setValidators([...this.permanentProps[s],Object(kt.a)(this.getMyData(s),n)]),e.get(s)&&e.get(s).updateValueAndValidity()}e.updateValueAndValidity()}}getMyData(t){return this.permanentData[t]}}return t.\u0275fac=function(e){return new(e||t)(d.Tb(r.b))},t.\u0275prov=d.Gb({token:t,factory:t.\u0275fac}),t})();var Mt=n("013A"),Nt=n("ujQ7");function _t(t,e){if(1&t){const t=d.Qb();d.Pb(0,"app-notification-screen",2),d.Wb("finished",function(){return d.rc(t),d.ac().removeNotification()}),d.Ob()}if(2&t){const t=d.ac();d.gc("notified",t.notificationAvailable)("message",t.notificationMessage)}}const Lt=function(t,e,n){return[t,"t",e,"entry",n,"timeline"]};function jt(t,e){if(1&t&&(d.Nb(0),d.Pb(1,"a",4),d.yc(2," Timeline "),d.Ob(),d.Mb()),2&t){const t=d.ac(2);d.zb(1),d.gc("routerLink",d.nc(1,Lt,t.isAdmin,t.rslug,null==t.entry?null:t.entry.slug))}}function xt(t,e){if(1&t){const t=d.Qb();d.Nb(0),d.Pb(1,"a",5),d.Wb("click",function(e){return d.rc(t),d.ac(3).setEntryOnReview(e)}),d.yc(2," Set Application on Review "),d.Ob(),d.Mb()}}function At(t,e){1&t&&(d.Nb(0),d.Pb(1,"p"),d.yc(2," Your request is being processed. Please kindly be patient and wait while it completes. "),d.Ob(),d.Mb())}function Rt(t,e){if(1&t&&(d.Nb(0),d.wc(1,xt,3,0,"ng-container",1),d.wc(2,At,3,0,"ng-container",1),d.Mb()),2&t){const t=d.ac(2);d.zb(1),d.gc("ngIf",t.canUpdateEntry),d.zb(1),d.gc("ngIf",t.isProcessingReview)}}const St=function(t,e,n){return[t,"t",e,"entry",n,"transfer"]};function Kt(t,e){if(1&t&&(d.Nb(0),d.Pb(1,"a",4),d.yc(2," Transfer or Move Request "),d.Ob(),d.Mb()),2&t){const t=d.ac(3);d.zb(1),d.gc("routerLink",d.nc(1,St,t.isAdmin,t.rslug,null==t.entry?null:t.entry.slug))}}function Dt(t,e){if(1&t&&(d.Nb(0),d.wc(1,Kt,3,5,"ng-container",1),d.Mb()),2&t){const t=d.ac(2);d.zb(1),d.gc("ngIf",t.canUpdateEntry)}}const Ut=function(t,e,n){return[t,"t",e,"entry",n,"comment","add"]};function Wt(t,e){if(1&t&&(d.Nb(0),d.Pb(1,"a",4),d.yc(2," Add a Comment "),d.Ob(),d.Mb()),2&t){const t=d.ac(2);d.zb(1),d.gc("routerLink",d.nc(1,Ut,t.isAdmin,t.rslug,null==t.entry?null:t.entry.slug))}}function Gt(t,e){if(1&t&&(d.Nb(0),d.Pb(1,"div",3),d.wc(2,jt,3,5,"ng-container",1),d.wc(3,Rt,3,2,"ng-container",1),d.wc(4,Dt,2,1,"ng-container",1),d.wc(5,Wt,3,5,"ng-container",1),d.Ob(),d.Mb()),2&t){const t=d.ac();d.zb(2),d.gc("ngIf","Review"==(null==t.entry?null:t.entry.status)||"Update"==(null==t.entry?null:t.entry.status)||"Fulfilled"==(null==t.entry?null:t.entry.status)||"Rejected"==(null==t.entry?null:t.entry.status)),d.zb(1),d.gc("ngIf","Pending"==(null==t.entry?null:t.entry.status)),d.zb(1),d.gc("ngIf","Review"==(null==t.entry?null:t.entry.status)||"Update"==(null==t.entry?null:t.entry.status)||"Transferred"==(null==t.entry?null:t.entry.status)),d.zb(1),d.gc("ngIf","Update"==(null==t.entry?null:t.entry.status)||"Transferred"==(null==t.entry?null:t.entry.status))}}let Qt=(()=>{class t{constructor(t,e,n,s){this.route=t,this.aus=e,this.grs=n,this.ns=s,this.onReviewEntry=new d.n}ngOnInit(){this.route.paramMap.subscribe(t=>{let e=t.get("request");this.rslug=e})}setEntryOnReview(t){t.preventDefault(),t.stopPropagation(),1!=this.isProcessingReview&&(this.isProcessingReview=!0,this.grs.confirmEntryOnReview$(this.rslug,this.entry.slug).subscribe(t=>{null==t&&(this.isProcessingReview=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and ${this.systemType} Entry is not updated.`)),null!=t&&1==t.onReview&&(this.isProcessingReview=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and ${this.systemType} Entry is updated and on review.`),this.onReviewEntry.emit(t.$data))}))}get canUpdateEntry(){return st.indexOf(this.userRole)>-1}get userRole(){return this.aus.userRole}get isAdmin(){return["moderator","administrator","superAdministrator"].indexOf(this.userRole),"/general-request"}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}removeNotification(){this.ns.removeNotification()}}return t.\u0275fac=function(e){return new(e||t)(d.Kb(p.a),d.Kb(K.a),d.Kb($),d.Kb(nt.a))},t.\u0275cmp=d.Eb({type:t,selectors:[["app-general-request-entry-option"]],inputs:{systemType:["system-type","systemType"],view:"view",link:"link",entry:"entry"},outputs:{onReviewEntry:"onReviewEntry"},features:[d.yb([nt.a])],decls:2,vars:2,consts:[[3,"notified","message","finished",4,"ngIf"],[4,"ngIf"],[3,"notified","message","finished"],["id","entry-detail-options"],[1,"center",3,"routerLink"],[1,"center",3,"click"]],template:function(t,e){1&t&&(d.wc(0,_t,1,2,"app-notification-screen",0),d.wc(1,Gt,6,4,"ng-container",1)),2&t&&(d.gc("ngIf",e.notificationAvailable),d.zb(1),d.gc("ngIf",e.entry))},directives:[s.l,it.a,p.f],styles:[""]}),t})();var Vt=n("L0ga"),Bt=n("yHSd");let Yt=(()=>{class t{constructor(t,e,n){this.http=t,this.apiConfig=e,this.ems=n}createUsernamePassword$(t){return this.http.post(this.apiConfig.host+"/request-credential/entry/create",t,{headers:{"Content-Type":"application/json"}}).pipe(Object(v.a)(t=>console.log(t)),Object(z.a)(t=>({created:!0,$data:t})),Object(P.a)(this.handleError("Credentials Entry",null)))}handleError(t="operation",e){return t=>(this.ems.message=t,Object(O.a)(e))}}return t.\u0275fac=function(e){return new(e||t)(d.Tb(q.b),d.Tb(E.b),d.Tb(w.a))},t.\u0275prov=d.Gb({token:t,factory:t.\u0275fac}),t})();function Ht(t,e){if(1&t&&(d.Pb(0,"li"),d.yc(1),d.Ob()),2&t){const t=d.ac(3);d.zb(1),d.zc(" Request Username of ",t.systemType," should be provided and cannot be empty ")}}function Jt(t,e){if(1&t&&(d.Pb(0,"li"),d.yc(1),d.Ob()),2&t){const t=d.ac(3);d.zb(1),d.zc(" Request Username of ",t.systemType," cannot be less than 5 characters in length ")}}function Xt(t,e){if(1&t&&(d.Pb(0,"li"),d.yc(1),d.Ob()),2&t){const t=d.ac(3);d.zb(1),d.zc(" Request Username of ",t.systemType," cannot be greater than 100 characters in length ")}}function Zt(t,e){if(1&t&&(d.Pb(0,"div",2),d.Pb(1,"ul"),d.wc(2,Ht,2,1,"li",0),d.wc(3,Jt,2,1,"li",0),d.wc(4,Xt,2,1,"li",0),d.Ob(),d.Ob()),2&t){const t=d.ac(2);d.gc("@fadeAnimation",void 0),d.zb(2),d.gc("ngIf",null==t.request_username.errors?null:t.request_username.errors.required),d.zb(1),d.gc("ngIf",(null==t.request_username.errors?null:t.request_username.errors.required)||(null==t.request_username.errors?null:t.request_username.errors.minlength)),d.zb(1),d.gc("ngIf",(null==t.request_username.errors?null:t.request_username.errors.required)||(null==t.request_username.errors?null:t.request_username.errors.maxlength))}}function te(t,e){if(1&t&&(d.Nb(0),d.wc(1,Zt,5,4,"div",1),d.Mb()),2&t){const t=d.ac();d.zb(1),d.gc("ngIf",t.request_username.invalid&&(t.request_username.touched||t.request_username.dirty))}}function ee(t,e){if(1&t&&(d.Pb(0,"li"),d.yc(1),d.Ob()),2&t){const t=d.ac(3);d.zb(1),d.zc(" Request Password of ",t.systemType," should be provided and cannot be empty ")}}function ne(t,e){if(1&t&&(d.Pb(0,"li"),d.yc(1),d.Ob()),2&t){const t=d.ac(3);d.zb(1),d.zc(" Request Password of ",t.systemType," cannot be less than 5 characters in length ")}}function se(t,e){if(1&t&&(d.Pb(0,"li"),d.yc(1),d.Ob()),2&t){const t=d.ac(3);d.zb(1),d.zc(" Request Password of ",t.systemType," cannot be greater than 100 characters in length ")}}function re(t,e){if(1&t&&(d.Pb(0,"div",2),d.Pb(1,"ul"),d.wc(2,ee,2,1,"li",0),d.wc(3,ne,2,1,"li",0),d.wc(4,se,2,1,"li",0),d.Ob(),d.Ob()),2&t){const t=d.ac(2);d.gc("@fadeAnimation",void 0),d.zb(2),d.gc("ngIf",null==t.request_password.errors?null:t.request_password.errors.required),d.zb(1),d.gc("ngIf",(null==t.request_password.errors?null:t.request_password.errors.required)||(null==t.request_password.errors?null:t.request_password.errors.minlength)),d.zb(1),d.gc("ngIf",(null==t.request_password.errors?null:t.request_password.errors.required)||(null==t.request_password.errors?null:t.request_password.errors.maxlength))}}function ie(t,e){if(1&t&&(d.Nb(0),d.wc(1,re,5,4,"div",1),d.Mb()),2&t){const t=d.ac();d.zb(1),d.gc("ngIf",t.request_password.invalid&&(t.request_password.touched||t.request_password.dirty))}}let ae=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Eb({type:t,selectors:[["app-general-request-entry-credential-validator"]],inputs:{systemType:["system-type","systemType"],request_username:"request_username",request_password:"request_password"},decls:2,vars:2,consts:[[4,"ngIf"],["class","validation-error",4,"ngIf"],[1,"validation-error"]],template:function(t,e){1&t&&(d.wc(0,te,2,1,"ng-container",0),d.wc(1,ie,2,1,"ng-container",0)),2&t&&(d.gc("ngIf",e.request_username),d.zb(1),d.gc("ngIf",e.request_password))},directives:[s.l],styles:[""],data:{animation:[h.a]}}),t})(),ce=(()=>{class t{transform(t,...e){return t.author.full_name.split(" ").join("").toLowerCase()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=d.Jb({name:"proposedCredential",type:t,pure:!0}),t})();const oe=["proposedCredential"];function le(t,e){if(1&t&&(d.Nb(0),d.Lb(1,"input",12,13),d.bc(3,"proposedCredential"),d.Mb()),2&t){const t=d.ac(2);d.zb(1),d.gc("value",d.cc(3,1,t.entry))}}function ue(t,e){1&t&&d.Lb(0,"input",14,13)}function be(t,e){if(1&t){const t=d.Qb();d.Nb(0),d.Pb(1,"div",1),d.Pb(2,"div",2),d.Pb(3,"button",3),d.Wb("click",function(e){return d.rc(t),d.ac().createNewCredentials(e)}),d.yc(4," Generate Request Username and Password "),d.Ob(),d.Ob(),d.Pb(5,"div",2),d.wc(6,le,4,3,"ng-container",4),d.wc(7,ue,2,0,"ng-template",null,5,d.xc),d.Ob(),d.Pb(9,"div",2),d.Pb(10,"label",6),d.yc(11," Username "),d.Ob(),d.Lb(12,"input",7),d.Lb(13,"app-general-request-entry-credential-validator",8),d.Ob(),d.Pb(14,"div",2),d.Pb(15,"label",9),d.yc(16," Password "),d.Ob(),d.Lb(17,"input",10),d.Lb(18,"app-general-request-entry-credential-validator",11),d.Ob(),d.Ob(),d.Mb()}if(2&t){const t=d.qc(8),e=d.ac();d.zb(1),d.gc("formGroup",e.entryForm),d.zb(5),d.gc("ngIf",e.entry&&(null==e.entry?null:e.entry.author))("ngIfElse",t),d.zb(6),d.gc("value",null==e.entry?null:e.entry.request_username),d.zb(1),d.gc("system-type",e.systemType)("request-username",e.request_username),d.zb(4),d.gc("value",null==e.entry?null:e.entry.request_password),d.zb(1),d.gc("system-type",e.systemType)("request-password",e.request_password)}}let ye=(()=>{class t{constructor(t,e){this.gups=t,this.grfs=e}ngOnInit(){this.entryForm.addControl("request_username",new r.c("",this.grfs.otherCtrls.request_username)),this.entryForm.addControl("request_password",new r.c("",this.grfs.otherCtrls.request_password))}createNewCredentials(t){t.stopPropagation(),t.preventDefault(),this.gups.createUsernamePassword$({username:this.proposedCredential.nativeElement.value,entry:this.entry._id}).subscribe(t=>{if(null!=t&&1==t.created){let e=t.$data;this.entryForm.patchValue({request_username:e.username,request_password:e.password})}})}get request_username(){return this.entryForm.get("request_username")}get request_password(){return this.entryForm.get("request_password")}}return t.\u0275fac=function(e){return new(e||t)(d.Kb(Yt),d.Kb(Ft))},t.\u0275cmp=d.Eb({type:t,selectors:[["app-general-request-entry-generate-username-password"]],viewQuery:function(t,e){if(1&t&&d.Bc(oe,!0),2&t){let t;d.pc(t=d.Xb())&&(e.proposedCredential=t.first)}},inputs:{systemType:["system-type","systemType"],entryForm:["entry-form","entryForm"],entry:"entry"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"generate-username-password-form",3,"formGroup"],[1,"form-group"],["id","generateCredentials",1,"btn-submit",3,"click"],[4,"ngIf","ngIfElse"],["noAuthor",""],["for","request-username",1,"form-label","bold"],["type","text","name","request_username","id","request-username","formControlName","request_username",1,"form-control",3,"value"],[3,"system-type","request-username"],["for","request-password",1,"form-label","bold"],["type","text","name","request_password","id","request-password","formControlName","request_password",1,"form-control",3,"value"],[3,"system-type","request-password"],["type","hidden","id","proposedCredential","name","proposal",1,"form-control",3,"value"],["proposedCredential",""],["type","hidden","id","proposedCredential","name","proposal","value",""]],template:function(t,e){1&t&&d.wc(0,be,19,9,"ng-container",0),2&t&&d.gc("ngIf",e.entry)},directives:[s.l,r.j,r.g,r.a,r.i,r.e,ae],pipes:[ce],styles:[""]}),t})();function pe(t,e){if(1&t&&(d.Pb(0,"div",2),d.Pb(1,"label",5),d.yc(2," Password "),d.Ob(),d.Lb(3,"input",6),d.Lb(4,"app-general-request-entry-credential-validator",7),d.Ob()),2&t){const t=d.ac(2);d.zb(3),d.gc("value",null==t.entry?null:t.entry.request_password),d.zb(1),d.gc("system-type",t.systemType)("request-password",t.request_password)}}function ge(t,e){if(1&t){const t=d.Qb();d.Nb(0),d.Pb(1,"div",1),d.Pb(2,"div",2),d.Pb(3,"button",3),d.Wb("click",function(e){return d.rc(t),d.ac().createNewCredentials(e)}),d.yc(4),d.Ob(),d.Ob(),d.wc(5,pe,5,3,"div",4),d.Ob(),d.Mb()}if(2&t){const t=d.ac();d.zb(1),d.gc("formGroup",t.entryForm),d.zb(3),d.zc(" Generate ",t.systemType," Password "),d.zb(1),d.gc("ngIf",t.request_password)}}let fe=(()=>{class t{constructor(t){this.grfs=t}ngOnInit(){this.entryForm.addControl("request_password",new r.c("",this.grfs.otherCtrls.request_password))}createNewCredentials(t){t.stopPropagation(),t.preventDefault();let e=Math.random().toString(36).substr(2,9);this.entryForm.patchValue({request_password:e})}get request_password(){return this.entryForm.get("request_password")}}return t.\u0275fac=function(e){return new(e||t)(d.Kb(Ft))},t.\u0275cmp=d.Eb({type:t,selectors:[["app-general-request-entry-generate-password"]],inputs:{systemType:["system-type","systemType"],entryForm:["entry-form","entryForm"],entry:"entry"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"generate-username-password-form",3,"formGroup"],[1,"form-group"],["id","generateCredentials",1,"btn-submit",3,"click"],["class","form-group",4,"ngIf"],["for","request-password",1,"form-label","bold"],["type","text","name","password","id","request-password","formControlName","request_password",1,"form-control",3,"value"],[3,"system-type","request-password"]],template:function(t,e){1&t&&d.wc(0,ge,6,3,"ng-container",0),2&t&&d.gc("ngIf",e.entry)},directives:[s.l,r.j,r.g,r.a,r.i,r.e,ae],styles:[""]}),t})();function he(t,e){if(1&t){const t=d.Qb();d.Pb(0,"a",5),d.Wb("click",function(){return d.rc(t),d.ac(2).otherCol()}),d.yc(1," Update Application "),d.Ob()}}function de(t,e){if(1&t&&(d.Pb(0,"option",13),d.yc(1),d.Ob()),2&t){const t=e.$implicit;d.gc("value",t._id),d.zb(1),d.zc(" ",t.name," ")}}function me(t,e){if(1&t&&(d.Nb(0),d.Lb(1,"option",13),d.wc(2,de,2,2,"option",14),d.Mb()),2&t){const t=d.ac(5);d.zb(2),d.gc("ngForOf",t.estatuses)}}function we(t,e){if(1&t&&(d.Nb(0),d.wc(1,me,3,1,"ng-container",0),d.Mb()),2&t){const t=d.ac(4);d.zb(1),d.gc("ngIf",null==t.entry?null:t.entry.status)}}function Oe(t,e){if(1&t&&d.Lb(0,"app-request-entry-update-validator",15),2&t){const t=d.ac(4);d.gc("system-type",t.systemType)("status",t.status)}}function ve(t,e){if(1&t&&(d.Pb(0,"div",9),d.Pb(1,"label",10),d.yc(2," Entry Status "),d.Ob(),d.Pb(3,"select",11),d.wc(4,we,2,1,"ng-container",0),d.Ob(),d.wc(5,Oe,1,2,"app-request-entry-update-validator",12),d.Ob()),2&t){const t=d.ac(3);d.zb(4),d.gc("ngIf",null!=t.estatuses),d.zb(1),d.gc("ngIf",t.status)}}function Pe(t,e){if(1&t&&d.Lb(0,"app-request-entry-update-validator",19),2&t){const t=d.ac(4);d.gc("system-type",t.systemType)("text",t.text)}}function ze(t,e){if(1&t&&(d.Pb(0,"div",9),d.Pb(1,"label",16),d.yc(2," Message "),d.Ob(),d.Pb(3,"textarea",17),d.yc(4," "),d.Ob(),d.wc(5,Pe,1,2,"app-request-entry-update-validator",18),d.Ob()),2&t){const t=d.ac(3);d.zb(5),d.gc("ngIf",t.text)}}function Ie(t,e){if(1&t&&(d.Pb(0,"div",9),d.Pb(1,"label",20),d.yc(2," Additional Input "),d.Ob(),d.Pb(3,"select",21),d.Lb(4,"option",22),d.Pb(5,"option",23),d.yc(6," Add Username and Password "),d.Ob(),d.Pb(7,"option",24),d.yc(8," Add Password "),d.Ob(),d.Ob(),d.Ob()),2&t){const t=d.ac(3);d.zb(3),d.gc("formControl",t.otherOptions)}}function Ee(t,e){if(1&t&&d.Lb(0,"app-general-request-entry-generate-username-password",26),2&t){const t=d.ac(4);d.gc("system-type",t.systemType)("entry",t.entry)("entry-form",t.entryForm)}}function qe(t,e){if(1&t&&(d.Nb(0),d.wc(1,Ee,1,3,"app-general-request-entry-generate-username-password",25),d.Mb()),2&t){const t=d.ac(3);d.zb(1),d.gc("ngIf",t.entry)}}function $e(t,e){if(1&t&&d.Lb(0,"app-general-request-entry-generate-password",26),2&t){const t=d.ac(4);d.gc("system-type",t.systemType)("entry",t.entry)("entry-form",t.entryForm)}}function Te(t,e){if(1&t&&(d.Nb(0),d.wc(1,$e,1,3,"app-general-request-entry-generate-password",25),d.Mb()),2&t){const t=d.ac(3);d.zb(1),d.gc("ngIf",t.entry)}}function Ce(t,e){if(1&t&&(d.Nb(0),d.wc(1,ve,6,2,"div",6),d.wc(2,ze,6,1,"div",6),d.wc(3,Ie,9,1,"div",6),d.Nb(4,7),d.wc(5,qe,2,1,"ng-container",8),d.wc(6,Te,2,1,"ng-container",8),d.Mb(),d.Mb()),2&t){const t=d.ac(2);d.zb(1),d.gc("ngIf",t.status),d.zb(1),d.gc("ngIf",t.text),d.zb(1),d.gc("ngIf",t.text),d.zb(1),d.gc("ngSwitch",t.otherOptions.value),d.zb(1),d.gc("ngSwitchCase",1),d.zb(1),d.gc("ngSwitchCase",2)}}function ke(t,e){if(1&t&&(d.Nb(0),d.Pb(1,"h3",1),d.yc(2," Request Options "),d.Ob(),d.Pb(3,"div",2),d.Pb(4,"div",3),d.wc(5,he,2,0,"a",4),d.Ob(),d.wc(6,Ce,7,6,"ng-container",0),d.Ob(),d.Mb()),2&t){const t=d.ac();d.zb(3),d.gc("formGroup",t.entryForm),d.zb(2),d.gc("ngIf",!t.isOtherColAvailable),d.zb(1),d.gc("ngIf",1==t.isOtherColAvailable)}}let Fe=(()=>{class t{constructor(t,e){this.grs=t,this.grfs=e,this.isOtherColAvailable=!1,this.otherOptions=new r.c(""),this.setSubmitButton=new d.n}ngOnInit(){}otherCol(){this.grs.status().subscribe(t=>{null!=t&&(this.isOtherColAvailable=!0,this.estatuses=t.Status,this.eother={Status:t.Status},this.setSubmitButton.emit(!0),this.grfs.createPermanent(this.eother,this.entryForm))})}get status(){return this.entryForm.get("status")}get text(){return this.entryForm.get("text")}}return t.\u0275fac=function(e){return new(e||t)(d.Kb($),d.Kb(Ft))},t.\u0275cmp=d.Eb({type:t,selectors:[["app-general-request-entry-update-field"]],inputs:{systemType:["system-type","systemType"],entryForm:["entry-form","entryForm"],entry:"entry"},outputs:{setSubmitButton:"on-submit-btn"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"center"],[3,"formGroup"],["id","entry-detail-options"],["class","center",3,"click",4,"ngIf"],[1,"center",3,"click"],["class","form-group",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"form-group"],["for","status",1,"form-label","bold"],["name","status","id","status","formControlName","status",1,"form-control"],[3,"system-type","status",4,"ngIf"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[3,"system-type","status"],["for","text",1,"form-label","bold"],["name","text","id","text","formControlName","text"],[3,"system-type","text",4,"ngIf"],[3,"system-type","text"],["for","addition-input",1,"form-label","bold"],["name","other-options","id","addition-input",1,"form-control",3,"formControl"],["value",""],["value","1"],["value","2"],[3,"system-type","entry","entry-form",4,"ngIf"],[3,"system-type","entry","entry-form"]],template:function(t,e){1&t&&d.wc(0,ke,7,3,"ng-container",0),2&t&&d.gc("ngIf",e.entry)},directives:[s.l,r.j,r.g,s.n,s.o,r.n,r.i,r.e,r.k,r.p,s.k,Bt.a,r.a,r.d,ye,fe],styles:[""]}),t})();function Me(t,e){if(1&t&&(d.Pb(0,"h2"),d.yc(1),d.Ob()),2&t){const t=d.ac();d.zb(1),d.zc(" ",t.title," ")}}function Ne(t,e){if(1&t&&d.Lb(0,"app-view-description",6),2&t){const t=d.ac();d.gc("view-type",t.view)("system-type",t.systemType)}}function _e(t,e){if(1&t&&d.Lb(0,"app-resource-unavailable",7),2&t){const t=d.ac();d.gc("error",t.error)}}function Le(t,e){if(1&t){const t=d.Qb();d.Pb(0,"app-notification-screen",8),d.Wb("finished",function(){return d.rc(t),d.ac().removeNotification()}),d.Ob()}if(2&t){const t=d.ac();d.gc("notified",t.notificationAvailable)("message",t.notificationMessage)}}function je(t,e){if(1&t&&d.Lb(0,"app-request-entry-detail",13),2&t){const t=d.ac(2);d.gc("entry",t.entry)("view",t.view)}}function xe(t,e){if(1&t&&d.Lb(0,"app-request-entry-student-detail",14),2&t){const t=d.ac(2);d.gc("entry",t.entry)}}function Ae(t,e){if(1&t){const t=d.Qb();d.Pb(0,"app-general-request-entry-option",15),d.Wb("onReviewEntry",function(e){return d.rc(t),d.ac(2).$confirmEntryOnReview(e)}),d.Ob()}if(2&t){const t=d.ac(2);d.gc("view",t.view)("entry",t.entry)("link",t.link)("system-type",t.systemType)}}function Re(t,e){if(1&t&&d.Lb(0,"app-file-attachments-two",14),2&t){const t=d.ac(2);d.gc("entry",t.entry)}}function Se(t,e){if(1&t){const t=d.Qb();d.Pb(0,"app-general-request-entry-update-field",19),d.Wb("on-submit-btn",function(e){return d.rc(t),d.ac(4).openSubBtn(e)}),d.Ob()}if(2&t){const t=d.ac(4);d.gc("entry",t.entry)("entry-form",t.entryForm)("system-type",t.systemType)}}const Ke=function(t){return{disabled:t}};function De(t,e){if(1&t&&(d.Pb(0,"button",21),d.yc(1," Submit "),d.Ob()),2&t){const t=d.ac(5);d.Bb(d.lc(3,Ke,!t.isFormValid)),d.gc("disabled",!t.isFormValid)}}function Ue(t,e){1&t&&(d.Pb(0,"p"),d.yc(1," Your form is being processed. Please kindly be patient and wait while it completes. "),d.Ob())}function We(t,e){if(1&t&&(d.Nb(0),d.wc(1,De,2,5,"button",20),d.wc(2,Ue,2,0,"p",1),d.Mb()),2&t){const t=d.ac(4);d.zb(1),d.gc("ngIf",!t.isFormProcessing),d.zb(1),d.gc("ngIf",t.isFormSubmitted)}}function Ge(t,e){if(1&t){const t=d.Qb();d.Nb(0),d.Pb(1,"div",16),d.Pb(2,"form",17),d.Wb("ngSubmit",function(){d.rc(t);const e=d.ac(3);return e.updateEntry(e.entryForm.value)}),d.wc(3,Se,1,3,"app-general-request-entry-update-field",18),d.wc(4,We,3,2,"ng-container",1),d.Ob(),d.Ob(),d.Mb()}if(2&t){const t=d.ac(3);d.zb(2),d.gc("formGroup",t.entryForm),d.zb(1),d.gc("ngIf",t.entry),d.zb(1),d.gc("ngIf",1==t.readyToSubmit)}}function Qe(t,e){if(1&t&&(d.Nb(0),d.wc(1,Ge,5,3,"ng-container",1),d.Mb()),2&t){const t=d.ac(2);d.zb(1),d.gc("ngIf",t.canUpdateEntry)}}function Ve(t,e){if(1&t&&(d.Pb(0,"div",9),d.wc(1,je,1,2,"app-request-entry-detail",10),d.wc(2,xe,1,1,"app-request-entry-student-detail",11),d.wc(3,Ae,1,4,"app-general-request-entry-option",12),d.wc(4,Re,1,1,"app-file-attachments-two",11),d.wc(5,Qe,2,1,"ng-container",1),d.Ob()),2&t){const t=d.ac();d.zb(1),d.gc("ngIf",t.entry),d.zb(1),d.gc("ngIf",t.entry),d.zb(1),d.gc("ngIf",t.entry),d.zb(1),d.gc("ngIf",t.entry),d.zb(1),d.gc("ngIf",null!=t.entry&&"Pending"!=(null==t.entry?null:t.entry.status)&&"Fulfilled"!=(null==t.entry?null:t.entry.status)&&"Rejected"!=(null==t.entry?null:t.entry.status))}}let Be=(()=>{class t{constructor(t,e,n,s,r,i,a){this.router=t,this.route=e,this.grs=n,this.ns=s,this.grfs=r,this.ems=i,this.aus=a,this.isError=!1,this.isFormSubmitted=!1,this.isFormProcessing=!1}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.detail.systemType,this.title=t.detail.title,this.view=t.detail.view,this.viewWord=t.detail.viewWord,this.link=t.detail.link,this.generateCred=t.detail.generateCred,this.grs.$systemType=this.systemType,this.route.paramMap.pipe(Object(R.a)(t=>{let e=t.get("entry"),n=t.get("request");return this.rslug=n,this.eslug=e,this.grs.getEntry(n,e)})).subscribe(t=>{null==t?(this.isError=!0,this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message)):null!=t&&(this.entry=t,this.entryForm=this.grfs.entryUpdateForm())})}ngOnDestroy(){clearTimeout(this.entryChangesT)}updateEntry(t){this.error=null,this.isError=!1,this.isFormProcessing=!0,this.isFormSubmitted=!0,this.grs.updateEntry$(this.rslug,this.eslug,t).subscribe(e=>{null==e&&(this.isFormSubmitted=!1,this.isFormProcessing=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and ${this.systemType} Entry is not updated.`)),null!=e&&1==e.updated&&(this.isFormSubmitted=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and ${this.systemType} Entry is updated.`),this.$entryChanges(t.$data))})}$entryChanges(t){this.entryChangesT=setTimeout(()=>this.router.navigate(["general-request","t",this.rslug,"entries"]),5e3)}$confirmEntryOnReview(t){this.entry.status=t.status}openSubBtn(t){1==t&&(this.readyToSubmit=!0)}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}get userRole(){return this.aus.userRole}get canUpdateEntry(){return st.indexOf(this.userRole)>-1}get isFormValid(){return this.entryForm.valid}removeNotification(){this.ns.removeNotification()}}return t.\u0275fac=function(e){return new(e||t)(d.Kb(p.d),d.Kb(p.a),d.Kb($),d.Kb(nt.a),d.Kb(Ft),d.Kb(w.a),d.Kb(K.a))},t.\u0275cmp=d.Eb({type:t,selectors:[["app-general-request-entry-detail"]],features:[d.yb([nt.a,w.a])],decls:6,vars:5,consts:[["id","entry-view"],[4,"ngIf"],[3,"view-type","system-type",4,"ngIf"],[3,"error",4,"ngIf"],[3,"notified","message","finished",4,"ngIf"],["id","request-entry-detail",4,"ngIf"],[3,"view-type","system-type"],[3,"error"],[3,"notified","message","finished"],["id","request-entry-detail"],[3,"entry","view",4,"ngIf"],[3,"entry",4,"ngIf"],[3,"view","entry","link","system-type","onReviewEntry",4,"ngIf"],[3,"entry","view"],[3,"entry"],[3,"view","entry","link","system-type","onReviewEntry"],["id","entry-detail-form"],["method","post",3,"formGroup","ngSubmit"],[3,"entry","entry-form","system-type","on-submit-btn",4,"ngIf"],[3,"entry","entry-form","system-type","on-submit-btn"],["type","submit","class","btn-submit",3,"class","disabled",4,"ngIf"],["type","submit",1,"btn-submit",3,"disabled"]],template:function(t,e){1&t&&(d.Pb(0,"div",0),d.wc(1,Me,2,1,"h2",1),d.wc(2,Ne,1,2,"app-view-description",2),d.wc(3,_e,1,1,"app-resource-unavailable",3),d.wc(4,Le,1,2,"app-notification-screen",4),d.wc(5,Ve,6,5,"div",5),d.Ob()),2&t&&(d.zb(1),d.gc("ngIf",e.title),d.zb(1),d.gc("ngIf",e.view),d.zb(1),d.gc("ngIf",e.isError),d.zb(1),d.gc("ngIf",e.notificationAvailable),d.zb(1),d.gc("ngIf",e.entry))},directives:[s.l,T.a,C.a,it.a,Mt.a,Nt.a,Qt,Vt.a,r.q,r.j,r.g,Fe],styles:[""]}),t})();var Ye=n("P2jk"),He=n("2Cyu");function Je(t,e){if(1&t&&d.Lb(0,"app-view-description",8),2&t){const t=d.ac();d.gc("view-type",t.view)("system-type",t.systemType)}}function Xe(t,e){if(1&t&&d.Lb(0,"app-resource-unavailable",9),2&t){const t=d.ac();d.gc("error",t.error)}}function Ze(t,e){if(1&t&&d.Lb(0,"app-request-entry-status",10),2&t){const t=d.ac();d.gc("system-type",t.systemType)("entry",t.entry)}}function tn(t,e){if(1&t&&(d.Nb(0),d.Pb(1,"p",18),d.Pb(2,"small"),d.Pb(3,"b",14),d.yc(4),d.Ob(),d.Ob(),d.Ob(),d.Mb()),2&t){const t=d.ac().$implicit;d.zb(4),d.zc(" ",null==t||null==t.author?null:t.author.full_name," ")}}function en(t,e){1&t&&(d.Pb(0,"p",18),d.Pb(1,"b",14),d.yc(2," Anonymous "),d.Ob(),d.Ob())}function nn(t,e){if(1&t&&(d.Nb(0),d.Pb(1,"p",19),d.Pb(2,"b",14),d.yc(3," Message : "),d.Ob(),d.yc(4),d.Ob(),d.Mb()),2&t){const t=d.ac().$implicit;d.zb(4),d.zc(" ",null==t?null:t.text," ")}}const sn=function(t,e,n,s){return[t,"t",e,"entry",n,"comment",s,"reply","add"]};function rn(t,e){if(1&t&&(d.Nb(0),d.Pb(1,"a",20),d.yc(2," Reply "),d.Ob(),d.Mb()),2&t){const t=d.ac(2).$implicit,e=d.ac(2);d.zb(1),d.hc("id",null==t?null:t.slug),d.gc("routerLink",d.oc(2,sn,e.isAdmin,e.rslug,null==e.entry?null:e.entry.slug,null==t?null:t.slug))}}function an(t,e){if(1&t&&(d.Nb(0),d.wc(1,rn,3,7,"ng-container",17),d.Mb()),2&t){const t=d.ac(),e=t.$implicit,n=t.index;d.zb(1),d.gc("ngIf",(null==e.replies||(null==e||null==e.replies?null:e.replies.length)<1)&&0!=n)}}function cn(t,e){if(1&t&&(d.Nb(0),d.Pb(1,"p"),d.Pb(2,"b",14),d.yc(3),d.Ob(),d.Pb(4,"small",15),d.yc(5),d.bc(6,"date"),d.Ob(),d.Ob(),d.Mb()),2&t){const t=d.ac().index,e=d.ac(2).$implicit;d.zb(3),d.zc(" ",t+1," "),d.zb(2),d.zc(" ",d.dc(6,2,null==e?null:e.updated_on,"longDate")," ")}}function on(t,e){if(1&t&&(d.Nb(0),d.Pb(1,"p",18),d.Pb(2,"small"),d.Pb(3,"b",14),d.yc(4),d.Ob(),d.Ob(),d.Ob(),d.Mb()),2&t){const t=d.ac().$implicit;d.zb(4),d.zc(" Author : ",null==t||null==t.author?null:t.author.full_name," ")}}function ln(t,e){1&t&&(d.Pb(0,"p",18),d.Pb(1,"small"),d.Pb(2,"b",14),d.yc(3," Anonymous "),d.Ob(),d.Ob(),d.Ob())}function un(t,e){if(1&t&&(d.Nb(0),d.Pb(1,"p",18),d.Pb(2,"small"),d.Pb(3,"b",14),d.yc(4," Handler : "),d.Ob(),d.yc(5),d.Ob(),d.Ob(),d.Mb()),2&t){const t=d.ac().$implicit;d.zb(5),d.zc("",null==t||null==t.entry_handler?null:t.entry_handler.full_name," ")}}function bn(t,e){if(1&t&&(d.Nb(0),d.Pb(1,"p",19),d.Pb(2,"b",14),d.yc(3," Message : "),d.Ob(),d.yc(4),d.bc(5,"replaceLineBreak"),d.Ob(),d.Mb()),2&t){const t=d.ac().$implicit;d.zb(4),d.Ac("",null!=t&&t.comment_author_name?"@"+(null==t?null:t.comment_author_name):""," ",d.cc(5,2,null==t?null:t.text)," ")}}function yn(t,e){if(1&t&&(d.Nb(0),d.Pb(1,"div",22),d.wc(2,cn,7,5,"ng-container",17),d.wc(3,on,5,1,"ng-container",5),d.wc(4,ln,4,0,"ng-template",null,23,d.xc),d.wc(6,un,6,1,"ng-container",17),d.wc(7,bn,6,4,"ng-container",17),d.Ob(),d.Mb()),2&t){const t=e.$implicit,n=d.qc(5),s=d.ac(2).$implicit;d.zb(2),d.gc("ngIf",s.updated_on),d.zb(1),d.gc("ngIf",null==t?null:t.author)("ngIfElse",n),d.zb(3),d.gc("ngIf",null==t?null:t.entry_handler),d.zb(1),d.gc("ngIf",null==t?null:t.text)}}function pn(t,e){if(1&t&&(d.Nb(0),d.Pb(1,"div",21),d.wc(2,yn,8,5,"ng-container",12),d.Ob(),d.Mb()),2&t){const t=d.ac().$implicit;d.zb(2),d.gc("ngForOf",null==t?null:t.replies)}}function gn(t,e){if(1&t&&(d.Nb(0),d.Pb(1,"div",13),d.Pb(2,"p"),d.Pb(3,"b",14),d.yc(4),d.Ob(),d.Pb(5,"small",15),d.yc(6),d.bc(7,"date"),d.Ob(),d.Ob(),d.wc(8,tn,5,1,"ng-container",5),d.wc(9,en,3,0,"ng-template",null,16,d.xc),d.wc(11,nn,5,1,"ng-container",17),d.wc(12,an,2,1,"ng-container",17),d.wc(13,pn,3,1,"ng-container",17),d.Ob(),d.Mb()),2&t){const t=e.$implicit,n=e.index,s=d.qc(10),r=d.ac(2);d.zb(4),d.zc(" ",n+1," "),d.zb(2),d.zc(" ",d.dc(7,7,null==t?null:t.updated_on,"longDate")," "),d.zb(2),d.gc("ngIf",null==t?null:t.author)("ngIfElse",s),d.zb(3),d.gc("ngIf",null==t?null:t.text),d.zb(1),d.gc("ngIf","Fulfilled"!=(null==r.entry?null:r.entry.status)&&"Rejected"!=(null==r.entry?null:r.entry.status)),d.zb(1),d.gc("ngIf",null!=(null==t?null:t.replies)&&(null==t||null==t.replies?null:t.replies.length)>0)}}function fn(t,e){if(1&t&&(d.Nb(0),d.Pb(1,"div",11),d.Pb(2,"h3"),d.yc(3," Timeline "),d.Ob(),d.wc(4,gn,14,10,"ng-container",12),d.Ob(),d.Mb()),2&t){const t=d.ac();d.zb(4),d.gc("ngForOf",t.comments)}}function hn(t,e){1&t&&(d.Pb(0,"div",11),d.Pb(1,"p"),d.yc(2," Comments entries not available for this entry. "),d.Ob(),d.Ob())}const dn=function(t,e,n){return[t,"t",e,"entry",n,"timeline"]};function mn(t,e){if(1&t&&(d.Nb(0),d.Pb(1,"a",25),d.yc(2," Timeline "),d.Ob(),d.Mb()),2&t){const t=d.ac(2);d.zb(1),d.gc("routerLink",d.nc(1,dn,t.isAdmin,t.rslug,null==t.entry?null:t.entry.slug))}}const wn=function(t,e,n){return[t,"t",e,"entry",n,"transfer"]};function On(t,e){if(1&t&&(d.Nb(0),d.Pb(1,"a",25),d.yc(2," Transfer or Move Request "),d.Ob(),d.Mb()),2&t){const t=d.ac(3);d.zb(1),d.gc("routerLink",d.nc(1,wn,t.isAdmin,t.rslug,null==t.entry?null:t.entry.slug))}}function vn(t,e){if(1&t&&(d.Nb(0),d.wc(1,On,3,5,"ng-container",17),d.Mb()),2&t){const t=d.ac(2);d.zb(1),d.gc("ngIf",t.canUpdateEntry)}}const Pn=function(t,e,n){return[t,"t",e,"entry",n,"comment","add"]};function zn(t,e){if(1&t&&(d.Nb(0),d.Pb(1,"a",25),d.yc(2," Add a Comment "),d.Ob(),d.Mb()),2&t){const t=d.ac(2);d.zb(1),d.gc("routerLink",d.nc(1,Pn,t.isAdmin,t.rslug,null==t.entry?null:t.entry.slug))}}const In=function(t,e,n){return[t,"t",e,"entry",n,"detail"]};function En(t,e){if(1&t&&(d.Pb(0,"div",24),d.wc(1,mn,3,5,"ng-container",17),d.wc(2,vn,2,1,"ng-container",17),d.wc(3,zn,3,5,"ng-container",17),d.Pb(4,"a",25),d.yc(5," Entry Detail "),d.Ob(),d.Ob()),2&t){const t=d.ac();d.zb(1),d.gc("ngIf","Pending"!=(null==t.entry?null:t.entry.status)),d.zb(1),d.gc("ngIf","Review"==(null==t.entry?null:t.entry.status)||"Update"==(null==t.entry?null:t.entry.status)),d.zb(1),d.gc("ngIf","Update"==(null==t.entry?null:t.entry.status)||"Transferred"==(null==t.entry?null:t.entry.status)),d.zb(1),d.gc("routerLink",d.nc(4,In,t.isAdmin,t.rslug,null==t.entry?null:t.entry.slug))}}let qn=(()=>{class t{constructor(t,e,n,s,r,i){this.router=t,this.route=e,this.grs=n,this.ns=s,this.ems=r,this.aus=i,this.isError=!1}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.timeline.systemType,this.title=t.timeline.title,this.view=t.timeline.view,this.viewWord=t.timeline.viewWord,this.link=t.timeline.link,this.grs.$systemType=this.systemType,this.route.paramMap.pipe(Object(R.a)(t=>{let e=t.get("entry"),n=t.get("request");return this.rslug=n,this.eslug=e,this.grs.getTimeline(n,e)})).subscribe(t=>{null==t?(this.isError=!0,this.error=Object.assign({resource:this.systemType+" Entry Timeline"},this.ems.message)):null!=t&&(this.entry=t,this.comments=t.timeline)})}get userRole(){return this.aus.userRole}get isAdmin(){return["moderator","administrator","superAdministrator"].indexOf(this.userRole),"/general-request"}get canUpdateEntry(){return st.indexOf(this.userRole)>-1}}return t.\u0275fac=function(e){return new(e||t)(d.Kb(p.d),d.Kb(p.a),d.Kb($),d.Kb(nt.a),d.Kb(w.a),d.Kb(K.a))},t.\u0275cmp=d.Eb({type:t,selectors:[["app-general-request-entry-timeline"]],features:[d.yb([nt.a,w.a])],decls:11,vars:6,consts:[["id","general-timeline"],["id","general-entry-details"],[3,"view-type","system-type",4,"ngIf"],[3,"error",4,"ngIf"],[3,"system-type","entry",4,"ngIf"],[4,"ngIf","ngIfElse"],["noComments",""],["id","entry-detail-options",4,"ngIf"],[3,"view-type","system-type"],[3,"error"],[3,"system-type","entry"],[1,"comments"],[4,"ngFor","ngForOf"],[1,"comment"],[1,"bold"],[1,"timestamp"],["anonymousTemplate",""],[4,"ngIf"],[1,"author"],[1,"text"],[1,"reply-add",3,"id","routerLink"],[1,"replies"],[1,"reply"],["anonymousTemplate1",""],["id","entry-detail-options"],[1,"center",3,"routerLink"]],template:function(t,e){if(1&t&&(d.Pb(0,"div",0),d.Pb(1,"div",1),d.Pb(2,"h2"),d.yc(3," Entry Detail "),d.Ob(),d.wc(4,Je,1,2,"app-view-description",2),d.wc(5,Xe,1,1,"app-resource-unavailable",3),d.wc(6,Ze,1,2,"app-request-entry-status",4),d.wc(7,fn,5,1,"ng-container",5),d.wc(8,hn,3,0,"ng-template",null,6,d.xc),d.Ob(),d.wc(10,En,6,8,"div",7),d.Ob()),2&t){const t=d.qc(9);d.zb(4),d.gc("ngIf",e.view),d.zb(1),d.gc("ngIf",e.isError),d.zb(1),d.gc("ngIf",e.entry),d.zb(1),d.gc("ngIf",null!=e.comments&&(null==e.comments?null:e.comments.length)>0)("ngIfElse",t),d.zb(3),d.gc("ngIf",e.entry)}},directives:[s.l,T.a,C.a,Ye.a,s.k,p.f],pipes:[s.d,He.a],styles:[".comment[_ngcontent-%COMP%]{border-bottom:1px solid #add8e6;padding:10px}.comment[_ngcontent-%COMP%]:hover{background-color:#fdfdfd}.comment[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:2em!important}.comment[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{font-style:italic;margin-left:2em;font-size:10px}.comment[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:11px;margin-right:10px}.comment[_ngcontent-%COMP%]   p.text[_ngcontent-%COMP%]{font-size:12px}.comment[_ngcontent-%COMP%]   a.reply-add[_ngcontent-%COMP%]{font-size:11px;background-color:#290140;color:#a0a7a0;padding:5px 15px;border-radius:6px;border:1.5px solid #ac4bd8}.comment[_ngcontent-%COMP%]   a.reply-add[_ngcontent-%COMP%]:hover{color:#fff;background-color:#210140}.replies[_ngcontent-%COMP%]{margin-left:30px}.reply[_ngcontent-%COMP%]{margin-top:20px}"]}),t})();var $n=n("eIaO"),Tn=n("7U3D"),Cn=n("x7qt");function kn(t,e){if(1&t&&(d.Pb(0,"h2"),d.yc(1),d.Ob()),2&t){const t=d.ac();d.zb(1),d.zc(" ",t.title," ")}}function Fn(t,e){if(1&t&&d.Lb(0,"app-resource-unavailable",3),2&t){const t=d.ac();d.gc("error",t.error)}}function Mn(t,e){if(1&t){const t=d.Qb();d.Nb(0),d.Pb(1,"app-entry-comment-create",4),d.Wb("processEntry",function(e){return d.rc(t),d.ac().createEntry(e)}),d.Ob(),d.Mb()}if(2&t){const t=d.ac();d.zb(1),d.gc("system-type",t.systemType)("view",t.view)("entry",t.entry)("entry-create-form",t.entryCreateForm)}}let Nn=(()=>{class t{constructor(t,e,n,s,r,i){this.route=t,this.router=e,this.grs=n,this.ccfs=s,this.ccs=r,this.ems=i,this.isError=!1}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.comment.systemType,this.title=t.comment.title,this.view=t.comment.view,this.link=t.comment.link,this.grs.$systemType=this.systemType,this.route.paramMap.pipe(Object(R.a)(t=>{let e=t.get("entry"),n=t.get("request");return this.rslug=n,this.eslug=e,this.grs.addComment(n,e)})).subscribe(t=>{null==t?(this.isError=!0,this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message)):null!=t&&1==t.permitted&&(this.entry=t.$data,this.entryCreateForm=this.ccfs.entryCreateForm())})}ngOnDestroy(){clearTimeout(this.entryCreateT)}createEntry(t){this.error=null,this.isError=!1,this.grs.addComment$(this.rslug,this.eslug,t).subscribe(t=>{null==t&&this.ccs.isEntryCreated.next(!1),null!=t&&1==t.updated&&(this.ccs.isEntryCreated.next(!0),this.entryChanges(t.$data))})}entryChanges(t){this.entryCreateT=setTimeout(()=>this.router.navigate(["general-request","t",this.rslug,"entries"]),5e3)}}return t.\u0275fac=function(e){return new(e||t)(d.Kb(p.a),d.Kb(p.d),d.Kb($),d.Kb($n.a),d.Kb(Tn.a),d.Kb(w.a))},t.\u0275cmp=d.Eb({type:t,selectors:[["app-general-request-create-comment"]],features:[d.yb([w.a])],decls:4,vars:3,consts:[["id","general-entry"],[4,"ngIf"],[3,"error",4,"ngIf"],[3,"error"],[3,"system-type","view","entry","entry-create-form","processEntry"]],template:function(t,e){1&t&&(d.Pb(0,"div",0),d.wc(1,kn,2,1,"h2",1),d.wc(2,Fn,1,1,"app-resource-unavailable",2),d.wc(3,Mn,2,4,"ng-container",1),d.Ob()),2&t&&(d.zb(1),d.gc("ngIf",e.title),d.zb(1),d.gc("ngIf",e.isError),d.zb(1),d.gc("ngIf",e.entryCreateForm))},directives:[s.l,C.a,Cn.a],styles:[""]}),t})();class _n{constructor(t){this.faculties=t.Faculty?t.Faculty:[],this.departments=t.Department?t.Department:[],this.units=t.Unit?t.Unit:[],this.levels=t.Level?t.Level:[],this.countries=t.Country?t.Country:[]}}function Ln(t,e){if(1&t&&(d.Pb(0,"li"),d.yc(1),d.Ob()),2&t){const t=d.ac(3);d.zb(1),d.zc(" Unit of ",t.systemType," should be provided and cannot be empty ")}}function jn(t,e){if(1&t&&(d.Pb(0,"li"),d.yc(1),d.Ob()),2&t){const t=d.ac(3);d.zb(1),d.zc(" Unit of ",t.systemType," cannot be greater than specified length ")}}function xn(t,e){if(1&t&&(d.Pb(0,"li"),d.yc(1),d.Ob()),2&t){const t=d.ac(3);d.zb(1),d.zc(" Unit of ",t.systemType," should be available from existing record before it can be considered valid ")}}function An(t,e){if(1&t&&(d.Pb(0,"div",2),d.Pb(1,"ul"),d.wc(2,Ln,2,1,"li",0),d.wc(3,jn,2,1,"li",0),d.wc(4,xn,2,1,"li",0),d.Ob(),d.Ob()),2&t){const t=d.ac(2);d.gc("@fadeAnimation",void 0),d.zb(2),d.gc("ngIf",null==t.unit.errors?null:t.unit.errors.required),d.zb(1),d.gc("ngIf",(null==t.unit.errors?null:t.unit.errors.required)||(null==t.unit.errors?null:t.unit.errors.max)),d.zb(1),d.gc("ngIf",null==t.unit.errors?null:t.unit.errors.Unit)}}function Rn(t,e){if(1&t&&(d.Nb(0),d.wc(1,An,5,4,"div",1),d.Mb()),2&t){const t=d.ac();d.zb(1),d.gc("ngIf",t.unit.invalid&&(t.unit.touched||t.unit.dirty))}}let Sn=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Eb({type:t,selectors:[["app-general-request-entry-transfer-validator"]],inputs:{systemType:"systemType",unit:"unit"},decls:1,vars:1,consts:[[4,"ngIf"],["class","validation-error",4,"ngIf"],[1,"validation-error"]],template:function(t,e){1&t&&d.wc(0,Rn,2,1,"ng-container",0),2&t&&d.gc("ngIf",e.unit)},directives:[s.l],styles:[""],data:{animation:[h.a]}}),t})();function Kn(t,e){if(1&t&&d.Lb(0,"app-view-description",5),2&t){const t=d.ac();d.gc("view-type",t.view)("system-type",t.systemType)}}function Dn(t,e){if(1&t&&d.Lb(0,"app-resource-unavailable",6),2&t){const t=d.ac();d.gc("error",t.error)}}function Un(t,e){if(1&t){const t=d.Qb();d.Pb(0,"app-notification-screen",7),d.Wb("finished",function(){return d.rc(t),d.ac().removeNotification()}),d.Ob()}if(2&t){const t=d.ac();d.gc("notified",t.notificationAvailable)("message",t.notificationMessage)}}function Wn(t,e){if(1&t&&d.Lb(0,"app-request-entry-detail",11),2&t){const t=d.ac(2);d.gc("entry",t.entry)}}function Gn(t,e){if(1&t&&(d.Pb(0,"option",23),d.yc(1),d.Ob()),2&t){const t=e.$implicit;d.gc("value",t._id),d.zb(1),d.zc(" ",t.name," ")}}function Qn(t,e){if(1&t&&(d.Nb(0),d.Pb(1,"div",17),d.Pb(2,"label",18),d.yc(3," Set Request new Unit or Office * : "),d.Ob(),d.Pb(4,"select",19),d.Lb(5,"option",20),d.wc(6,Gn,2,2,"option",21),d.Ob(),d.Lb(7,"app-general-request-entry-transfer-validator",22),d.Ob(),d.Mb()),2&t){const t=d.ac(4);d.zb(6),d.gc("ngForOf",null==t.generalOthers?null:t.generalOthers.units),d.zb(1),d.gc("unit",t.unit)}}function Vn(t,e){if(1&t&&(d.Pb(0,"div",17),d.Pb(1,"label",24),d.yc(2," Message "),d.Ob(),d.Pb(3,"textarea",25),d.yc(4," "),d.Ob(),d.Lb(5,"app-request-entry-update-validator",26),d.Ob()),2&t){const t=d.ac(4);d.zb(5),d.gc("text",t.text)}}const Bn=function(t){return{disabled:t}};function Yn(t,e){if(1&t&&(d.Pb(0,"button",27),d.yc(1," Submit "),d.Ob()),2&t){const t=d.ac(4);d.Bb(d.lc(3,Bn,!t.isFormValid)),d.gc("disabled",!t.isFormValid)}}function Hn(t,e){1&t&&(d.Pb(0,"p"),d.yc(1," Your form is being processed. Please kindly be patient and wait while it completes. "),d.Ob())}function Jn(t,e){if(1&t){const t=d.Qb();d.Nb(0),d.Pb(1,"div",12),d.Pb(2,"h3",13),d.yc(3," Request Options "),d.Ob(),d.Pb(4,"form",14),d.Wb("ngSubmit",function(){d.rc(t);const e=d.ac(3);return e.updateEntry(e.entryForm.value)}),d.wc(5,Qn,8,2,"ng-container",10),d.wc(6,Vn,6,1,"div",15),d.wc(7,Yn,2,5,"button",16),d.wc(8,Hn,2,0,"p",10),d.Ob(),d.Ob(),d.Mb()}if(2&t){const t=d.ac(3);d.zb(4),d.gc("formGroup",t.entryForm),d.zb(1),d.gc("ngIf",t.generalOthers&&null!=(null==t.generalOthers?null:t.generalOthers.units)&&(null==t.generalOthers||null==t.generalOthers.units?null:t.generalOthers.units.length)>0),d.zb(1),d.gc("ngIf",t.text),d.zb(1),d.gc("ngIf",!t.isFormProcessing),d.zb(1),d.gc("ngIf",t.isFormSubmitted)}}function Xn(t,e){if(1&t&&(d.Nb(0),d.wc(1,Jn,9,5,"ng-container",10),d.Mb()),2&t){const t=d.ac(2);d.zb(1),d.gc("ngIf",t.canUpdateEntry)}}function Zn(t,e){if(1&t&&(d.Pb(0,"div",8),d.wc(1,Wn,1,1,"app-request-entry-detail",9),d.wc(2,Xn,2,1,"ng-container",10),d.Ob()),2&t){const t=d.ac();d.zb(1),d.gc("ngIf",t.entry),d.zb(1),d.gc("ngIf",t.entry&&"Pending"!=(null==t.entry?null:t.entry.status)&&"Fulfilled"!=(null==t.entry?null:t.entry.status)&&"Rejected"!=(null==t.entry?null:t.entry.status))}}let ts=(()=>{class t{constructor(t,e,n,s,r,i,a){this.router=t,this.route=e,this.grs=n,this.ns=s,this.grfs=r,this.ems=i,this.aus=a,this.isError=!1,this.isFormSubmitted=!1,this.isFormProcessing=!1}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.transfer.systemType,this.title=t.transfer.title,this.view=t.transfer.view,this.viewWord=t.transfer.viewWord,this.link=t.transfer.link,this.grs.$systemType=this.systemType,this.route.paramMap.pipe(Object(R.a)(t=>{let e=t.get("request"),n=t.get("entry");return this.eslug=n,this.rslug=e,this.grs.transferEntry(e,n)})).subscribe(t=>{null==t?(this.isError=!0,this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message)):null!=t&&1==t.permitted&&(this.entry=t.$data.Entry,this.generalOthers=null!=t.$data?new _n(t.$data):{},this.entryForm=this.grfs.entryTransferForm(),this.grfs.createPermanent(t.$data.Unit,this.entryForm))})}ngOnDestroy(){clearTimeout(this.entryChangesT)}updateEntry(t){this.error=null,this.isError=!1,this.isFormProcessing=!0,this.isFormSubmitted=!0,this.grs.transferEntry$(this.rslug,this.eslug,t).subscribe(t=>{if(null==t)this.isFormSubmitted=!1,this.isFormProcessing=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and ${this.systemType} Entry is not updated.`);else if(null!=t&&t.updated)return this.isFormSubmitted=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and ${this.systemType} Entry is updated and transferred.`),this.entryChanges(t.$data)})}entryChanges(t){this.entryChangesT=setTimeout(()=>this.router.navigate(["general-request","t",this.rslug,"entries"]),5e3)}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}get userRole(){return this.aus.userRole}get isFormValid(){return this.entryForm.valid}get canUpdateEntry(){return st.indexOf(this.userRole)>-1}get text(){return this.entryForm.get("text")}get unit(){return this.entryForm.get("unit")}removeNotification(){this.ns.removeNotification()}}return t.\u0275fac=function(e){return new(e||t)(d.Kb(p.d),d.Kb(p.a),d.Kb($),d.Kb(nt.a),d.Kb(Ft),d.Kb(w.a),d.Kb(K.a))},t.\u0275cmp=d.Eb({type:t,selectors:[["app-general-request-entry-transfer"]],features:[d.yb([nt.a,w.a])],decls:7,vars:5,consts:[["id","entry-view"],[3,"view-type","system-type",4,"ngIf"],[3,"error",4,"ngIf"],[3,"notified","message","finished",4,"ngIf"],["id","request-entry-detail",4,"ngIf"],[3,"view-type","system-type"],[3,"error"],[3,"notified","message","finished"],["id","request-entry-detail"],[3,"entry",4,"ngIf"],[4,"ngIf"],[3,"entry"],["id","transfer-form"],[1,"center"],["method","post",3,"formGroup","ngSubmit"],["class","form-group",4,"ngIf"],["type","submit","class","btn-submit",3,"class","disabled",4,"ngIf"],[1,"form-group"],["for","unit",1,"form-label","bold"],["name","unit","id","unit","required","required","formControlName","unit",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"unit"],[3,"value"],["for","text",1,"form-label","bold"],["name","text","id","text","formControlName","text"],[3,"text"],["type","submit",1,"btn-submit",3,"disabled"]],template:function(t,e){1&t&&(d.Pb(0,"div",0),d.Pb(1,"h2"),d.yc(2),d.Ob(),d.wc(3,Kn,1,2,"app-view-description",1),d.wc(4,Dn,1,1,"app-resource-unavailable",2),d.wc(5,Un,1,2,"app-notification-screen",3),d.wc(6,Zn,3,2,"div",4),d.Ob()),2&t&&(d.zb(2),d.zc(" ",e.systemType," Entry "),d.zb(1),d.gc("ngIf",e.view),d.zb(1),d.gc("ngIf",e.isError),d.zb(1),d.gc("ngIf",e.notificationAvailable),d.zb(1),d.gc("ngIf",e.entry))},directives:[s.l,T.a,C.a,it.a,Mt.a,r.q,r.j,r.g,r.n,r.m,r.i,r.e,r.k,r.p,s.k,Sn,r.a,Bt.a],styles:[""]}),t})();var es=n("41Vw"),ns=n("Mwf2"),ss=n("zki3");function rs(t,e){if(1&t&&(d.Pb(0,"h2"),d.yc(1),d.Ob()),2&t){const t=d.ac();d.zb(1),d.zc(" ",t.title," ")}}function is(t,e){if(1&t&&d.Lb(0,"app-resource-unavailable",3),2&t){const t=d.ac();d.gc("error",t.error)}}function as(t,e){if(1&t){const t=d.Qb();d.Nb(0),d.Pb(1,"app-entry-reply-create",4),d.Wb("processEntry",function(e){return d.rc(t),d.ac().createEntry(e)}),d.Ob(),d.Mb()}if(2&t){const t=d.ac();d.zb(1),d.gc("system-type",t.systemType)("view",t.view)("entry",t.entry)("comment",t.comment)("entry-create-form",t.entryCreateForm)}}let cs=(()=>{class t{constructor(t,e,n,s,r,i){this.route=t,this.router=e,this.grs=n,this.rcfs=s,this.rcs=r,this.ems=i,this.isError=!1}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.reply.systemType,this.title=t.reply.title,this.view=t.reply.view,this.link=t.reply.link,this.grs.$systemType=this.systemType,this.route.paramMap.pipe(Object(R.a)(t=>{let e=t.get("request"),n=t.get("entry"),s=t.get("comment");return this.rslug=e,this.eslug=n,this.cslug=s,this.grs.addReply(e,n,s)})).subscribe(t=>{null==t?(this.isError=!0,this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message)):null!=t&&1==t.permitted&&(this.entry=t.$data.Entry,this.comment=t.$data.Comment,this.entryCreateForm=this.rcfs.entryCreateForm(),this.entryCreateForm.patchValue({comment_author_name:this.comment.author.full_name}))})}ngOnDestroy(){clearTimeout(this.entryCreatedT)}createEntry(t){this.error=null,this.isError=!1,this.grs.addReply$(this.rslug,this.eslug,this.cslug,t).subscribe(t=>{null==t&&this.rcs.isEntryCreated.next(!1),null!=t&&1==t.updated&&(this.rcs.isEntryCreated.next(!0),this.entryChanges(t.$data))})}entryChanges(t){this.entryCreatedT=setTimeout(()=>this.router.navigate(["general-request","t",this.rslug,"entries"]),5e3)}}return t.\u0275fac=function(e){return new(e||t)(d.Kb(p.a),d.Kb(p.d),d.Kb($),d.Kb(es.a),d.Kb(ns.a),d.Kb(w.a))},t.\u0275cmp=d.Eb({type:t,selectors:[["app-general-request-create-reply"]],features:[d.yb([w.a])],decls:4,vars:3,consts:[["id","general-entry"],[4,"ngIf"],[3,"error",4,"ngIf"],[3,"error"],[3,"system-type","view","entry","comment","entry-create-form","processEntry"]],template:function(t,e){1&t&&(d.Pb(0,"div",0),d.wc(1,rs,2,1,"h2",1),d.wc(2,is,1,1,"app-resource-unavailable",2),d.wc(3,as,2,5,"ng-container",1),d.Ob()),2&t&&(d.zb(1),d.gc("ngIf",e.title),d.zb(1),d.gc("ngIf",e.isError),d.zb(1),d.gc("ngIf",e.entryCreateForm))},directives:[s.l,C.a,ss.a],styles:[""]}),t})();var os=n("1B5t");function ls(t,e){if(1&t&&(d.Pb(0,"h2"),d.yc(1),d.Ob()),2&t){const t=d.ac();d.zb(1),d.zc(" ",t.title," ")}}function us(t,e){if(1&t&&d.Lb(0,"app-view-description",6),2&t){const t=d.ac();d.gc("system-type",t.systemType)("view-type",t.view)}}function bs(t,e){if(1&t){const t=d.Qb();d.Pb(0,"app-notification-screen",7),d.Wb("finished",function(){return d.rc(t),d.ac().removeNotification()}),d.Ob()}if(2&t){const t=d.ac();d.gc("notified",t.notificationAvailable)("message",t.notificationMessage)}}function ys(t,e){if(1&t&&d.Lb(0,"app-resource-unavailable",8),2&t){const t=d.ac();d.gc("error",t.error)}}function ps(t,e){if(1&t&&d.Lb(0,"app-delete-all-entry",12),2&t){const t=d.ac(2);d.gc("system-type",t.systemType)}}function gs(t,e){if(1&t){const t=d.Qb();d.Pb(0,"button",13),d.Wb("click",function(){return d.rc(t),d.ac(2).deleteAllEntry()}),d.yc(1," Confirm "),d.Ob()}}function fs(t,e){1&t&&(d.Pb(0,"p"),d.yc(1," Your form is being processed. Please kindly be patient and wait while it completes. "),d.Ob())}function hs(t,e){if(1&t&&(d.Pb(0,"div",9),d.wc(1,ps,1,1,"app-delete-all-entry",10),d.wc(2,gs,2,0,"button",11),d.wc(3,fs,2,0,"p",1),d.Ob()),2&t){const t=d.ac();d.zb(1),d.gc("ngIf",t.systemType),d.zb(1),d.gc("ngIf",!t.isFormProcessing),d.zb(1),d.gc("ngIf",t.isFormSubmitted)}}let ds=(()=>{class t{constructor(t,e,n,s,r){this.route=t,this.router=e,this.grs=n,this.ems=s,this.ns=r,this.isError=!1,this.isFormSubmitted=!1,this.isFormProcessing=!1,this.canDelete=!1}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.deleteAll.systemType,this.viewWord=t.deleteAll.viewWord,this.title=t.deleteAll.title,this.view=t.deleteAll.view,this.link=t.deleteAll.link,this.route.paramMap.pipe(Object(R.a)(t=>{let e=t.get("request");return this.rslug=e,this.grs.deleteAllEntry(e)})).subscribe(t=>{null==t?(this.canDelete=!1,this.isError=!0,this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message)):null!=t&&t.length>0&&(this.canDelete=!0)})}ngOnDestroy(){clearTimeout(this.entryChangesT)}deleteAllEntry(){if(!confirm("Are you sure you want to proceed with this action?"))return!1;this.grs.$systemType=this.systemType,this.isFormSubmitted=!0,this.error=null,this.isError=!1,this.isFormProcessing=!0,this.grs.deleteAllEntry$(this.rslug).subscribe(t=>{if(null==t)return this.isFormSubmitted=!1,this.isFormProcessing=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and all ${this.systemType} entry is not deleted.`),this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message);this.isFormSubmitted=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and all ${this.systemType} entry is deleted.`),this.$entryChanges({})})}$entryChanges(t){this.entryChangesT=setTimeout(()=>this.router.navigate(["system","general-request"]),5e3)}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}removeNotification(){this.ns.removeNotification()}}return t.\u0275fac=function(e){return new(e||t)(d.Kb(p.a),d.Kb(p.d),d.Kb($),d.Kb(w.a),d.Kb(nt.a))},t.\u0275cmp=d.Eb({type:t,selectors:[["app-general-request-entry-delete-all"]],features:[d.yb([nt.a,w.a])],decls:6,vars:5,consts:[["id","entry-delete-all"],[4,"ngIf"],[3,"system-type","view-type",4,"ngIf"],[3,"notified","message","finished",4,"ngIf"],[3,"error",4,"ngIf"],["id","entry-detail",4,"ngIf"],[3,"system-type","view-type"],[3,"notified","message","finished"],[3,"error"],["id","entry-detail"],[3,"system-type",4,"ngIf"],["class","btn-submit","type","submit",3,"click",4,"ngIf"],[3,"system-type"],["type","submit",1,"btn-submit",3,"click"]],template:function(t,e){1&t&&(d.Pb(0,"div",0),d.wc(1,ls,2,1,"h2",1),d.wc(2,us,1,2,"app-view-description",2),d.wc(3,bs,1,2,"app-notification-screen",3),d.wc(4,ys,1,1,"app-resource-unavailable",4),d.wc(5,hs,4,3,"div",5),d.Ob()),2&t&&(d.zb(1),d.gc("ngIf",e.title),d.zb(1),d.gc("ngIf",e.view),d.zb(1),d.gc("ngIf",e.notificationAvailable),d.zb(1),d.gc("ngIf",e.error),d.zb(1),d.gc("ngIf",e.canDelete))},directives:[s.l,T.a,it.a,C.a,os.a],styles:[""]}),t})(),ms={systemType:"General Request",title:"General Request",view:"gr",viewWord:"GeneralRequest",link:"general-request",$link:"general-request",systemGuideline:"request",base:"general-request"};const ws={dashboard:Object.assign({},ms),create:Object.assign(Object.assign({},ms),{title:"Request review of your semester "+ms.systemType}),comment:Object.assign(Object.assign({},ms),{title:`Add a Comment : ${ms.systemType} Entry`}),detail:Object.assign(Object.assign({},ms),{title:ms.systemType+" Entry",generateCred:null}),timeline:Object.assign(Object.assign({},ms),{title:ms.systemType+" Entry Timeline"}),transfer:Object.assign(Object.assign({},ms),{title:`Transfer and Move ${ms.systemType} Entry`}),entries:Object.assign(Object.assign({},ms),{title:ms.systemType+" Entries",searchFilters:{application_number:"Application Number",status:"Status"}}),reply:Object.assign(Object.assign({},ms),{title:`Add a Reply to a Comment : ${ms.systemType} Entry`}),deleteAll:Object.assign(Object.assign({},ms),{title:ms.systemType+" Entries : Delete All"})},Os=[{path:"",component:m,canActivate:[g.a],canLoad:[g.a],children:[{path:"",canActivateChild:[g.a],children:[{path:"",component:A,data:{dashboard:ws.dashboard}},{path:"t/:request",component:Z,data:{dashboard:ws.dashboard}},{path:"t/:request/entries",component:Ct,data:{entries:ws.entries}},{path:"t/:request/entry/create",loadChildren:()=>Promise.all([n.e(9),n.e(3),n.e(25)]).then(n.bind(null,"5dIA")).then(t=>t.GeneralRequestEntryCreateModule)},{path:"t/:request/entry/:entry/detail",component:Be,data:{detail:ws.detail}},{path:"t/:request/entry/:entry/timeline",component:qn,data:{timeline:ws.timeline}},{path:"t/:request/entry/:entry/transfer",component:ts,data:{transfer:ws.transfer}},{path:"t/:request/entry/:entry/comment/add",component:Nn,data:{comment:ws.comment}},{path:"t/:request/entry/:entry/comment/:comment/reply/add",component:cs,data:{reply:ws.reply}},{path:"t/:request/entry/delete/all",component:ds,canActivate:[f.a],data:{deleteAll:ws.deleteAll}}]}]}];let vs=(()=>{class t{}return t.\u0275mod=d.Ib({type:t}),t.\u0275inj=d.Hb({factory:function(e){return new(e||t)},imports:[[p.g.forChild(Os)],p.g]}),t})(),Ps=(()=>{class t{}return t.\u0275mod=d.Ib({type:t}),t.\u0275inj=d.Hb({factory:function(e){return new(e||t)},providers:[$,Ft,Yt],imports:[[s.b,vs,r.l,i.a,b.a,o.a,l.a,u.a,a.a,c.a,y.a]]}),t})()}}]);