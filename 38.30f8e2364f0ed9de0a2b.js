(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{hPJy:function(t,e,i){"use strict";i.r(e),i.d(e,"MiscRequestEntryCreateModule",function(){return _});var n=i("Yvf7"),r=i("8VHZ"),s=i("hxwH"),o=i("0FyI"),a=i("Ub9n");let c=(()=>{class t{}return t.\u0275mod=a.Ib({type:t}),t.\u0275inj=a.Hb({factory:function(e){return new(e||t)},imports:[[n.b,r.n]]}),t})();var l=i("Fk62"),u=i("jiyY");let y=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Eb({type:t,selectors:[["app-mr-entry-create-homepage"]],decls:1,vars:0,template:function(t,e){1&t&&a.Lb(0,"router-outlet")},directives:[l.h],styles:[""]}),t})(),p=[{label:"Photo I",key:"photos",accepts:"image/*",controlType:"file"},{label:"Photo II",key:"photos",accepts:"image/*",controlType:"file"},{label:"Photo III",key:"photos",accepts:"image/*",controlType:"file"},{label:"Photo IV",key:"photos",accepts:"image/*",controlType:"file"}],f={add:"user-upload/entry/create",remove:"o/photo",sign:"o/sign/photo"};var h=i("EUGn"),d=i("9nlD"),m=i("jV/k"),b=i("vfyW"),g=i("XRyL"),v=i("O6Zd"),T=i("oECA"),I=i("VcWf"),E=i("FBrc");let O=(()=>{class t{constructor(t,e,i){this.http=t,this.apiConfig=e,this.ems=i,this.$systemType="Misc Request",this.$sa="misc-request"}addEntry(){return this.http.get(`${this.apiConfig.host}/${this.$sa}/entry/create`).pipe(Object(b.a)(t=>console.log(t)),Object(g.a)(2e3),Object(v.a)(t=>({permitted:!0,$data:t})),Object(T.a)(this.handleError(this.$systemType+" Entry",null)))}addEntry$(t){return this.http.post(`${this.apiConfig.host}/${this.$sa}/entry/create`,t).pipe(Object(b.a)(t=>console.log(t)),Object(v.a)(t=>({created:!0,$data:t})),Object(T.a)(this.handleError(this.$systemType+" Entry",null)))}handleError(t="operation",e){return t=>(this.ems.message=t,Object(m.a)(e))}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(E.b),a.Tb(I.b),a.Tb(h.a))},t.\u0275prov=a.Gb({token:t,factory:t.\u0275fac}),t})(),C=(()=>{class t{constructor(t){this.fb=t,this.permanentData={},this.otherCtrls={text:[r.q.required,r.q.max(1e3)],title:[r.q.required,r.q.minLength(3),r.q.maxLength(150)]}}getMyData(t){return this.permanentData[t]}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(r.c))},t.\u0275prov=a.Gb({token:t,factory:t.\u0275fac}),t})();var q=i("5bm+"),w=i("WEao"),z=i("uMT1"),P=i("TY4h"),k=i("Rxsk"),$=i("wczn"),L=i("J1Ni");function j(t,e){if(1&t&&(a.Pb(0,"li"),a.xc(1),a.Ob()),2&t){const t=a.ac(3);a.zb(1),a.yc(" Title of ",t.systemType," should be provided and cannot be empty ")}}function F(t,e){if(1&t&&(a.Pb(0,"li"),a.xc(1),a.Ob()),2&t){const t=a.ac(3);a.zb(1),a.yc(" Title of ",t.systemType," cannot be less than 3 characters in length ")}}function M(t,e){if(1&t&&(a.Pb(0,"li"),a.xc(1),a.Ob()),2&t){const t=a.ac(3);a.zb(1),a.yc(" Title of ",t.systemType," cannot be greater than 150 characters in length ")}}function x(t,e){if(1&t&&(a.Pb(0,"div",2),a.Pb(1,"ul"),a.vc(2,j,2,1,"li",0),a.vc(3,F,2,1,"li",0),a.vc(4,M,2,1,"li",0),a.Ob(),a.Ob()),2&t){const t=a.ac(2);a.gc("@fadeAnimation",void 0),a.zb(2),a.gc("ngIf",null==t.title.errors?null:t.title.errors.required),a.zb(1),a.gc("ngIf",(null==t.title.errors?null:t.title.errors.required)||(null==t.title.errors?null:t.title.errors.minlength)),a.zb(1),a.gc("ngIf",(null==t.title.errors?null:t.title.errors.required)||(null==t.title.errors?null:t.title.errors.maxlength))}}function N(t,e){if(1&t&&(a.Nb(0),a.vc(1,x,5,4,"div",1),a.Mb()),2&t){const t=a.ac();a.zb(1),a.gc("ngIf",t.title.invalid&&(t.title.touched||t.title.dirty))}}let A=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Eb({type:t,selectors:[["app-request-entry-form-input-validator"]],inputs:{systemType:["system-type","systemType"],title:"title"},decls:1,vars:1,consts:[[4,"ngIf"],["class","validation-error",4,"ngIf"],[1,"validation-error"]],template:function(t,e){1&t&&a.vc(0,N,2,1,"ng-container",0),2&t&&a.gc("ngIf",e.title)},directives:[n.l],styles:[""],data:{animation:[L.a]}}),t})();function G(t,e){if(1&t&&a.Lb(0,"app-request-entry-form-input-validator",6),2&t){const t=a.ac(3);a.gc("system-type",t.systemType)("title",t.title)}}function K(t,e){if(1&t&&(a.Nb(0),a.Pb(1,"div",2),a.Pb(2,"label",3),a.xc(3," Title * : "),a.Ob(),a.Lb(4,"input",4),a.vc(5,G,1,2,"app-request-entry-form-input-validator",5),a.Ob(),a.Mb()),2&t){const t=a.ac(2);a.zb(4),a.gc("placeholder",null==t.placeholder?null:t.placeholder.title)("readOnly",t.noEdit),a.zb(1),a.gc("ngIf",t.title)}}function R(t,e){if(1&t&&(a.Pb(0,"div"),a.Pb(1,"div",1),a.vc(2,K,6,3,"ng-container",0),a.ec(3),a.Ob(),a.Ob()),2&t){const t=a.ac();a.gc("@fadeAnimation",void 0),a.zb(1),a.gc("formGroup",t.entryForm),a.zb(1),a.gc("ngIf",t.title)}}const V=["*"];let W=(()=>{class t{constructor(){}ngOnInit(){}get title(){return this.entryForm.get("title")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Eb({type:t,selectors:[["app-request-entry-form-input"]],inputs:{systemType:["system-type","systemType"],entryForm:["entry-form","entryForm"],eothers:["e-others","eothers"],placeholder:"placeholder",noEdit:["no-edit","noEdit"]},ngContentSelectors:V,decls:1,vars:1,consts:[[4,"ngIf"],[3,"formGroup"],[1,"form-group"],["for","title",1,"form-label","bold"],["type","text","id","title","required","required","name","title","formControlName","title",1,"form-control",3,"placeholder","readOnly"],[3,"system-type","title",4,"ngIf"],[3,"system-type","title"]],template:function(t,e){1&t&&(a.fc(),a.vc(0,R,4,3,"div",0)),2&t&&a.gc("ngIf",!0)},directives:[n.l,r.l,r.h,r.b,r.o,r.k,r.f,A],styles:[""],data:{animation:[L.a]}}),t})();function D(t,e){if(1&t&&(a.Pb(0,"h2"),a.xc(1),a.Ob()),2&t){const t=a.ac();a.zb(1),a.yc(" ",t.title," ")}}function H(t,e){if(1&t&&a.Lb(0,"app-resource-unavailable",5),2&t){const t=a.ac();a.gc("error",t.error)}}function S(t,e){if(1&t){const t=a.Qb();a.Pb(0,"app-notification-screen",6),a.Wb("finished",function(){return a.rc(t),a.ac().removeNotification()}),a.Ob()}if(2&t){const t=a.ac();a.gc("notified",t.notificationAvailable)("message",t.notificationMessage)}}function J(t,e){if(1&t){const t=a.Qb();a.Nb(0),a.Pb(1,"app-request-entry-create",7),a.Wb("processEntry",function(e){return a.rc(t),a.ac(2).createEntry(e)}),a.Lb(2,"app-request-entry-form-input",8),a.Ob(),a.Mb()}if(2&t){const t=a.ac(2);a.zb(1),a.gc("system-type",t.systemType)("system-guideline",t.systemGuideline)("view",t.view)("input-file-control",t.fileControl)("attachment-config",t.attachmentConfig)("entry-create-form",t.entryCreateForm)("upload-config-u",t.uploadConfig),a.zb(1),a.gc("system-type",t.systemType)("entry-form",t.entryCreateForm)("no-edit",!1)("placeholder",t.placeholder)}}function Y(t,e){if(1&t&&(a.Nb(0),a.vc(1,J,3,11,"ng-container",1),a.Mb()),2&t){const t=a.ac();a.zb(1),a.gc("ngIf",!t.isLoading)}}let Q=(()=>{class t{constructor(t,e,i,n,r,s,o,a){this.route=t,this.router=e,this.mrecs=i,this.mrecfs=n,this.ns=r,this.recfs=s,this.recs=o,this.ems=a,this.isError=!1,this.fileControl=p,this.uploadConfig=f,this.placeholder=null,this.attachmentConfig={name:"Image",type:"image"},this.isLoading=!1}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.create.systemType,this.systemGuideline=t.create.systemGuideline,this.title=t.create.title,this.view=t.create.view,this.link=t.create.link,this.placeholder=t.create.placeholder,this.mrecs.$systemType=this.systemType,this.isLoading=!0,this.mrecs.addEntry().subscribe(t=>{null==t?(this.isLoading=!1,this.isError=!0,this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message)):null!=t&&1==t.permitted&&(this.isLoading=!1,this.entryCreateForm=this.recfs.entryCreateForm(),this.entryCreateForm.addControl("title",new r.d("",this.mrecfs.otherCtrls.title)),this.entryCreateForm.updateValueAndValidity(),console.log(this.entryCreateForm))})}ngOnDestroy(){clearTimeout(this.entryCreateT)}createEntry(t){this.error=null,this.isError=!1,this.mrecs.addEntry$(t).subscribe(t=>{null==t?(this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and ${this.systemType} Entry is not created.`),this.recs.isEntryCreated.next(!1)):null!=t&&1==t.created&&(this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and ${this.systemType} Entry is created.`),this.isLoading=!0,this.recs.isEntryCreated.next(!0),this.entryChanges(t))})}entryChanges(t){this.entryCreateT=setTimeout(()=>this.router.navigate(t&&t.slug?[this.link]:[this.link,"entries"]),5e3)}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}removeNotification(){this.ns.removeNotification()}}return t.\u0275fac=function(e){return new(e||t)(a.Kb(l.a),a.Kb(l.e),a.Kb(O),a.Kb(C),a.Kb(d.a),a.Kb(q.a),a.Kb(w.a),a.Kb(h.a))},t.\u0275cmp=a.Eb({type:t,selectors:[["app-mr-entry-create"]],features:[a.yb([h.a,d.a])],decls:6,vars:5,consts:[["id","entry-create"],[4,"ngIf"],[3,"error",4,"ngIf"],[3,"notified","message","finished",4,"ngIf"],[3,"is-loading"],[3,"error"],[3,"notified","message","finished"],[3,"system-type","system-guideline","view","input-file-control","attachment-config","entry-create-form","upload-config-u","processEntry"],[3,"system-type","entry-form","no-edit","placeholder"]],template:function(t,e){1&t&&(a.Pb(0,"div",0),a.vc(1,D,2,1,"h2",1),a.vc(2,H,1,1,"app-resource-unavailable",2),a.vc(3,S,1,2,"app-notification-screen",3),a.vc(4,Y,2,1,"ng-container",1),a.Ob(),a.Lb(5,"app-loading-menu",4)),2&t&&(a.zb(1),a.gc("ngIf",e.title),a.zb(1),a.gc("ngIf",e.isError),a.zb(1),a.gc("ngIf",e.notificationAvailable),a.zb(1),a.gc("ngIf",e.entryCreateForm),a.zb(1),a.gc("is-loading",e.isLoading))},directives:[n.l,z.a,P.a,k.a,$.a,W],styles:[""]}),t})(),U={systemType:"Misc Request",title:"Misc Request",view:"acr",viewWord:"MiscRequest",link:"misc-request",$link:"misc-request",systemGuideline:"general",base:"misc-request"};const Z={create:Object.assign(Object.assign({},U),{title:U.systemType+" Entry Create",placeholder:{title:"Post Graduate Studies Admission Process"}})},B=[{path:"",component:y,canActivate:[u.a],canLoad:[u.a],children:[{path:"",canActivateChild:[u.a],children:[{path:"",component:Q,data:{create:Z.create}}]}]}];let X=(()=>{class t{}return t.\u0275mod=a.Ib({type:t}),t.\u0275inj=a.Hb({factory:function(e){return new(e||t)},imports:[[l.g.forChild(B)],l.g]}),t})(),_=(()=>{class t{}return t.\u0275mod=a.Ib({type:t}),t.\u0275inj=a.Hb({factory:function(e){return new(e||t)},providers:[O,C],imports:[[n.b,r.n,X,o.a,c,s.a]]}),t})()}}]);