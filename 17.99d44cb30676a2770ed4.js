(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"/zEo":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("Ub9n"),i=n("9Ku7"),s=n("Fk62");let a=(()=>{class e{constructor(e,t){this.aus=e,this.router=t}canActivate(e,t){return this.isSuperAdministrator()}isSuperAdministrator(){return!!this.aus.isSuperAdministrator||this.router.parseUrl("/unauthorized")}canActivateChild(e,t){return this.isSuperAdministrator()}}return e.\u0275fac=function(t){return new(t||e)(r.Tb(i.a),r.Tb(s.d))},e.\u0275prov=r.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"9Xeq":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("Yvf7"),i=n("Ub9n");let s=(()=>{class e{}return e.\u0275mod=i.Ib({type:e}),e.\u0275inj=i.Hb({factory:function(t){return new(t||e)},imports:[[r.b]]}),e})()},"9yhg":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("Ub9n");let i=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Eb({type:e,selectors:[["app-list-entry-options"]],decls:9,vars:0,consts:[[1,"entry-options"],[1,"bold"]],template:function(e,t){1&e&&(r.Pb(0,"div",0),r.Pb(1,"h3"),r.yc(2," Entries Options "),r.Ob(),r.Pb(3,"p"),r.Pb(4,"b",1),r.yc(5," Guidelines : "),r.Ob(),r.yc(6,' A member of the system can use the input field below to search for an entry or entries that exists in the records. When the inputs becomes valid, the "Submit" button will become active by turning its color from black to purple. '),r.Ob(),r.Pb(7,"p"),r.yc(8,' More than one entry can be deleted or removed at the same time from the database or records. When the cicle marker beside each entry far left is checked and highlighted in purple and the entries highlighted are at least 2, A button with the label "Delete Many" will display and become active so that the administrator or moderator or member with privilege can take action.'),r.Ob(),r.Ob())},styles:[""]}),e})()},AuHR:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("OX4D");function i(e=-1){return t=>t.lift(new s(e,t))}class s{constructor(e,t){this.count=e,this.source=t}call(e,t){return t.subscribe(new a(e,this.count,this.source))}}class a extends r.a{constructor(e,t,n){super(e),this.count=t,this.source=n}error(e){if(!this.isStopped){const{source:t,count:n}=this;if(0===n)return super.error(e);n>-1&&(this.count=n-1),t.subscribe(this._unsubscribeAndRecycle())}}}},RBZI:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n("Ub9n"),i=n("Fk62"),s=n("Yvf7");function a(e,t){if(1&e){const e=r.Qb();r.Nb(0),r.Pb(1,"button",6),r.Wb("click",function(){r.rc(e);const t=r.ac(2);return t.prevPage(t.pageNumber)}),r.yc(2," Prev Entries "),r.Ob(),r.Mb()}}function c(e,t){if(1&e){const e=r.Qb();r.Pb(0,"button",6),r.Wb("click",function(){r.rc(e);const t=r.ac(2);return t.homePage(t.pageNumber)}),r.yc(1," Prev Entries "),r.Ob()}}function o(e,t){if(1&e){const e=r.Qb();r.Nb(0),r.Pb(1,"button",7),r.Wb("click",function(){r.rc(e);const t=r.ac(2);return t.nextPage(t.pageNumber)}),r.yc(2," Next Entries "),r.Ob(),r.Mb()}}function l(e,t){1&e&&(r.Pb(0,"button",9),r.yc(1," End of Entries "),r.Ob()),2&e&&(r.Cb("disabled",!0),r.gc("disabled",!0))}function u(e,t){if(1&e&&r.wc(0,l,2,3,"button",8),2&e){const e=r.ac(2);r.gc("ngIf",e.$entriesLength>=1)}}function b(e,t){if(1&e&&(r.Nb(0),r.Pb(1,"td",1),r.wc(2,a,3,0,"ng-container",0),r.wc(3,c,2,0,"ng-template",null,2,r.xc),r.Ob(),r.Pb(5,"td",3),r.wc(6,o,3,0,"ng-container",4),r.wc(7,u,1,1,"ng-template",null,5,r.xc),r.Ob(),r.Mb()),2&e){const e=r.qc(8),t=r.ac();r.zb(2),r.gc("ngIf",t.pageNumber&&t.pageNumber>1),r.zb(4),r.gc("ngIf",!t.$entryRef&&t.$entriesLength>10)("ngIfElse",e)}}let y=(()=>{class e{constructor(e,t){this.route=e,this.router=t}ngOnInit(){}homePage(e){this.router.navigate(["./"],{relativeTo:this.route,skipLocationChange:!0})}nextPage(e){this.router.navigate(["./"],{queryParams:{page:e+1},relativeTo:this.route,skipLocationChange:!0})}prevPage(e){this.router.navigate(["./"],{queryParams:{page:e-1==1?null:e-1},relativeTo:this.route,skipLocationChange:!0})}}return e.\u0275fac=function(t){return new(t||e)(r.Kb(i.a),r.Kb(i.d))},e.\u0275cmp=r.Eb({type:e,selectors:[["app-pagination"]],inputs:{$entriesLength:["entries-length","$entriesLength"],pageNumber:["page-number","pageNumber"],$entryRef:["entry-ref","$entryRef"]},decls:1,vars:1,consts:[[4,"ngIf"],["colspan","3"],["entriesBegin",""],["colspan","9"],[4,"ngIf","ngIfElse"],["entriesEnd",""],[1,"pagination","prev","center",3,"click"],[1,"pagination","next","center",3,"click"],["class","pagination-end float-right center",3,"disabled",4,"ngIf"],[1,"pagination-end","float-right","center",3,"disabled"]],template:function(e,t){1&e&&r.wc(0,b,9,3,"ng-container",0),2&e&&r.gc("ngIf",t.pageNumber)},directives:[s.l],styles:["[_nghost-%COMP%]{display:contents};"]}),e})()},jiyY:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("Ub9n"),i=n("9Ku7"),s=n("Fk62");let a=(()=>{class e{constructor(e,t){this.aus=e,this.router=t}canActivate(e,t){return this.verifyLogin(t.url)}canActivateChild(e,t){return this.canActivate(e,t)}canLoad(e){return this.verifyLogin(e.path)}verifyLogin(e){return!!this.aus.isLoggedIn()||(this.aus.redirectAddress=e,this.router.parseUrl("/signin"))}}return e.\u0275fac=function(t){return new(t||e)(r.Tb(i.a),r.Tb(s.d))},e.\u0275prov=r.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},mHYI:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("Yvf7"),i=n("Fk62"),s=n("Ub9n");let a=(()=>{class e{}return e.\u0275mod=s.Ib({type:e}),e.\u0275inj=s.Hb({factory:function(t){return new(t||e)},providers:[],imports:[[r.b,i.g.forChild([])]]}),e})()},uEry:function(e,t,n){"use strict";n.r(t),n.d(t,"GeneralPaymentModule",function(){return Xt});var r=n("Yvf7"),i=n("8VHZ"),s=n("hxwH"),a=n("mHYI"),c=n("9Xeq"),o=n("kPid"),l=n("Fk62"),u=n("jiyY"),b=n("iojP"),y=n("/zEo"),p=n("J1Ni"),h=n("Ub9n");let g=(()=>{class e{constructor(){}ngOnInit(){}getAnimationData(e){return e&&e.activatedRouteData&&e.activatedRouteData.animation}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h.Eb({type:e,selectors:[["app-general-payment-homepage"]],decls:1,vars:0,template:function(e,t){1&e&&h.Lb(0,"router-outlet")},directives:[l.h],styles:[""],data:{animation:[p.c]}}),e})();var f=n("EUGn"),m=n("jV/k"),d=n("vfyW"),O=n("oECA"),P=n("O6Zd"),v=n("AuHR"),w=n("VcWf"),z=n("FBrc");let E=(()=>{class e{constructor(e,t,n){this.http=e,this.apiConfig=t,this.ems=n,this.$systemType="General Payment",this.$sa="general-payment"}managePayment(){return this.http.get(`${this.apiConfig.host}/${this.$sa}/manage`).pipe(Object(d.a)(e=>console.log(e)),Object(O.a)(this.handleError("Payment Type Entries",null)))}managePaymentEntry(e){return this.http.get(`${this.apiConfig.host}/${this.$sa}/manage/t/${e}`).pipe(Object(d.a)(e=>console.log(e)),Object(O.a)(this.handleError("Payment Type Entry",null)))}getAllEntry(e){return this.http.get(`${this.apiConfig.host}/${this.$sa}/t/${this.ptype}/entries`,{params:e}).pipe(Object(d.a)(e=>console.log(e)),Object(O.a)(this.handleError(this.$systemType+" Entries",null)))}getEntry(e,t){console.log("Was I check"),console.log(this.$sa);let n=`${this.apiConfig.host}/${this.$sa}/t/${e}/entry/${t}/detail`;return console.log(n),this.http.get(n).pipe(Object(d.a)(e=>console.log(e)),Object(O.a)(this.handleError(this.$systemType+" Entry",null)))}addEntry(e){return this.http.get(`${this.apiConfig.host}/${this.$sa}/t/${e}/entry/create`).pipe(Object(d.a)(e=>console.log(e)),Object(P.a)(e=>({permitted:!0,$data:e})),Object(O.a)(this.handleError(this.$systemType+" Entry",null)))}addEntry$(e,t){let n=`${this.apiConfig.host}/${this.$sa}/t/${e}/entry/create`;return console.log(t),this.http.post(n,t).pipe(Object(d.a)(e=>console.log(e)),Object(P.a)(e=>({created:!0,$data:e})),Object(O.a)(this.handleError(this.$systemType+" Entry",null)))}checkPayment(e,t){return this.http.post(`${this.apiConfig.host}/${this.$sa}/t/${e}/entry/create`,t).pipe(Object(d.a)(e=>console.log(e)),Object(P.a)(e=>({permitted:!0,$data:e})),Object(O.a)(this.handleError(this.$systemType+" Entry",null)))}$initializePayment(e){return this.http.post(this.apiConfig.host+"/general-payment/initialize-transaction",e).pipe(Object(d.a)(e=>console.log(e)),Object(v.a)(3),Object(P.a)(e=>({created:!0,$data:e})),Object(O.a)(this.handleError(this.$systemType+" Entry",null)))}$verifyPayment(e){return this.http.get(`${this.apiConfig.host}/general-payment/verify-transaction?reference=${e}`).pipe(Object(d.a)(e=>console.log(e)),Object(P.a)(e=>({verified:!0,$data:e})),Object(O.a)(this.handleError(this.$systemType+" Entry",null)))}$refundEntry(e,t){return this.http.post(`${this.apiConfig.host}/general-payment/refund-transaction?reference=${e}`,t).pipe(Object(d.a)(e=>console.log(e)),Object(P.a)(e=>({created:!0,$data:e})),Object(O.a)(this.handleError(this.$systemType+" Entry",null)))}$createRefund(e,t){return this.http.put(`${this.apiConfig.host}/${this.$sa}/entry/${e}/refund`,t).pipe(Object(d.a)(e=>console.log(e)),Object(P.a)(e=>({updated:!0,$data:e})),Object(O.a)(this.handleError(this.$systemType+" Entry",null)))}updateEntry$(e,t,n){return this.http.put(`${this.apiConfig.host}/${this.$sa}/t/${e}/entry/${t}/detail`,n).pipe(Object(P.a)(e=>({updated:!0,$data:e})),Object(O.a)(this.handleError(this.$systemType+" Entry",null)))}deleteManyEntry$(e,t){return this.http.patch(`${this.apiConfig.host}/${this.$sa}/t/${this.ptype}/delete/entry/many`,{entries:t}).pipe(Object(P.a)(e=>({manyDeleted:!0})),Object(O.a)(this.handleError(this.$systemType+" Entries Delete",null)))}deleteAllEntry(e){return this.http.get(`${this.apiConfig.host}/${this.$sa}/t/${e}/delete/entry/all/`).pipe(Object(O.a)(this.handleError(this.$systemType+" Entry or Entries Delete",null)))}deleteAllEntry$(e){return this.http.delete(`${this.apiConfig.host}/${this.$sa}/t/$ptype/delete/entry/all/`).pipe(Object(P.a)(e=>({allDeleted:!0})),Object(O.a)(this.handleError(this.$systemType+" Entry or Entries Delete",null)))}handleError(e="operation",t){return e=>(this.ems.message=e,Object(m.a)(t))}}return e.\u0275fac=function(t){return new(t||e)(h.Tb(z.b),h.Tb(w.b),h.Tb(f.a))},e.\u0275prov=h.Gb({token:e,factory:e.\u0275fac}),e})();var I=n("+ef2"),$=n("TY4h");function k(e,t){if(1&e&&(h.Pb(0,"h2"),h.yc(1),h.Ob()),2&e){const e=h.ac();h.zb(1),h.zc(" ",e.title," ")}}function T(e,t){if(1&e&&h.Lb(0,"app-view-description",4),2&e){const e=h.ac();h.gc("system-type",e.systemType)("view-type",e.view)}}function N(e,t){if(1&e&&h.Lb(0,"app-resource-unavailable",5),2&e){const e=h.ac();h.gc("error",e.error)}}const L=function(e){return["./","t",e]};function j(e,t){if(1&e&&(h.Pb(0,"li"),h.Pb(1,"a",7),h.yc(2),h.Ob(),h.Ob()),2&e){const e=t.$implicit;h.zb(1),h.gc("routerLink",h.lc(2,L,null==e?null:e.slug)),h.zb(1),h.zc(" ",null==e?null:e.name," ")}}function S(e,t){if(1&e&&(h.Nb(0),h.wc(1,j,3,4,"li",8),h.Mb()),2&e){const e=h.ac(2);h.zb(1),h.gc("ngForOf",e.entries)}}const F=function(){return["/account","profile"]};function A(e,t){if(1&e&&(h.Pb(0,"div",6),h.Pb(1,"ul"),h.wc(2,S,2,1,"ng-container",0),h.Pb(3,"li"),h.Pb(4,"a",7),h.yc(5," Profile "),h.Ob(),h.Ob(),h.Ob(),h.Ob()),2&e){const e=h.ac();h.zb(2),h.gc("ngIf",null!=e.entries&&(null==e.entries?null:e.entries.length)>0),h.zb(2),h.gc("routerLink",h.kc(2,F))}}let C=(()=>{class e{constructor(e,t,n){this.route=e,this.gps=t,this.ems=n,this.isError=!1}ngOnInit(){let e=this.route.snapshot.data;this.systemType=e.dashboard.systemType,this.title=e.dashboard.title,this.view=e.dashboard.view,this.gps.managePayment().subscribe(e=>{null==e?(this.isError=!0,this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message)):null!=e&&e.length>0&&(this.entries=e)})}}return e.\u0275fac=function(t){return new(t||e)(h.Kb(l.a),h.Kb(E),h.Kb(f.a))},e.\u0275cmp=h.Eb({type:e,selectors:[["app-general-payment-dashboard"]],features:[h.yb([f.a])],decls:4,vars:4,consts:[[4,"ngIf"],[3,"system-type","view-type",4,"ngIf"],[3,"error",4,"ngIf"],["id","dashboard",4,"ngIf"],[3,"system-type","view-type"],[3,"error"],["id","dashboard"],[1,"center",3,"routerLink"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(h.wc(0,k,2,1,"h2",0),h.wc(1,T,1,2,"app-view-description",1),h.wc(2,N,1,1,"app-resource-unavailable",2),h.wc(3,A,6,3,"div",3)),2&e&&(h.gc("ngIf",t.title),h.zb(1),h.gc("ngIf",t.view),h.zb(1),h.gc("ngIf",t.isError),h.zb(1),h.gc("ngIf",t.systemType))},directives:[r.l,I.a,$.a,l.f,r.k],styles:[""]}),e})();var M=n("XA6Z"),x=n("vlQ6"),_=n("9Ku7");function q(e,t){if(1&e&&(h.Pb(0,"h2"),h.yc(1),h.Ob()),2&e){const e=h.ac();h.zb(1),h.zc(" ",e.entry.name," Payment ")}}function D(e,t){if(1&e&&h.Lb(0,"app-view-description",4),2&e){const e=h.ac();h.gc("system-type",e.systemType)("view-type",e.view)}}function K(e,t){if(1&e&&h.Lb(0,"app-resource-unavailable",5),2&e){const e=h.ac();h.gc("error",e.error)}}const R=function(){return["entry","create"]};function W(e,t){if(1&e&&(h.Pb(0,"li"),h.Pb(1,"a",7),h.yc(2),h.Ob(),h.Ob()),2&e){const e=h.ac(2);h.zb(1),h.gc("routerLink",h.kc(2,R)),h.zb(1),h.zc(" Create ",e.entry.name," Entry ")}}const Q=function(){return["entry","delete","all"]};function G(e,t){if(1&e&&(h.Pb(0,"li"),h.Pb(1,"a",7),h.yc(2),h.Ob(),h.Ob()),2&e){const e=h.ac(2);h.zb(1),h.gc("routerLink",h.kc(2,Q)),h.zb(1),h.zc(" Delete All ",e.entry.name," Entry ")}}const U=function(){return["entries"]},V=function(){return["../../"]},Y=function(){return["/account","profile"]};function B(e,t){if(1&e&&(h.Pb(0,"div",6),h.Pb(1,"ul"),h.Pb(2,"li"),h.Pb(3,"a",7),h.yc(4),h.Ob(),h.Ob(),h.wc(5,W,3,3,"li",0),h.Pb(6,"li"),h.Pb(7,"a",7),h.yc(8," Other Payments "),h.Ob(),h.Ob(),h.wc(9,G,3,3,"li",0),h.Pb(10,"li"),h.Pb(11,"a",7),h.yc(12," Profile "),h.Ob(),h.Ob(),h.Ob(),h.Ob()),2&e){const e=h.ac();h.zb(3),h.gc("routerLink",h.kc(6,U)),h.zb(1),h.zc(" Manage ",e.entry.name," Entry "),h.zb(1),h.gc("ngIf",e.canCreate),h.zb(2),h.gc("routerLink",h.kc(7,V)),h.zb(2),h.gc("ngIf",e.canDeleteAll),h.zb(2),h.gc("routerLink",h.kc(8,Y))}}let H=(()=>{class e{constructor(e,t,n,r,i){this.route=e,this.ts=t,this.gps=n,this.ems=r,this.aus=i,this.isError=!1}ngOnInit(){let e=this.route.snapshot.data;this.systemType=e.dashboard.systemType,this.title=e.dashboard.title,this.view=e.dashboard.view,this.link=e.dashboard.link,this.gps.$systemType=this.systemType,this.route.paramMap.pipe(Object(M.a)(e=>{let t=e.get("payment");return this.pslug=t,this.gps.managePaymentEntry(t)})).subscribe(e=>{null==e?(this.isError=!0,this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message)):null!=e&&(this.entry=e,this.ts.setTitle(e.name+" Payment"))})}get canCreate(){return["student","departmentPresident","facultyPresident"].indexOf(this.aus.userRole)>-1}get canDeleteAll(){return this.aus.isSuperAdministrator}}return e.\u0275fac=function(t){return new(t||e)(h.Kb(l.a),h.Kb(x.b),h.Kb(E),h.Kb(f.a),h.Kb(_.a))},e.\u0275cmp=h.Eb({type:e,selectors:[["app-general-payment-entry-dashboard"]],features:[h.yb([f.a])],decls:4,vars:4,consts:[[4,"ngIf"],[3,"system-type","view-type",4,"ngIf"],[3,"error",4,"ngIf"],["id","dashboard",4,"ngIf"],[3,"system-type","view-type"],[3,"error"],["id","dashboard"],[1,"center",3,"routerLink"]],template:function(e,t){1&e&&(h.wc(0,q,2,1,"h2",0),h.wc(1,D,1,2,"app-view-description",1),h.wc(2,K,1,1,"app-resource-unavailable",2),h.wc(3,B,13,9,"div",3)),2&e&&(h.gc("ngIf",t.entry&&(null==t.entry?null:t.entry.name)),h.zb(1),h.gc("ngIf",t.view),h.zb(1),h.gc("ngIf",t.isError),h.zb(1),h.gc("ngIf",t.entry))},directives:[r.l,I.a,$.a,l.f],styles:[""]}),e})();var J=n("iPJu"),Z=n("yjbJ"),X=n("9nlD");const ee=["staff","moderator","administrator","superAdministrator"];var te=n("9yhg"),ne=n("Rxsk"),re=n("xlhj"),ie=n("RBZI");function se(e,t){if(1&e&&(h.Pb(0,"h2"),h.yc(1),h.Ob()),2&e){const e=h.ac();h.zb(1),h.zc(" ",e.title,"")}}function ae(e,t){if(1&e&&h.Lb(0,"app-view-description",8),2&e){const e=h.ac();h.gc("system-type",e.systemType)("view-type",e.view)}}function ce(e,t){if(1&e){const e=h.Qb();h.Pb(0,"app-notification-screen",9),h.Wb("finished",function(){return h.rc(e),h.ac().removeNotification()}),h.Ob()}if(2&e){const e=h.ac();h.gc("notified",e.notificationAvailable)("message",e.notificationMessage)}}function oe(e,t){if(1&e&&h.Lb(0,"app-search",10),2&e){const e=h.ac();h.gc("system-type",e.systemType)("$link",e.$link)("search-filters",e.searchFilters)}}function le(e,t){1&e&&(h.Pb(0,"td",24),h.yc(1," Nil "),h.Ob())}function ue(e,t){if(1&e&&(h.Pb(0,"td",32),h.yc(1),h.Ob()),2&e){const e=h.ac().$implicit;h.zb(1),h.zc(" ",null==e?null:e.payment_reference," ")}}function be(e,t){if(1&e&&(h.Pb(0,"td",24),h.yc(1),h.Ob()),2&e){const e=h.ac().$implicit;h.zb(1),h.zc(" ",null==e?null:e.full_name," ")}}function ye(e,t){if(1&e&&(h.Pb(0,"td",24),h.yc(1),h.Ob()),2&e){const e=h.ac().$implicit;h.zb(1),h.zc(" ",null==e?null:e.payment_session," ")}}function pe(e,t){if(1&e&&(h.Pb(0,"td",24),h.yc(1),h.Ob()),2&e){const e=h.ac().$implicit;h.zb(1),h.zc(" ",null==e?null:e.department," ")}}function he(e,t){if(1&e&&(h.Pb(0,"td",24),h.yc(1),h.bc(2,"date"),h.Ob()),2&e){const e=h.ac().$implicit;h.zb(1),h.zc(" ",h.dc(2,1,null==e?null:e.paid_on,"longDate")," ")}}const ge=function(){return{}};function fe(e,t){if(1&e&&(h.Pb(0,"td",33),h.yc(1),h.Ob()),2&e){const e=h.ac().$implicit;h.gc("ngClass",h.kc(2,ge)),h.zb(1),h.zc(" ",null==e?null:e.status," ")}}function me(e,t){if(1&e){const e=h.Qb();h.Nb(0),h.Pb(1,"input",38,39),h.Wb("click",function(){h.rc(e);const t=h.qc(2),n=h.ac(3),r=n.$implicit,i=n.index;return h.ac(2).addEntryToDeleteList(null==r?null:r.num,t.checked,i)}),h.Ob(),h.Lb(3,"span",40),h.Mb()}if(2&e){const e=t.$implicit,n=h.ac(3).$implicit;h.zb(1),h.gc("checked",e==(null==n?null:n.num))}}function de(e,t){if(1&e&&(h.Nb(0),h.wc(1,me,4,1,"ng-container",37),h.Mb()),2&e){const e=h.ac(4);h.zb(1),h.gc("ngForOf",e.esdl)}}function Oe(e,t){if(1&e){const e=h.Qb();h.Pb(0,"input",41,39),h.Wb("click",function(){h.rc(e);const t=h.qc(1),n=h.ac(2),r=n.$implicit,i=n.index;return h.ac(2).addEntryToDeleteList(null==r?null:r.num,t.checked,i)}),h.Ob(),h.Lb(2,"span",40)}}function Pe(e,t){if(1&e&&(h.Pb(0,"label",34),h.wc(1,de,2,1,"ng-container",35),h.wc(2,Oe,3,0,"ng-template",null,36,h.xc),h.Ob()),2&e){const e=h.qc(3),t=h.ac(3);h.zb(1),h.gc("ngIf",t.esdl.length)("ngIfElse",e)}}const ve=function(e){return["../","entry",e,"detail"]};function we(e,t){if(1&e&&(h.Pb(0,"tr"),h.Pb(1,"td",24),h.yc(2),h.Ob(),h.wc(3,le,2,0,"ng-template",null,25,h.xc),h.wc(5,ue,2,1,"td",26),h.wc(6,be,2,1,"td",27),h.wc(7,ye,2,1,"td",27),h.wc(8,pe,2,1,"td",27),h.wc(9,he,3,4,"td",27),h.wc(10,fe,2,3,"td",28),h.Pb(11,"td",29),h.Pb(12,"a",30),h.yc(13," View "),h.Ob(),h.wc(14,Pe,4,2,"label",31),h.Ob(),h.Ob()),2&e){const e=t.$implicit,n=t.index,r=h.qc(4),i=h.ac(2);h.zb(2),h.zc(" ",n+1,". "),h.zb(3),h.gc("ngIf",null==e?null:e.payment_reference)("ngIfElse",r),h.zb(1),h.gc("ngIf",null==e?null:e.full_name)("ngIfElse",r),h.zb(1),h.gc("ngIf",null==e?null:e.payment_session)("ngIfElse",r),h.zb(1),h.gc("ngIf",null==e?null:e.department)("ngIfElse",r),h.zb(1),h.gc("ngIf",null==e?null:e.paid_on)("ngIfElse",r),h.zb(1),h.gc("ngIf",null==e?null:e.status)("ngIfElse",r),h.zb(2),h.gc("routerLink",h.lc(15,ve,null==e?null:e.slug)),h.zb(2),h.gc("ngIf",i.canUpdateEntry)}}function ze(e,t){if(1&e&&h.Lb(0,"app-pagination",42),2&e){const e=h.ac(2);h.gc("entries-length",e.$entriesLength)("entry-ref",e.$entryRef)("page-number",e.pageNumber)}}function Ee(e,t){if(1&e&&(h.Pb(0,"div"),h.Pb(1,"table",11),h.Pb(2,"caption",12),h.yc(3," Entries "),h.Ob(),h.Pb(4,"colgroup"),h.Lb(5,"col",13),h.Lb(6,"col",14),h.Lb(7,"col",15),h.Lb(8,"col",16),h.Lb(9,"col",17),h.Lb(10,"col",18),h.Lb(11,"col",19),h.Lb(12,"col",20),h.Ob(),h.Pb(13,"thead"),h.Pb(14,"tr"),h.Pb(15,"th",21),h.yc(16," Index "),h.Ob(),h.Pb(17,"th",21),h.yc(18," Payment Reference No. "),h.Ob(),h.Pb(19,"th",21),h.yc(20," Full Name "),h.Ob(),h.Pb(21,"th",21),h.yc(22," Session "),h.Ob(),h.Pb(23,"th",21),h.yc(24," Department "),h.Ob(),h.Pb(25,"th",21),h.yc(26," Paid On "),h.Ob(),h.Pb(27,"th",21),h.yc(28," Status "),h.Ob(),h.Pb(29,"th",21),h.yc(30," Changes "),h.Ob(),h.Ob(),h.Ob(),h.Pb(31,"tbody"),h.wc(32,we,15,17,"tr",22),h.Ob(),h.Pb(33,"tfoot"),h.Pb(34,"tr"),h.Lb(35,"td"),h.Ob(),h.Pb(36,"tr"),h.Lb(37,"td"),h.Ob(),h.Pb(38,"tr"),h.wc(39,ze,1,3,"app-pagination",23),h.Ob(),h.Ob(),h.Ob(),h.Ob()),2&e){const e=h.ac();h.zb(31),h.gc("@listAnimation",e.entries.length),h.zb(1),h.gc("ngForOf",e.entries)("ngForTrackBy",e.trackByPaymentRef),h.zb(7),h.gc("ngIf",e.pageNumber)}}function Ie(e,t){if(1&e&&h.Lb(0,"app-resource-unavailable",43),2&e){const e=h.ac();h.gc("error",e.error)}}let $e=(()=>{class e{constructor(e,t,n,r,i,s,a,c){this.route=e,this.location=t,this.gps=n,this.gss=r,this.gas=i,this.ems=s,this.ns=a,this.aus=c,this.entries=[],this.isError=!1,this.esdl=[],this.p$esdl=!1,this.pageNumber=1,this.$entriesLength=0,this.entriesSearchedOb=this.gss.entriesSearched$.subscribe(e=>{this.location.replaceState(`/general-payment/t/${this.pslug}/entries`),this.pageNumber=1,null==e?(this.entries=[],this.$entriesLength=0,this.error=Object.assign({resource:this.systemType+" Entry or Entries"},this.ems.message),this.isError=!0):null!=e&&e.length>0&&(this.error=null,this.isError=!1,this.$entriesLength=e.length,this.entries=e,this.entries.length<=10&&(this.pageNumber=1),this.entries.length>10&&this.entries.pop())}),this.clearSearchOb=this.gss.clearSearch$.subscribe(e=>{this.clearSearch$()}),this.errorExistOb=this.gss.errorExist$.subscribe(e=>{this.isError=e})}searchErr$(e){this.error=null,this.isError=!1}clearSearch$(){this.error=null,this.isError=!1,this.pageNumber=1,this.location.replaceState(`/general-payment/t/${this.pslug}/entries`),this.gss.searchCleared.next(!0),this.getAllEntry({})}trackByPaymentRef(e,t){return t.payment_reference}ngOnInit(){let e=this.route.snapshot.data;this.systemType=e.entries.systemType,this.title=e.entries.title,this.view=e.entries.view,this.link=e.entries.link,this.searchFilters=e.entries.searchFilters,this.gps.$systemType=this.systemType,this.route.queryParamMap.subscribe(e=>{let t=this.route.snapshot.paramMap,n=this.gas.paramProcessor(e,this);return this.pslug=t.get("payment"),this.$link="general-payment/t/"+this.pslug,this.gps.ptype=this.pslug,this.getAllEntry(n)})}ngOnDestroy(){null!=this.entriesSearchedOb&&this.entriesSearchedOb.unsubscribe(),null!=this.clearSearchOb&&this.clearSearchOb.unsubscribe(),null!=this.errorExistOb&&this.errorExistOb.unsubscribe()}getAllEntry(e){this.gps.getAllEntry(e).subscribe(e=>{null==e?(this.entries=[],this.$entriesLength=0,this.isError=!0,this.error=Object.assign({resource:this.systemType+" Entry or Entries"},this.ems.message)):null!=e&&e.length>0&&(this.error=null,this.isError=!1,this.$entriesLength=e.length,this.entries=e),this.entries.length>10&&this.entries.pop()})}addEntryToDeleteList(e,t,n){this.gas.addEntryToDeleteList(e,t,n,this)}deleteManyEntry(){this.gas.deleteManyEntry(this,this.gps)}get userRole(){return this.aus.userRole}get canUpdateEntry(){return ee.indexOf(this.userRole)>-1}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}removeNotification(){this.ns.removeNotification()}}return e.\u0275fac=function(t){return new(t||e)(h.Kb(l.a),h.Kb(r.h),h.Kb(E),h.Kb(J.a),h.Kb(Z.a),h.Kb(f.a),h.Kb(X.a),h.Kb(_.a))},e.\u0275cmp=h.Eb({type:e,selectors:[["app-general-payment-entries"]],features:[h.yb([X.a,f.a,J.a,Z.a])],decls:11,vars:8,consts:[["id","entry-main"],[4,"ngIf"],[3,"system-type","view-type",4,"ngIf"],[3,"notified","message","finished",4,"ngIf"],[1,"search-bar"],[3,"system-type","$link","search-filters",4,"ngIf"],[1,"entry-option","entry-option-small","center",3,"click"],[3,"error",4,"ngIf"],[3,"system-type","view-type"],[3,"notified","message","finished"],[3,"system-type","$link","search-filters"],[1,"entries"],[1,"bold","left"],[1,"index"],[1,"payment-reference"],[1,"full-name"],[1,"amount"],[1,"fee-department"],[1,"paid-on"],[1,"status"],[1,"changes"],[1,"bold","center"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"entries-length","entry-ref","page-number",4,"ngIf"],[1,"center"],["nilValue",""],["class","center bold payment-ref",4,"ngIf","ngIfElse"],["class","center",4,"ngIf","ngIfElse"],["class","center",3,"ngClass",4,"ngIf","ngIfElse"],[1,""],[1,"center","changes-option","changes-option-full",3,"routerLink"],["class","changes-mark",4,"ngIf"],[1,"center","bold","payment-ref"],[1,"center",3,"ngClass"],[1,"changes-mark"],[4,"ngIf","ngIfElse"],["normalChecks",""],[4,"ngFor","ngForOf"],["type","checkbox",3,"checked","click"],["checked",""],[1,"checkmark"],["type","checkbox",3,"click"],[3,"entries-length","entry-ref","page-number"],[3,"error"]],template:function(e,t){1&e&&(h.Pb(0,"div",0),h.wc(1,se,2,1,"h2",1),h.wc(2,ae,1,2,"app-view-description",2),h.wc(3,ce,1,2,"app-notification-screen",3),h.Lb(4,"app-list-entry-options"),h.Pb(5,"div",4),h.wc(6,oe,1,3,"app-search",5),h.Pb(7,"a",6),h.Wb("click",function(){return t.deleteManyEntry()}),h.yc(8," Delete Many "),h.Ob(),h.Ob(),h.wc(9,Ee,40,4,"div",1),h.wc(10,Ie,1,1,"app-resource-unavailable",7),h.Ob()),2&e&&(h.zb(1),h.gc("ngIf",t.title),h.zb(1),h.gc("ngIf",t.view),h.zb(1),h.gc("ngIf",t.notificationAvailable),h.zb(3),h.gc("ngIf",t.systemType),h.zb(1),h.Cb("hide",t.esdl.length<2),h.zb(2),h.gc("ngIf",t.$entriesLength>0),h.zb(1),h.gc("ngIf",t.isError))},directives:[r.l,te.a,I.a,ne.a,re.a,r.k,l.f,r.j,ie.a,$.a],pipes:[r.d],styles:[""],data:{animation:[p.b]}}),e})();function ke(e,t){if(1&e&&(h.Pb(0,"h2"),h.yc(1),h.Ob()),2&e){const e=h.ac();h.zb(1),h.zc(" ",e.title," Detail ")}}function Te(e,t){if(1&e&&h.Lb(0,"app-view-description",6),2&e){const e=h.ac();h.gc("view-type",e.view)("system-type",e.systemType)}}function Ne(e,t){if(1&e&&h.Lb(0,"app-resource-unavailable",7),2&e){const e=h.ac();h.gc("error",e.error)}}function Le(e,t){if(1&e){const e=h.Qb();h.Pb(0,"app-notification-screen",8),h.Wb("finished",function(){return h.rc(e),h.ac().removeNotification()}),h.Ob()}if(2&e){const e=h.ac();h.gc("notified",e.notificationAvailable)("message",e.notificationMessage)}}function je(e,t){if(1&e&&(h.Nb(0),h.Pb(1,"tr"),h.Pb(2,"th",13),h.yc(3," Reference Number : "),h.Ob(),h.Pb(4,"td"),h.Pb(5,"b",14),h.yc(6),h.Ob(),h.Ob(),h.Ob(),h.Mb()),2&e){const e=h.ac(2);h.zb(6),h.zc(" ",null==e.entry?null:e.entry.payment_reference," ")}}function Se(e,t){if(1&e&&(h.Nb(0),h.Pb(1,"tr"),h.Pb(2,"th",13),h.yc(3," Paid Date : "),h.Ob(),h.Pb(4,"td"),h.yc(5),h.bc(6,"date"),h.Ob(),h.Ob(),h.Mb()),2&e){const e=h.ac(2);h.zb(5),h.zc(" ",h.dc(6,1,null==e.entry?null:e.entry.paid_on,"fullDate")," ")}}function Fe(e,t){if(1&e&&(h.Nb(0),h.Pb(1,"tr"),h.Pb(2,"th",13),h.yc(3," Amount "),h.Ob(),h.Pb(4,"td"),h.yc(5),h.Ob(),h.Ob(),h.Mb()),2&e){const e=h.ac(2);h.zb(5),h.zc(" N = ",null==e.entry?null:e.entry.amount," ")}}function Ae(e,t){if(1&e&&(h.Nb(0),h.Pb(1,"tr"),h.Pb(2,"th",13),h.yc(3," Name "),h.Ob(),h.Pb(4,"td"),h.yc(5),h.Ob(),h.Ob(),h.Mb()),2&e){const e=h.ac(2);h.zb(5),h.zc(" ",null==e.entry?null:e.entry.full_name," ")}}function Ce(e,t){if(1&e&&(h.Nb(0),h.Pb(1,"tr"),h.Pb(2,"th",13),h.yc(3," Email Address "),h.Ob(),h.Pb(4,"td"),h.yc(5),h.Ob(),h.Ob(),h.Mb()),2&e){const e=h.ac(2);h.zb(5),h.zc(" ",null==e.entry?null:e.entry.email_address," ")}}function Me(e,t){if(1&e&&(h.Nb(0),h.Pb(1,"tr"),h.Pb(2,"th",13),h.yc(3," Phone Number "),h.Ob(),h.Pb(4,"td"),h.yc(5),h.Ob(),h.Ob(),h.Mb()),2&e){const e=h.ac(2);h.zb(5),h.zc(" ",null==e.entry?null:e.entry.phone_number," ")}}function xe(e,t){if(1&e&&(h.Nb(0),h.Pb(1,"tr"),h.Pb(2,"th",13),h.yc(3," Payment Description "),h.Ob(),h.Pb(4,"td"),h.yc(5),h.Ob(),h.Ob(),h.Mb()),2&e){const e=h.ac(2);h.zb(5),h.zc(" ",null==e.entry?null:e.entry.description," ")}}function _e(e,t){if(1&e&&(h.Nb(0),h.Pb(1,"tr"),h.Pb(2,"th",13),h.yc(3," Full Name : "),h.Ob(),h.Pb(4,"td"),h.yc(5),h.Ob(),h.Ob(),h.Mb()),2&e){const e=h.ac(2);h.zb(5),h.zc(" ",null==e.entry||null==e.entry.author?null:e.entry.author.full_name," ")}}function qe(e,t){if(1&e&&(h.Nb(0),h.Pb(1,"tr"),h.Pb(2,"th",13),h.yc(3," Matriculation Number : "),h.Ob(),h.Pb(4,"td"),h.yc(5),h.Ob(),h.Ob(),h.Mb()),2&e){const e=h.ac(2);h.zb(5),h.zc(" ",null==e.entry||null==e.entry.author?null:e.entry.author.matriculation_number," ")}}function De(e,t){if(1&e&&(h.Nb(0),h.Pb(1,"tr"),h.Pb(2,"th",13),h.yc(3," Identification Number : "),h.Ob(),h.Pb(4,"td"),h.yc(5),h.Ob(),h.Ob(),h.Mb()),2&e){const e=h.ac(2);h.zb(5),h.zc(" ",null==e.entry||null==e.entry.author?null:e.entry.author.identity_number," ")}}function Ke(e,t){if(1&e&&(h.Nb(0),h.Pb(1,"tr"),h.Pb(2,"th",13),h.yc(3," Department "),h.Ob(),h.Pb(4,"td"),h.yc(5),h.Ob(),h.Ob(),h.Mb()),2&e){const e=h.ac(2);h.zb(5),h.zc(" ",null==e.entry?null:e.entry.department_name," ")}}function Re(e,t){if(1&e&&(h.Nb(0),h.Pb(1,"tr"),h.Pb(2,"th",13),h.yc(3," Faculty "),h.Ob(),h.Pb(4,"td"),h.yc(5),h.Ob(),h.Ob(),h.Mb()),2&e){const e=h.ac(2);h.zb(5),h.zc(" ",null==e.entry?null:e.entry.faculty_name," ")}}function We(e,t){if(1&e&&(h.Nb(0),h.Pb(1,"tr"),h.Pb(2,"th",13),h.yc(3," Level : "),h.Ob(),h.Pb(4,"td"),h.yc(5),h.Ob(),h.Ob(),h.Mb()),2&e){const e=h.ac(2);h.zb(5),h.zc(" ",null==e.entry||null==e.entry.author?null:e.entry.author.level," ")}}function Qe(e,t){if(1&e&&(h.Nb(0),h.Pb(1,"tr"),h.Pb(2,"th",13),h.yc(3," Status : "),h.Ob(),h.Pb(4,"td"),h.yc(5),h.bc(6,"titlecase"),h.Ob(),h.Ob(),h.Mb()),2&e){const e=h.ac(2);h.zb(5),h.zc(" ",h.cc(6,1,null==e.entry?null:e.entry.status)," ")}}function Ge(e,t){1&e&&(h.Nb(0),h.Pb(1,"td",11),h.Pb(2,"button",15),h.yc(3," Print "),h.Ob(),h.Ob(),h.Mb())}function Ue(e,t){if(1&e){const e=h.Qb();h.Nb(0),h.Pb(1,"tfoot",16),h.Pb(2,"td",11),h.Pb(3,"button",17),h.Wb("click",function(){return h.rc(e),h.ac(2).refundEntry()}),h.yc(4," Refund "),h.Ob(),h.Ob(),h.Ob(),h.Mb()}}function Ve(e,t){if(1&e){const e=h.Qb();h.Nb(0),h.Pb(1,"tfoot",16),h.Pb(2,"td",11),h.Pb(3,"button",17),h.Wb("click",function(){return h.rc(e),h.ac(2).refundEntry()}),h.yc(4," Refund "),h.Ob(),h.Ob(),h.Ob(),h.Mb()}}function Ye(e,t){if(1&e&&(h.Pb(0,"div",9),h.Pb(1,"table"),h.Pb(2,"colgroup"),h.Lb(3,"col",10),h.Lb(4,"col"),h.Ob(),h.Pb(5,"tbody"),h.wc(6,je,7,1,"ng-container",1),h.wc(7,Se,7,4,"ng-container",1),h.wc(8,Fe,6,1,"ng-container",1),h.Pb(9,"tr"),h.Pb(10,"th",11),h.Pb(11,"h3",12),h.yc(12," Payer Detail "),h.Ob(),h.Lb(13,"hr"),h.Ob(),h.Ob(),h.wc(14,Ae,6,1,"ng-container",1),h.wc(15,Ce,6,1,"ng-container",1),h.wc(16,Me,6,1,"ng-container",1),h.wc(17,xe,6,1,"ng-container",1),h.Pb(18,"tr"),h.Pb(19,"th",11),h.Pb(20,"h3",12),h.yc(21," Student Detail "),h.Ob(),h.Lb(22,"hr"),h.Ob(),h.Ob(),h.wc(23,_e,6,1,"ng-container",1),h.wc(24,qe,6,1,"ng-container",1),h.wc(25,De,6,1,"ng-container",1),h.wc(26,Ke,6,1,"ng-container",1),h.wc(27,Re,6,1,"ng-container",1),h.wc(28,We,6,1,"ng-container",1),h.wc(29,Qe,7,3,"ng-container",1),h.wc(30,Ge,4,0,"ng-container",1),h.Ob(),h.wc(31,Ue,5,0,"ng-container",1),h.wc(32,Ve,5,0,"ng-container",1),h.Ob(),h.Ob()),2&e){const e=h.ac();h.zb(6),h.gc("ngIf",null==e.entry?null:e.entry.payment_reference),h.zb(1),h.gc("ngIf",null==e.entry?null:e.entry.paid_on),h.zb(1),h.gc("ngIf",null==e.entry?null:e.entry.amount),h.zb(6),h.gc("ngIf",null==e.entry?null:e.entry.full_name),h.zb(1),h.gc("ngIf",null==e.entry?null:e.entry.email_address),h.zb(1),h.gc("ngIf",null==e.entry?null:e.entry.phone_number),h.zb(1),h.gc("ngIf",null==e.entry?null:e.entry.description),h.zb(6),h.gc("ngIf",null==e.entry||null==e.entry.author?null:e.entry.author.full_name),h.zb(1),h.gc("ngIf",(null==e.entry?null:e.entry.author)&&(null==e.entry||null==e.entry.author?null:e.entry.author.matriculation_number)),h.zb(1),h.gc("ngIf",(null==e.entry?null:e.entry.author)&&(null==e.entry||null==e.entry.author?null:e.entry.author.identity_number)),h.zb(1),h.gc("ngIf",null==e.entry?null:e.entry.department_name),h.zb(1),h.gc("ngIf",null==e.entry?null:e.entry.faculty_name),h.zb(1),h.gc("ngIf",null==e.entry||null==e.entry.author?null:e.entry.author.level),h.zb(1),h.gc("ngIf",null==e.entry?null:e.entry.status),h.zb(1),h.gc("ngIf",!0),h.zb(1),h.gc("ngIf",e.canRefundDepartmentPayment&&"department_name"==e.entry.paymentType&&!e.entry.refunded&&e.userDepartment==(null==e.entry?null:e.entry.department_name)),h.zb(1),h.gc("ngIf",e.canRefundFacultyPayment&&"faculty_name"==e.entry.paymentType&&!e.entry.refunded&&e.userFaculty==(null==e.entry?null:e.entry.faculty_name))}}let Be=(()=>{class e{constructor(e,t,n,r,i,s){this.router=e,this.route=t,this.gps=n,this.ns=r,this.ems=i,this.aus=s,this.isError=!1,this.isFormSubmitted=!1,this.isFormProcessing=!1}ngOnInit(){let e=this.route.snapshot.data;this.systemType=e.detail.systemType,this.title=e.detail.title,this.view=e.detail.view,this.viewWord=e.detail.viewWord,this.link=e.detail.link,this.generateCred=e.detail.generateCred,this.gps.$systemType=this.systemType,this.gps.$sa=e.detail.$link,this.route.paramMap.pipe(Object(M.a)(e=>{let t=e.get("entry"),n=e.get("payment");return this.pslug=n,this.eslug=t,this.gps.getEntry(n,t)})).subscribe(e=>{null==e?(this.isError=!0,this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message)):null!=e&&(this.entry=e)})}ngOnDestroy(){clearTimeout(this.entryChangesT)}updateEntry(e){this.error=null,this.isError=!1,this.isFormProcessing=!0,this.isFormSubmitted=!0,this.gps.updateEntry$(this.pslug,this.eslug,e).subscribe(t=>{null==t&&(this.isFormSubmitted=!1,this.isFormProcessing=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and ${this.systemType} Entry is not updated.`)),null!=t&&1==t.updated&&(this.isFormSubmitted=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and ${this.systemType} Entry is updated.`),this.$entryChanges(e.$data))})}$entryChanges(e){this.entryChangesT=setTimeout(()=>this.router.navigate(["general-payment","t",this.pslug,"entries"]),5e3)}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}get userRole(){return this.aus.userRole}get canUpdateEntry(){return ee.indexOf(this.userRole)>-1}get isFormValid(){return this.entryForm.valid}removeNotification(){this.ns.removeNotification()}}return e.\u0275fac=function(t){return new(t||e)(h.Kb(l.d),h.Kb(l.a),h.Kb(E),h.Kb(X.a),h.Kb(f.a),h.Kb(_.a))},e.\u0275cmp=h.Eb({type:e,selectors:[["app-general-payment-entry-detail"]],features:[h.yb([X.a,f.a])],decls:6,vars:5,consts:[["id","general-payment"],[4,"ngIf"],[3,"view-type","system-type",4,"ngIf"],[3,"error",4,"ngIf"],[3,"notified","message","finished",4,"ngIf"],["id","general-payment-details",4,"ngIf"],[3,"view-type","system-type"],[3,"error"],[3,"notified","message","finished"],["id","general-payment-details"],[1,"payment-parameters"],["colspan","2"],[1,"left"],[1,"left","bold"],[1,"bold"],["href","#","onclick","print()",1,"entry-option","center"],[1,"refund","option"],[1,"entry-option","center",3,"click"]],template:function(e,t){1&e&&(h.Pb(0,"div",0),h.wc(1,ke,2,1,"h2",1),h.wc(2,Te,1,2,"app-view-description",2),h.wc(3,Ne,1,1,"app-resource-unavailable",3),h.wc(4,Le,1,2,"app-notification-screen",4),h.wc(5,Ye,33,17,"div",5),h.Ob()),2&e&&(h.zb(1),h.gc("ngIf",t.title),h.zb(1),h.gc("ngIf",t.view),h.zb(1),h.gc("ngIf",t.isError),h.zb(1),h.gc("ngIf",t.notificationAvailable),h.zb(1),h.gc("ngIf",t.entry))},directives:[r.l,I.a,$.a,ne.a],pipes:[r.d,r.r],styles:["#general-payment-details[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{width:40%}"]}),e})();var He=n("inDW");const Je=/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/;let Ze=(()=>{class e{constructor(e){this.fb=e}$entryForm(){return this.fb.group({payerName:["",{validators:[i.o.required,i.o.minLength(4),i.o.maxLength(40)]}],payerEmail:["",{validators:[i.o.required,i.o.minLength(4),i.o.maxLength(40),Object(He.a)(Je)]}],payerPhone:["",{validators:[i.o.required,i.o.minLength(10),i.o.maxLength(14),e=>{let t=e.value;return t.startsWith("+234")&&t.length>14?{payerPhoneIntl:{value:t}}:!t.startsWith("+234")&&t.length>11?{payerPhone:{value:t}}:null}]}],description:["",{validators:[i.o.required,i.o.minLength(9),i.o.maxLength(200)]}],payment_type:["",{validators:[i.o.required,i.o.max(1e8)]}],payment_session:["",{validators:[i.o.required,i.o.max(1e8)]}],amount:["",{validators:[i.o.required,i.o.minLength(2),i.o.maxLength(8)]}]})}searchForm(e){return new i.c("",[Object(He.d)(e)])}}return e.\u0275fac=function(t){return new(t||e)(h.Tb(i.b))},e.\u0275prov=h.Gb({token:e,factory:e.\u0275fac}),e})();function Xe(e,t){if(1&e&&(h.Pb(0,"li"),h.yc(1),h.Ob()),2&e){const e=h.ac(3);h.zb(1),h.zc(" Payer Name of ",e.systemType," should be provided and cannot be empty ")}}function et(e,t){if(1&e&&(h.Pb(0,"li"),h.yc(1),h.Ob()),2&e){const e=h.ac(3);h.zb(1),h.zc(" Payer Name of ",e.systemType," cannot be less than 4 characters in length ")}}function tt(e,t){if(1&e&&(h.Pb(0,"li"),h.yc(1),h.Ob()),2&e){const e=h.ac(3);h.zb(1),h.zc(" Payer Name of ",e.systemType," cannot be greater than 40 characters in length ")}}function nt(e,t){if(1&e&&(h.Pb(0,"div",2),h.Pb(1,"ul"),h.wc(2,Xe,2,1,"li",0),h.wc(3,et,2,1,"li",0),h.wc(4,tt,2,1,"li",0),h.Ob(),h.Ob()),2&e){const e=h.ac(2);h.gc("@fadeAnimation",void 0),h.zb(2),h.gc("ngIf",null==e.payerName.errors?null:e.payerName.errors.required),h.zb(1),h.gc("ngIf",(null==e.payerName.errors?null:e.payerName.errors.required)||(null==e.payerName.errors?null:e.payerName.errors.minlength)),h.zb(1),h.gc("ngIf",(null==e.payerName.errors?null:e.payerName.errors.required)||(null==e.payerName.errors?null:e.payerName.errors.maxlength))}}function rt(e,t){if(1&e&&(h.Nb(0),h.wc(1,nt,5,4,"div",1),h.Mb()),2&e){const e=h.ac();h.zb(1),h.gc("ngIf",e.payerName.invalid&&(e.payerName.touched||e.payerName.dirty))}}function it(e,t){if(1&e&&(h.Pb(0,"li"),h.yc(1),h.Ob()),2&e){const e=h.ac(3);h.zb(1),h.zc(" Payer Email Address of ",e.systemType," should be provided and cannot be empty ")}}function st(e,t){if(1&e&&(h.Pb(0,"li"),h.yc(1),h.Ob()),2&e){const e=h.ac(3);h.zb(1),h.zc(" Payer Email Address of ",e.systemType," cannot be less than 4 characters in length ")}}function at(e,t){if(1&e&&(h.Pb(0,"li"),h.yc(1),h.Ob()),2&e){const e=h.ac(3);h.zb(1),h.zc(" Payer Email Address of ",e.systemType," cannot be greater than 40 characters in length ")}}function ct(e,t){1&e&&(h.Pb(0,"li"),h.yc(1," Payer Email Address should be valid and should conform to standards for example david@gmail.com "),h.Ob())}function ot(e,t){if(1&e&&(h.Pb(0,"div",2),h.Pb(1,"ul"),h.wc(2,it,2,1,"li",0),h.wc(3,st,2,1,"li",0),h.wc(4,at,2,1,"li",0),h.wc(5,ct,2,0,"li",0),h.Ob(),h.Ob()),2&e){const e=h.ac(2);h.gc("@fadeAnimation",void 0),h.zb(2),h.gc("ngIf",null==e.payerEmail.errors?null:e.payerEmail.errors.required),h.zb(1),h.gc("ngIf",(null==e.payerEmail.errors?null:e.payerEmail.errors.required)||(null==e.payerEmail.errors?null:e.payerEmail.errors.minlength)),h.zb(1),h.gc("ngIf",(null==e.payerEmail.errors?null:e.payerEmail.errors.required)||(null==e.payerEmail.errors?null:e.payerEmail.errors.maxlength)),h.zb(1),h.gc("ngIf",(null==e.payerEmail.errors?null:e.payerEmail.errors.required)||(null==e.payerEmail.errors?null:e.payerEmail.errors.emailAddress))}}function lt(e,t){if(1&e&&(h.Nb(0),h.wc(1,ot,6,5,"div",1),h.Mb()),2&e){const e=h.ac();h.zb(1),h.gc("ngIf",e.payerEmail.invalid&&(e.payerEmail.touched||e.payerEmail.dirty))}}function ut(e,t){if(1&e&&(h.Pb(0,"li"),h.yc(1),h.Ob()),2&e){const e=h.ac(3);h.zb(1),h.zc(" Payer Phone Number of ",e.systemType," should be provided and cannot be empty ")}}function bt(e,t){if(1&e&&(h.Pb(0,"li"),h.yc(1),h.Ob()),2&e){const e=h.ac(3);h.zb(1),h.zc(" Payer Phone Number of ",e.systemType," cannot be less than 10 characters in length ")}}function yt(e,t){if(1&e&&(h.Pb(0,"li"),h.yc(1),h.Ob()),2&e){const e=h.ac(3);h.zb(1),h.zc(" Payer Phone Number of ",e.systemType," cannot be greater than 14 characters in length ")}}function pt(e,t){if(1&e&&(h.Pb(0,"li"),h.yc(1),h.Ob()),2&e){const e=h.ac(3);h.zb(1),h.zc(" Payer Phone Number of ",e.systemType," if starting with +234 before the last 10 digits should not be greater than 13 characters in length ")}}function ht(e,t){if(1&e&&(h.Pb(0,"li"),h.yc(1),h.Ob()),2&e){const e=h.ac(3);h.zb(1),h.zc(" Payer Phone Number of ",e.systemType," if not starting with +234 before the last 10 digits should not be greater than 11 characters in length ")}}function gt(e,t){if(1&e&&(h.Pb(0,"div",2),h.Pb(1,"ul"),h.wc(2,ut,2,1,"li",0),h.wc(3,bt,2,1,"li",0),h.wc(4,yt,2,1,"li",0),h.wc(5,pt,2,1,"li",0),h.wc(6,ht,2,1,"li",0),h.Ob(),h.Ob()),2&e){const e=h.ac(2);h.gc("@fadeAnimation",void 0),h.zb(2),h.gc("ngIf",null==e.payerPhone.errors?null:e.payerPhone.errors.required),h.zb(1),h.gc("ngIf",(null==e.payerPhone.errors?null:e.payerPhone.errors.required)||(null==e.payerPhone.errors?null:e.payerPhone.errors.minlength)),h.zb(1),h.gc("ngIf",(null==e.payerPhone.errors?null:e.payerPhone.errors.required)||(null==e.payerPhone.errors?null:e.payerPhone.errors.maxlength)),h.zb(1),h.gc("ngIf",(null==e.payerPhone.errors?null:e.payerPhone.errors.required)||(null==e.payerPhone.errors?null:e.payerPhone.errors.payerPhoneIntl)),h.zb(1),h.gc("ngIf",(null==e.payerPhone.errors?null:e.payerPhone.errors.required)||(null==e.payerPhone.errors?null:e.payerPhone.errors.payerPhone))}}function ft(e,t){if(1&e&&(h.Nb(0),h.wc(1,gt,7,6,"div",1),h.Mb()),2&e){const e=h.ac();h.zb(1),h.gc("ngIf",e.payerPhone.invalid&&(e.payerPhone.touched||e.payerPhone.dirty))}}function mt(e,t){1&e&&(h.Pb(0,"li"),h.yc(1," Description of Payment should be provided and cannot be empty "),h.Ob())}function dt(e,t){1&e&&(h.Pb(0,"li"),h.yc(1," Description of Payment cannot be less than 4 characters in length "),h.Ob())}function Ot(e,t){1&e&&(h.Pb(0,"li"),h.yc(1," Description of Payment cannot be greater than 100 characters in length "),h.Ob())}function Pt(e,t){if(1&e&&(h.Pb(0,"div",2),h.Pb(1,"ul"),h.wc(2,mt,2,0,"li",0),h.wc(3,dt,2,0,"li",0),h.wc(4,Ot,2,0,"li",0),h.Ob(),h.Ob()),2&e){const e=h.ac(2);h.gc("@fadeAnimation",void 0),h.zb(2),h.gc("ngIf",null==e.description.errors?null:e.description.errors.required),h.zb(1),h.gc("ngIf",(null==e.description.errors?null:e.description.errors.required)||(null==e.description.errors?null:e.description.errors.minlength)),h.zb(1),h.gc("ngIf",(null==e.description.errors?null:e.description.errors.required)||(null==e.description.errors?null:e.description.errors.maxlength))}}function vt(e,t){if(1&e&&(h.Nb(0),h.wc(1,Pt,5,4,"div",1),h.Mb()),2&e){const e=h.ac();h.zb(1),h.gc("ngIf",e.description.invalid&&(e.description.touched||e.description.dirty))}}function wt(e,t){if(1&e&&(h.Pb(0,"li"),h.yc(1),h.Ob()),2&e){const e=h.ac(3);h.zb(1),h.zc(" Amount of ",e.systemType," should be provided and cannot be empty ")}}function zt(e,t){if(1&e&&(h.Pb(0,"li"),h.yc(1),h.Ob()),2&e){const e=h.ac(3);h.zb(1),h.zc(" Amount of ",e.systemType," cannot be less than 2 characters in length ")}}function Et(e,t){if(1&e&&(h.Pb(0,"li"),h.yc(1),h.Ob()),2&e){const e=h.ac(3);h.zb(1),h.zc(" Amount of ",e.systemType," cannot be greater than 8 characters in length ")}}function It(e,t){if(1&e&&(h.Pb(0,"div",2),h.Pb(1,"ul"),h.wc(2,wt,2,1,"li",0),h.wc(3,zt,2,1,"li",0),h.wc(4,Et,2,1,"li",0),h.Ob(),h.Ob()),2&e){const e=h.ac(2);h.gc("@fadeAnimation",void 0),h.zb(2),h.gc("ngIf",null==e.amt.errors?null:e.amt.errors.required),h.zb(1),h.gc("ngIf",(null==e.amt.errors?null:e.amt.errors.required)||(null==e.amt.errors?null:e.amt.errors.minlength)),h.zb(1),h.gc("ngIf",(null==e.amt.errors?null:e.amt.errors.required)||(null==e.amt.errors?null:e.amt.errors.maxlength))}}function $t(e,t){if(1&e&&(h.Nb(0),h.wc(1,It,5,4,"div",1),h.Mb()),2&e){const e=h.ac();h.zb(1),h.gc("ngIf",e.amt.invalid&&(e.amt.touched||e.amt.dirty))}}let kt=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h.Eb({type:e,selectors:[["app-general-payment-entry-create-validator"]],inputs:{systemType:["system-type","systemType"],payerName:["payer-name","payerName"],payerEmail:["payer-email","payerEmail"],payerPhone:["payer-phone","payerPhone"],description:"description",amt:"amt"},decls:5,vars:5,consts:[[4,"ngIf"],["class","validation-error",4,"ngIf"],[1,"validation-error"]],template:function(e,t){1&e&&(h.wc(0,rt,2,1,"ng-container",0),h.wc(1,lt,2,1,"ng-container",0),h.wc(2,ft,2,1,"ng-container",0),h.wc(3,vt,2,1,"ng-container",0),h.wc(4,$t,2,1,"ng-container",0)),2&e&&(h.gc("ngIf",t.payerName),h.zb(1),h.gc("ngIf",t.payerEmail),h.zb(1),h.gc("ngIf",t.payerPhone),h.zb(1),h.gc("ngIf",t.description),h.zb(1),h.gc("ngIf",t.amt))},directives:[r.l],styles:[""],data:{animation:[p.a]}}),e})();function Tt(e,t){if(1&e&&h.Lb(0,"app-view-description",6),2&e){const e=h.ac();h.gc("view-description",e.view)("system-type",e.systemType)}}function Nt(e,t){if(1&e&&h.Lb(0,"app-guidelines",7),2&e){const e=h.ac();h.gc("view",e.view)("system-guideline",e.systemGuideline)}}function Lt(e,t){if(1&e&&h.Lb(0,"app-resource-unavailable",8),2&e){const e=h.ac();h.gc("error",e.error)}}function jt(e,t){if(1&e){const e=h.Qb();h.Pb(0,"app-notification-screen",9),h.Wb("finished",function(){return h.rc(e),h.ac().removeNotification()}),h.Ob()}if(2&e){const e=h.ac();h.gc("notified",e.notificationAvailable)("message",e.notificationMessage)}}function St(e,t){if(1&e&&(h.Pb(0,"option",13),h.yc(1),h.Ob()),2&e){const e=t.$implicit;h.gc("value",e._id),h.zb(1),h.zc(" ",e.name," ")}}function Ft(e,t){if(1&e){const e=h.Qb();h.Nb(0),h.Pb(1,"div",10),h.Pb(2,"label",11),h.yc(3," Payment Session * : "),h.Ob(),h.Pb(4,"select",12),h.Wb("change",function(t){return h.rc(e),h.ac().verifyPaymentSession(t.target)}),h.Lb(5,"option",13),h.wc(6,St,2,2,"option",14),h.Ob(),h.Ob(),h.Mb()}if(2&e){const e=h.ac();h.zb(4),h.gc("readOnly",e.noEdit)("formControl",e.paymentSessionCtrl),h.zb(2),h.gc("ngForOf",e.paymentSession)}}function At(e,t){if(1&e&&h.Lb(0,"app-general-payment-entry-create-validator",33),2&e){const e=h.ac(2);h.gc("system-type",e.systemType)("payer-name",e.payerName)}}function Ct(e,t){if(1&e&&h.Lb(0,"app-general-payment-entry-create-validator",34),2&e){const e=h.ac(2);h.gc("system-type",e.systemType)("payer-email",e.payerEmail)}}function Mt(e,t){if(1&e&&h.Lb(0,"app-general-payment-entry-create-validator",35),2&e){const e=h.ac(2);h.gc("system-type",e.systemType)("payer-phone",e.payerPhone)}}function xt(e,t){if(1&e&&h.Lb(0,"app-general-payment-entry-create-validator",36),2&e){const e=h.ac(2);h.gc("system-type",e.systemType)("description",e.description)}}function _t(e,t){if(1&e&&h.Lb(0,"app-general-payment-entry-create-validator",37),2&e){const e=h.ac(2);h.gc("system-type",e.systemType)("amount",e.amount)}}const qt=function(e){return{disabled:e}};function Dt(e,t){if(1&e&&(h.Pb(0,"button",38),h.yc(1," Submit "),h.Ob()),2&e){const e=h.ac(2);h.Bb(h.lc(3,qt,!e.isFormValid)),h.gc("disabled",!e.isFormValid)}}function Kt(e,t){1&e&&(h.Pb(0,"p"),h.yc(1," Your form is being processed. Please kindly be patient and wait while it completes. "),h.Ob())}function Rt(e,t){if(1&e){const e=h.Qb();h.Nb(0),h.Pb(1,"div",15),h.Pb(2,"form",16),h.Wb("ngSubmit",function(){h.rc(e);const t=h.ac();return t.createEntry(t.entryForm.value)}),h.Pb(3,"h3"),h.yc(4," Payment Form "),h.Ob(),h.Pb(5,"div",10),h.Pb(6,"label",17),h.yc(7," Full Name * : "),h.Ob(),h.Lb(8,"input",18),h.wc(9,At,1,2,"app-general-payment-entry-create-validator",19),h.Ob(),h.Pb(10,"div",10),h.Pb(11,"label",20),h.yc(12," Email Address * : "),h.Ob(),h.Lb(13,"input",21),h.wc(14,Ct,1,2,"app-general-payment-entry-create-validator",22),h.Ob(),h.Pb(15,"div",10),h.Pb(16,"label",23),h.yc(17," Phone Number * : "),h.Ob(),h.Lb(18,"input",24),h.wc(19,Mt,1,2,"app-general-payment-entry-create-validator",25),h.Ob(),h.Pb(20,"div",10),h.Pb(21,"label",26),h.yc(22," Description of Payment * : "),h.Ob(),h.Lb(23,"input",27),h.wc(24,xt,1,2,"app-general-payment-entry-create-validator",28),h.Ob(),h.Pb(25,"div",10),h.Pb(26,"label",29),h.yc(27," Amount * : "),h.Ob(),h.Lb(28,"input",30),h.wc(29,_t,1,2,"app-general-payment-entry-create-validator",31),h.Ob(),h.wc(30,Dt,2,5,"button",32),h.wc(31,Kt,2,0,"p",5),h.Ob(),h.Ob(),h.Mb()}if(2&e){const e=h.ac();h.zb(2),h.gc("formGroup",e.entryForm),h.zb(7),h.gc("ngIf",e.payerName),h.zb(5),h.gc("ngIf",e.payerEmail),h.zb(5),h.gc("ngIf",e.payerPhone),h.zb(5),h.gc("ngIf",e.description),h.zb(5),h.gc("ngIf",e.amount),h.zb(1),h.gc("ngIf",!e.isFormProcessing),h.zb(1),h.gc("ngIf",e.isFormSubmitted)}}let Wt=(()=>{class e{constructor(e,t,n,r,s,a){this.route=e,this.router=t,this.ns=n,this.ems=r,this.gps=s,this.gpfs=a,this.isError=!1,this.isFormSubmitted=!1,this.isFormProcessing=!1,this.submission=!1,this.paymentSessionCtrl=new i.c}ngOnInit(){let e=this.route.snapshot.data;this.systemType=e.create.systemType,this.title=e.create.title,this.view=e.create.view,this.viewWord=e.create.viewWord,this.link=e.create.link,this.$link=e.create.$link,this.systemGuideline=e.create.systemGuideline,this.paymentRule=e.create.paymentRule,this.gps.$systemType=this.systemType,this.gps.$sa=this.$link,this.route.paramMap.pipe(Object(M.a)(e=>{let t=e.get("payment");return this.pslug=t,this.gps.addEntry(t)})).subscribe(e=>{null==e?(this.isError=!0,this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message)):1==e.permitted&&null!=e.$data&&null!=e.$data.status?this.router.navigate(["/general-payment",this.link,"entry","detail",e.$data._id]):1==e.permitted&&(this.paymentSession=e.$data.payment_session,this.paymentType=e.$data.payment_type)})}verifyPaymentSession(e){return""!=e.value&&e.value!=this.prev_psession&&(this.prev_psession=e.value,void this.gps.checkPayment(this.pslug,{payment_type:this.paymentType,payment_session:e.value}).subscribe(e=>{let t=e.$data;null!=t.slug?this.router.navigate(["general-payment","t",this.pslug,"entry",t.slug,"detail"]):(this.entry=t,this.entryForm=this.gpfs.$entryForm(),this.entryForm.patchValue({description:t.description,amount:t.amount,payment_type:t.payment_type,payment_session:t.payment_session}))}))}createEntry(e){e.amount=100*this.entry.amount,e.email=e.payerEmail,e.callback_url=`http://localhost:4200/general-payment/t/${this.pslug}/validation`,e.metadata={full_name:e.payerName,email_address:e.payerEmail,phone_number:e.payerPhone,payment_type:e.payment_type,payment_session:e.payment_session},this.submission=!0,this.isFormSubmitted=!0,this.error=null,this.isError=!1,this.isFormProcessing=!0,this.gps.$initializePayment(e).subscribe(e=>{if(null==e)this.isFormSubmitted=!1,this.isFormProcessing=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification("Network error has occured. Payment is only a possiblity when there is Internet connection.");else if(null!=e&&1==e.created)return this.isFormSubmitted=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and ${this.systemType} is added.`),location.href=e.$data.data.authorization_url})}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}removeNotification(){this.ns.removeNotification()}get payerName(){return this.entryForm.get("payerName")}get payerEmail(){return this.entryForm.get("payerEmail")}get payerPhone(){return this.entryForm.get("payerPhone")}get description(){return this.entryForm.get("description")}get amt(){return this.entryForm.get("amt")}get isFormValid(){return this.entryForm.valid}}return e.\u0275fac=function(t){return new(t||e)(h.Kb(l.a),h.Kb(l.d),h.Kb(X.a),h.Kb(f.a),h.Kb(E),h.Kb(Ze))},e.\u0275cmp=h.Eb({type:e,selectors:[["app-general-payment-entry-create"]],features:[h.yb([X.a,f.a])],decls:9,vars:7,consts:[["id","general-payment"],[3,"view-description","system-type",4,"ngIf"],[3,"view","system-guideline",4,"ngIf"],[3,"error",4,"ngIf"],[3,"notified","message","finished",4,"ngIf"],[4,"ngIf"],[3,"view-description","system-type"],[3,"view","system-guideline"],[3,"error"],[3,"notified","message","finished"],[1,"form-group"],["for","paymentSession",1,"form-label","bold"],["name","paymentSession","id","paymentSession","required","required",1,"form-control",3,"readOnly","formControl","change"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["id","general-payment-form"],["method","post","autocomplete","off","enctype","application/x-www-form-urlencoded",3,"formGroup","ngSubmit"],["for","payer-name",1,"form-label","bold"],["type","text","id","payer-name","name","payerName","placeholder","David Muller","formControlName","payerName","autocomplete","new-payerName",1,"form-control"],[3,"system-type","payer-name",4,"ngIf"],["for","payer-email",1,"form-label","bold"],["type","text","id","payer-email","name","payerEmail","placeholder","david@example.com","formControlName","payerEmail","autocomplete","new-payerEmail",1,"form-control"],[3,"system-type","payer-email",4,"ngIf"],["for","payer-phone",1,"form-label","bold"],["type","text","id","payer-phone","name","payerPhone","placeholder","09022035587 or +2349022035587","formControlName","payerPhone","autocomplete","new-payerPhone",1,"form-control"],[3,"system-type","payer-phone",4,"ngIf"],["for","description",1,"form-label","bold"],["type","text","id","description","name","description","readonly","readonly","value","Departmental Fee Payment","formControlName","description","autocomplete","new-description",1,"form-control"],[3,"system-type","description",4,"ngIf"],["for","amount",1,"form-label","bold"],["type","text","id","amount","name","amount","readonly","readonly","formControlName","amount","autocomplete","new-amount",1,"form-control"],[3,"system-type","amount",4,"ngIf"],["type","submit","class","btn-submit",3,"class","disabled",4,"ngIf"],[3,"system-type","payer-name"],[3,"system-type","payer-email"],[3,"system-type","payer-phone"],[3,"system-type","description"],[3,"system-type","amount"],["type","submit",1,"btn-submit",3,"disabled"]],template:function(e,t){1&e&&(h.Pb(0,"div",0),h.Pb(1,"h2"),h.yc(2),h.Ob(),h.wc(3,Tt,1,2,"app-view-description",1),h.wc(4,Nt,1,2,"app-guidelines",2),h.wc(5,Lt,1,1,"app-resource-unavailable",3),h.wc(6,jt,1,2,"app-notification-screen",4),h.wc(7,Ft,7,3,"ng-container",5),h.wc(8,Rt,32,8,"ng-container",5),h.Ob()),2&e&&(h.zb(2),h.zc(" ",t.title," "),h.zb(1),h.gc("ngIf",t.view),h.zb(1),h.gc("ngIf",t.systemGuideline),h.zb(1),h.gc("ngIf",t.error),h.zb(1),h.gc("ngIf",t.notificationAvailable),h.zb(1),h.gc("ngIf",null!=t.paymentSession&&(null==t.paymentSession?null:t.paymentSession.length)>0),h.zb(1),h.gc("ngIf",t.entryForm))},directives:[r.l,I.a,$.a,ne.a,i.n,i.m,i.i,i.d,i.k,i.p,r.k,i.q,i.j,i.g,i.a,i.e,kt],styles:[""]}),e})(),Qt=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h.Eb({type:e,selectors:[["app-general-payment-entry-delete-all"]],decls:2,vars:0,template:function(e,t){1&e&&(h.Pb(0,"p"),h.yc(1,"general-payment-entry-delete-all works!"),h.Ob())},styles:[""]}),e})();function Gt(e,t){if(1&e&&(h.Pb(0,"h2"),h.yc(1),h.Ob()),2&e){const e=h.ac();h.zb(1),h.zc(" ",e.title," ")}}function Ut(e,t){if(1&e&&h.Lb(0,"app-view-description",4),2&e){const e=h.ac();h.gc("view-type",e.view)}}function Vt(e,t){if(1&e&&h.Lb(0,"app-resource-unavailable",5),2&e){const e=h.ac();h.gc("error",e.error)}}let Yt=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.ns=t,this.ems=n,this.route=r,this.gps=i,this.isError=!1}ngOnInit(){this.gps.$systemType=this.systemType,this.gps.$sa=this.$link,this.route.queryParams.pipe(Object(M.a)(e=>{let t=e.reference;return this.pslug=this.route.snapshot.paramMap.get("payment"),this.gps.$verifyPayment(t)})).subscribe(e=>{null==e?(this.isError=!0,this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message)):null!=e&&1==e.verified&&(this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and ${this.systemType} is added.`),this.entryChanges(e.$data))})}ngOnDestroy(){clearTimeout(this.entryChangesT)}entryChanges(e){this.entryChangesT=setTimeout(()=>this.router.navigate(e&&e._id?["general-payment","t",this.pslug,"entry",e.slug,"detail"]:["general-payment","t",this.pslug],{replaceUrl:!0}),5e3)}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}removeNotification(){this.ns.removeNotification()}}return e.\u0275fac=function(t){return new(t||e)(h.Kb(l.d),h.Kb(X.a),h.Kb(f.a),h.Kb(l.a),h.Kb(E))},e.\u0275cmp=h.Eb({type:e,selectors:[["app-general-payment-entry-verification"]],features:[h.yb([X.a,f.a])],decls:6,vars:3,consts:[["id","general-payment"],[4,"ngIf"],[3,"view-type",4,"ngIf"],[3,"error",4,"ngIf"],[3,"view-type"],[3,"error"]],template:function(e,t){1&e&&(h.Pb(0,"div",0),h.wc(1,Gt,2,1,"h2",1),h.Pb(2,"p"),h.yc(3," Kindly be patient while the payment is being processed "),h.Ob(),h.wc(4,Ut,1,1,"app-view-description",2),h.wc(5,Vt,1,1,"app-resource-unavailable",3),h.Ob()),2&e&&(h.zb(1),h.gc("ngIf",t.title),h.zb(3),h.gc("ngIf",t.view),h.zb(1),h.gc("ngIf",t.isError))},directives:[r.l,I.a,$.a],styles:[""]}),e})(),Bt={systemType:"General Payment",title:"General Payment",view:"gp",viewWord:"Payment",link:"payment",$link:"general-payment",systemGuideline:"payment",base:"payment"};const Ht={dashboard:Object.assign({},Bt),create:Object.assign(Object.assign({},Bt),{title:`Make ${Bt.systemType} Payment`,paymentRule:{amount:"1000",description:"Departmental Fee Payment",type:"department",callback:"http://localhost:4200/payment/department/validation/"}}),detail:Object.assign(Object.assign({},Bt),{title:Bt.systemType+" Entry"}),entries:Object.assign(Object.assign({},Bt),{title:Bt.systemType+" Entries",searchFilters:{paymentReference:"Payment Reference",department:"Department",status:"Status"}}),validation:Object.assign(Object.assign({},Bt),{title:`Verifying ${Bt.systemType} Payment`}),deleteAll:Object.assign(Object.assign({},Bt),{title:Bt.systemType+" Entries : Delete All"})},Jt=[{path:"",component:g,canActivate:[u.a],canLoad:[u.a],children:[{path:"",canActivateChild:[u.a],canLoad:[u.a],children:[{path:"",component:C,data:{dashboard:Ht.dashboard}},{path:"t/:payment",component:H,data:{dashboard:Ht.dashboard}},{path:"t/:payment/entries",component:$e,data:{entries:Ht.entries}},{path:"t/:payment/entry/:entry/detail",component:Be,data:{detail:Ht.detail}},{path:"t/:payment/entry/create",component:Wt,canActivate:[b.a],data:{create:Ht.detail}},{path:"t/:payment/validation",component:Yt,data:{validation:Ht.validation}},{path:"entry/delete/all",component:Qt,canActivate:[y.a],data:{deleteAll:Ht.deleteAll}}]}]}];let Zt=(()=>{class e{}return e.\u0275mod=h.Ib({type:e}),e.\u0275inj=h.Hb({factory:function(t){return new(t||e)},imports:[[l.g.forChild(Jt)],l.g]}),e})(),Xt=(()=>{class e{}return e.\u0275mod=h.Ib({type:e}),e.\u0275inj=h.Hb({factory:function(t){return new(t||e)},providers:[E,Ze],imports:[[r.b,Zt,i.l,s.a,c.a,a.a,o.a]]}),e})()},xlhj:function(e,t,n){"use strict";n.d(t,"a",function(){return N});var r=n("Ub9n"),i=n("EYJY"),s=n("+3x0"),a=n("OX4D");class c{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new o(e,this.compare,this.keySelector))}}class o extends a.a{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}var l=n("XA6Z"),u=n("iPJu"),b=n("skqr"),y=n("8VHZ"),p=n("Yvf7"),h=n("J1Ni");function g(e,t){1&e&&(r.Nb(0),r.yc(1," . "),r.Mb())}function f(e,t){1&e&&r.yc(0," , ")}function m(e,t){if(1&e&&(r.Nb(0),r.yc(1),r.wc(2,g,2,0,"ng-container",4),r.wc(3,f,1,0,"ng-template",null,5,r.xc),r.Mb()),2&e){const e=t.$implicit,n=t.last,i=r.qc(4);r.zb(1),r.zc(" ",e," "),r.zb(1),r.gc("ngIf",n)("ngIfElse",i)}}function d(e,t){if(1&e&&(r.Nb(0),r.wc(1,m,5,3,"ng-container",3),r.Mb()),2&e){const e=r.ac(4);r.zb(1),r.gc("ngForOf",e.search.errors.searchError.searches)}}function O(e,t){if(1&e&&(r.Pb(0,"li"),r.yc(1),r.wc(2,d,2,1,"ng-container",0),r.Ob()),2&e){const e=r.ac(3);r.zb(1),r.zc(" Search value of ",e.systemType," should be either of the followings "),r.zb(1),r.gc("ngIf",null==e.search.errors||null==e.search.errors.searchError?null:e.search.errors.searchError.searches)}}function P(e,t){if(1&e&&(r.Pb(0,"div",2),r.Pb(1,"ul"),r.wc(2,O,3,2,"li",0),r.Ob(),r.Ob()),2&e){const e=r.ac(2);r.gc("@fadeAnimation",void 0),r.zb(2),r.gc("ngIf",(null==e.search.errors?null:e.search.errors.required)||(null==e.search.errors?null:e.search.errors.searchError))}}function v(e,t){if(1&e&&(r.Nb(0),r.wc(1,P,3,2,"div",1),r.Mb()),2&e){const e=r.ac();r.zb(1),r.gc("ngIf",e.search.invalid&&(e.search.touched||e.search.dirty))}}let w=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Eb({type:e,selectors:[["app-general-form-validators"]],inputs:{systemType:["system-type","systemType"],search:"search"},decls:1,vars:1,consts:[[4,"ngIf"],["class","validation-error",4,"ngIf"],[1,"validation-error"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["iAmNotLast",""]],template:function(e,t){1&e&&r.wc(0,v,2,1,"ng-container",0),2&e&&r.gc("ngIf",t.search)},directives:[p.l,p.k],styles:[""],data:{animation:[h.a]}}),e})();function z(e,t){if(1&e&&(r.Nb(0),r.Pb(1,"option",12),r.yc(2),r.Ob(),r.Mb()),2&e){const e=t.$implicit;r.zb(1),r.hc("value",e.key),r.zb(1),r.zc(" ",e.value," ")}}function E(e,t){if(1&e&&(r.Pb(0,"app-general-form-validators",13),r.Wb("keyup",function(){return 0}),r.Ob()),2&e){const e=r.ac();r.gc("search",e.search)("system-type",e.systemType)}}function I(e,t){if(1&e){const e=r.Qb();r.Pb(0,"button",14),r.Wb("click",function(){r.rc(e);const t=r.ac(),n=r.qc(11),i=r.qc(4);return t.clearSearch(),n.value="",i.value=""}),r.yc(1," Clear Search "),r.Ob()}}function $(e,t){1&e&&(r.Pb(0,"p"),r.yc(1," Searching for entry or entries from the records. "),r.Pb(2,"span",15),r.yc(3," ||| "),r.Ob(),r.Ob())}function k(e,t){1&e&&(r.Pb(0,"p"),r.yc(1," Refreshing list of entries from the records. "),r.Pb(2,"span",15),r.yc(3," ||| "),r.Ob(),r.Ob())}const T=function(e,t){return{"btn-search":e,disabled:t}};let N=(()=>{class e{constructor(e,t){this.gss=e,this.gfs=t,this.errorEmit=new r.n,this.clearSearchEmit=new r.n,this.searchTerm=new i.a,this.searchClearedOb=this.gss.searchCleared$.subscribe(e=>{this.refreshing=!1})}ngOnInit(){this.searchCtrl=this.gfs.searchForm(this.searchFilters),this.searchTerm.pipe(Object(s.a)(4e3),e=>e.lift(new c(void 0,void 0)),Object(l.a)(e=>this.gss.searchTerms(e,this.$link,this.systemType+" Entries"))).subscribe(e=>{this.entrySearching=!1,this.refreshing=!1,this.entriesSearched=!0,this.gss.entriesSearched.next(e)})}ngOnDestroy(){this.searchClearedOb.unsubscribe(),this.searchTerm.unsubscribe()}searchEntry(e,t){if(this.gss.errorExist.next(!1),this.entriesSearched=!1,!e.trim()||Object.keys(this.searchFilters).indexOf(e)<0)return!1;this.entrySearching=!0,this.gss.searchQuery={[e]:t},this.searchTerm.next(this.gss.searchQuery)}clearSearch(){this.gss.searchQuery={},this.entriesSearched=!1,this.refreshing=!0,this.gss.clearSearch.next(!0),this.gss.errorExist.next(!1)}validSearch(e){return Object.keys(this.searchFilters).indexOf(e)<0}get search(){return this.searchCtrl}}return e.\u0275fac=function(t){return new(t||e)(r.Kb(u.a),r.Kb(b.a))},e.\u0275cmp=r.Eb({type:e,selectors:[["app-search"]],inputs:{systemType:["system-type","systemType"],searchFilters:["search-filters","searchFilters"],$link:"$link"},decls:17,vars:14,consts:[[1,"search-bar"],[1,"left"],["id","query","name","queryType",1,"form-control",3,"formControl"],["qt",""],["value",""],[4,"ngFor","ngForOf"],[3,"search","system-type","keyup",4,"ngIf"],["type","text","name","queryValue","value","","autocomplete","new-queryValue",3,"keyup"],["qv",""],["type","submit",1,"btn-submit","entry-option-small",3,"click"],["class","btn-submit",3,"click",4,"ngIf"],[4,"ngIf"],[3,"value"],[3,"search","system-type","keyup"],[1,"btn-submit",3,"click"],[1,"rolling"]],template:function(e,t){if(1&e){const e=r.Qb();r.Pb(0,"div",0),r.Pb(1,"h4",1),r.yc(2),r.Ob(),r.Pb(3,"select",2,3),r.Pb(5,"option",4),r.yc(6," Search Criteria "),r.Ob(),r.wc(7,z,3,2,"ng-container",5),r.bc(8,"keyvalue"),r.Ob(),r.wc(9,E,1,2,"app-general-form-validators",6),r.Pb(10,"input",7,8),r.Wb("keyup",function(){return 0}),r.Ob(),r.Pb(12,"button",9),r.Wb("click",function(){r.rc(e);const n=r.qc(4),i=r.qc(11);return t.searchEntry(n.value,i.value)}),r.yc(13," Submit "),r.Ob(),r.wc(14,I,2,0,"button",10),r.wc(15,$,4,0,"p",11),r.wc(16,k,4,0,"p",11),r.Ob()}if(2&e){const e=r.qc(4),n=r.qc(11);r.zb(2),r.zc(" Search ",t.systemType," Entry "),r.zb(1),r.gc("formControl",t.search),r.zb(4),r.gc("ngForOf",r.cc(8,9,t.searchFilters)),r.zb(2),r.gc("ngIf",t.search),r.zb(3),r.Bb(r.mc(11,T,n.value&&!t.validSearch(e.value),!n.value||t.validSearch(e.value))),r.zb(2),r.gc("ngIf",t.entriesSearched),r.zb(1),r.gc("ngIf",t.entrySearching),r.zb(1),r.gc("ngIf",t.refreshing)}},directives:[y.n,y.i,y.d,y.k,y.p,p.k,p.l,w],pipes:[p.f],styles:[""]}),e})()},yjbJ:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("jV/k"),i=n("oECA"),s=n("O6Zd"),a=n("VcWf"),c=n("Ub9n"),o=n("FBrc"),l=n("EUGn");let u=(()=>{class e{constructor(e,t,n){this.http=e,this.apiConfig=t,this.ems=n}deleteAllEntry(){return this.http.get(`${this.apiConfig.host}/${this.$sa}/delete/entry/all/`).pipe(Object(i.a)(this.handleError(this.$systemType+" Entry or Entries Delete",null)))}$deleteAllEntry(){return this.http.delete(`${this.apiConfig.host}/${this.$sa}/delete/entry/all/`).pipe(Object(s.a)(e=>({allDeleted:!0})),Object(i.a)(this.handleError(this.$systemType+" Entry or Entries Delete",null)))}deleteManyEntry(e,t){return!!confirm("Are you sure you want to perform this action?")&&!e.p$esdl&&(e.p$esdl=!0,void t.$deleteManyEntry(e.esdl).subscribe(t=>{null==t?(e.p$esdl=!1,e.ns.setNotificationStatus(!0),e.ns.addNotification(`Operation is unsuccessful and many ${e.systemType} Entry is not deleted.`)):null!=t&&1==t.manyDeleted&&(e.p$esdl=!1,e.entries=e.entries.filter(t=>(e.ns.setNotificationStatus(!0),e.ns.addNotification(`Operation is successful and many ${e.systemType} Entry is deleted.`),e.esdl.indexOf(t.num)<0)),e.esdl=[])}))}addEntryToDeleteList(e,t,n,r){1==t?e>0&&r.esdl.push(e):!t&&r.esdl.indexOf(e)>-1&&(r.esdl=r.esdl.filter(t=>{let n=t!=e;return!!n&&""+n}))}paramProcessor(e,t){let n=e.get("page"),r=e.get("name");t.$entryRef=!!r||0,t.pageNumber=+n?+n:1;let i=e,s=i.keys,a={};for(let c of s){let e=i.get(c);e&&(a[c]=e)}return Object.keys(t.gss.searchQuery).length&&(a=Object.assign(Object.assign({},a),t.gss.searchQuery)),a}handleError(e="operation",t){return e=>(this.ems.message=e,Object(r.a)(t))}}return e.\u0275fac=function(t){return new(t||e)(c.Tb(o.b),c.Tb(a.b),c.Tb(l.a))},e.\u0275prov=c.Gb({token:e,factory:e.\u0275fac}),e})()}}]);