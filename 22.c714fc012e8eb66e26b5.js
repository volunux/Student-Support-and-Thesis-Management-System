(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"7Gs9":function(t,e,i){"use strict";i.r(e),i.d(e,"UserSignUpModule",function(){return A});var s=i("Yvf7"),n=i("8VHZ"),r=i("hxwH"),o=i("c3CK"),a=i("Fk62"),c=i("PHaz"),u=i("Ub9n");let l=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Eb({type:t,selectors:[["app-user-sign-up-homepage"]],decls:1,vars:0,template:function(t,e){1&t&&u.Lb(0,"router-outlet")},directives:[a.h],styles:[""]}),t})();var b=i("VcWf");class d{constructor(t){this.faculty=t.Faculty?t.Faculty:[],this.department=t.Department?t.Department:[],this.unit=t.Unit?t.Unit:[],this.level=t.Level?t.Level:[],this.country=t.Country?t.Country:[]}}var h=i("37EL"),p=i("EUGn"),f=i("9nlD"),m=i("MWCo"),g=i("9Ku7"),y=i("FBrc"),v=i("+ef2"),w=i("Rxsk"),F=i("TY4h"),U=i("U7hS");function O(t,e){if(1&t&&(u.Pb(0,"h2"),u.yc(1),u.Ob()),2&t){const t=u.ac();u.zb(1),u.zc(" ",t.title," ")}}function I(t,e){if(1&t&&u.Lb(0,"app-view-description",6),2&t){const t=u.ac();u.gc("view-type",t.view)("system-type",t.systemType)}}function T(t,e){if(1&t){const t=u.Qb();u.Pb(0,"app-notification-screen",7),u.Wb("finished",function(){return u.rc(t),u.ac().removeNotification()}),u.Ob()}if(2&t){const t=u.ac();u.gc("notified",t.notificationAvailable)("message",t.notificationMessage)}}function E(t,e){if(1&t&&u.Lb(0,"app-resource-unavailable",8),2&t){const t=u.ac();u.gc("error",t.error)}}function P(t,e){1&t&&(u.Pb(0,"li"),u.yc(1," First and Last Name cannot be equal "),u.Ob())}function z(t,e){if(1&t&&(u.Pb(0,"div"),u.Pb(1,"ul"),u.wc(2,P,2,0,"li",1),u.Ob(),u.Ob()),2&t){const t=u.ac(2);u.zb(2),u.gc("ngIf",t.entryForm.errors&&t.entryForm.errors.bothNames)}}function k(t,e){if(1&t&&u.Lb(0,"app-user-account-form-inputs",13),2&t){const t=u.ac(2);u.gc("system-type",t.systemType)("entry-form",t.entryForm)("general-others",t.generalOthers)("no-edit",t.noEdit)}}const S=function(t){return{disabled:t}};function C(t,e){if(1&t&&(u.Pb(0,"button",14),u.yc(1," Submit "),u.Ob()),2&t){const t=u.ac(2);u.Bb(u.lc(3,S,!t.isFormValid)),u.gc("disabled",!t.isFormValid)}}function K(t,e){1&t&&(u.Pb(0,"p"),u.yc(1," Your form is being processed. Please kindly be patient and wait while it completes. "),u.Ob())}function N(t,e){if(1&t){const t=u.Qb();u.Pb(0,"div",9),u.Pb(1,"form",10),u.Wb("ngSubmit",function(){u.rc(t);const e=u.ac();return e.addEntry(e.entryForm.value)}),u.wc(2,z,3,1,"div",1),u.wc(3,k,1,4,"app-user-account-form-inputs",11),u.wc(4,C,2,5,"button",12),u.wc(5,K,2,0,"p",1),u.Ob(),u.Ob()}if(2&t){const t=u.ac();u.zb(1),u.gc("formGroup",t.entryForm),u.zb(1),u.gc("ngIf",t.entryForm.touched||t.entryForm.dirty),u.zb(1),u.gc("ngIf",t.systemType),u.zb(1),u.gc("ngIf",!t.isFormProcessing),u.zb(1),u.gc("ngIf",t.isFormSubmitted)}}let L=(()=>{class t extends h.a{constructor(t,e,i,s,n,r,o,a,c){super(r,o,a,c),this.router=t,this.ds=e,this.ns=i,this.route=s,this.ems=n,this.auth=r,this.fb=o,this.http=a,this.apiConfig=c,this.generalOthers=null,this.isError=!1,this.isFormSubmitted=!1,this.isFormProcessing=!1}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.signUp.systemType,this.viewWord=t.signUp.viewWord,this.systemGuideline=t.signUp.systemGuideline,this.title=t.signUp.title,this.view=t.signUp.view,this.link=t.signUp.link,this.$link=t.signUp.$link,this.controlFilters=t.signUp.controlFilters,this.noEdit=t.signUp.noEdit,this.ds.$systemType=this.systemType,this.ds.addUser().subscribe(e=>{null==e&&(this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message),this.isError=!0),null!=e&&(this.generalOthers=new d(t),this.removeControls(this.controlFilters),this.createPermanent(t))})}ngOnDestroy(){clearTimeout(this.entryChangesT)}addEntry(t){this.isFormSubmitted=!0,this.error=null,this.isError=!1,this.isFormProcessing=!0,this.ds.addUser$(t).subscribe(t=>{null==t?(this.isFormSubmitted=!1,this.isFormProcessing=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and ${this.systemType} is not added.`),this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message),this.isError=!0):null!=t&&1==t.created&&(this.isFormSubmitted=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and ${this.systemType} is added.`),this.entryChanges(t))})}entryChanges(t){this.entryChangesT=setTimeout(()=>this.router.navigate(t&&t.user&&t.user._id?["user","dashboard"]:["system","internal",this.link,"entries"]),5e3)}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}removeNotification(){this.ns.removeNotification()}}return t.\u0275fac=function(e){return new(e||t)(u.Kb(a.d),u.Kb(m.a),u.Kb(f.a),u.Kb(a.a),u.Kb(p.a),u.Kb(g.a),u.Kb(n.b),u.Kb(y.b),u.Kb(b.b))},t.\u0275cmp=u.Eb({type:t,selectors:[["app-user-sign-up"]],features:[u.yb([p.a,f.a]),u.wb],decls:6,vars:5,consts:[["id","entry-create"],[4,"ngIf"],[3,"view-type","system-type",4,"ngIf"],[3,"notified","message","finished",4,"ngIf"],["id","error",3,"error",4,"ngIf"],["id","entry-detail",4,"ngIf"],[3,"view-type","system-type"],[3,"notified","message","finished"],["id","error",3,"error"],["id","entry-detail"],["method","post",3,"formGroup","ngSubmit"],[3,"system-type","entry-form","general-others","no-edit",4,"ngIf"],["type","submit","class","btn-submit",3,"class","disabled",4,"ngIf"],[3,"system-type","entry-form","general-others","no-edit"],["type","submit",1,"btn-submit",3,"disabled"]],template:function(t,e){1&t&&(u.Pb(0,"div",0),u.wc(1,O,2,1,"h2",1),u.wc(2,I,1,2,"app-view-description",2),u.wc(3,T,1,2,"app-notification-screen",3),u.wc(4,E,1,1,"app-resource-unavailable",4),u.wc(5,N,6,5,"div",5),u.Ob()),2&t&&(u.zb(1),u.gc("ngIf",e.title),u.zb(1),u.gc("ngIf",e.view),u.zb(1),u.gc("ngIf",e.notificationAvailable),u.zb(1),u.gc("ngIf",e.isError),u.zb(1),u.gc("ngIf",e.generalOthers))},directives:[s.l,v.a,w.a,F.a,n.q,n.j,n.g,U.a],styles:[""]}),t})();const j={signUp:Object.assign(Object.assign({},{systemType:"User",title:"User",view:"gen-internal",viewWord:"User",link:"user",$link:"authentication",systemGuideline:"gen-internal"}),{title:"Request for a User Account",view:"ca",controlFilters:["level","country","role","status"],noEdit:!1})},G=[{path:"",component:l,canActivate:[c.a],children:[{path:"",children:[{path:"",component:L,data:{signUp:j.signUp},canActivate:[c.a]}]}]}];let W=(()=>{class t{}return t.\u0275mod=u.Ib({type:t}),t.\u0275inj=u.Hb({factory:function(e){return new(e||t)},imports:[[a.g.forChild(G)],a.g]}),t})();var $=i("5k3e");let A=(()=>{class t{}return t.\u0275mod=u.Ib({type:t}),t.\u0275inj=u.Hb({factory:function(e){return new(e||t)},imports:[[s.b,W,n.l,r.a,o.a,$.a]]}),t})()},tTBu:function(t,e,i){"use strict";function s(t,e){return i=>{let s=i.value,n=t.map(t=>t._id);return"number"==typeof n[0]&&(s=+s),""!=s&&n.indexOf(s)<0?{[e]:{value:s,name:e}}:null}}i.d(e,"a",function(){return s})}}]);