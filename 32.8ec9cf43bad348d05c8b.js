(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{JNdk:function(t,e,n){"use strict";n.r(e),n.d(e,"RefundModule",function(){return ti});var i=n("Yvf7"),s=n("8VHZ"),r=n("hxwH"),c=n("O/oE"),a=n("9Xeq"),o=n("FVf3"),l=n("DQuc"),u=n("vipk"),b=n("T+6q"),g=n("kPid"),f=n("FpJS"),y=n("Fk62"),d=n("jiyY"),h=n("/zEo"),p=n("Ub9n");let m=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p.Eb({type:t,selectors:[["app-refund-homepage"]],decls:1,vars:0,template:function(t,e){1&t&&p.Lb(0,"router-outlet")},directives:[y.h],styles:[""]}),t})();var v=n("J1Ni"),O=n("9Ku7"),P=n("VKtq"),w=n("+ef2");function I(t,e){if(1&t&&(p.Pb(0,"h2"),p.xc(1),p.Ob()),2&t){const t=p.ac();p.zb(1),p.yc(" ",t.title," ")}}function E(t,e){if(1&t&&p.Lb(0,"app-view-description",3),2&t){const t=p.ac();p.gc("view-type",t.view)}}function z(t,e){if(1&t){const t=p.Qb();p.Pb(0,"li"),p.Pb(1,"a",6),p.Wb("click",function(){p.rc(t);const e=p.ac(2);return e.loadLink(["/",e.link,"entry","create"])}),p.xc(2),p.Ob(),p.Ob()}if(2&t){const t=p.ac(2);p.zb(2),p.yc(" Create ",t.systemType," Entry ")}}const $=function(){return["entry","delete","all"]};function x(t,e){if(1&t&&(p.Pb(0,"li"),p.Pb(1,"a",5),p.xc(2),p.Ob(),p.Ob()),2&t){const t=p.ac(2);p.zb(1),p.gc("routerLink",p.kc(2,$)),p.zb(1),p.yc(" Delete All ",t.systemType," Entry ")}}const L=function(){return["entries"]};function k(t,e){if(1&t){const t=p.Qb();p.Pb(0,"div",4),p.Pb(1,"ul"),p.Pb(2,"li"),p.Pb(3,"a",5),p.xc(4),p.Ob(),p.Ob(),p.vc(5,z,3,1,"li",0),p.vc(6,x,3,3,"li",0),p.Pb(7,"li"),p.Pb(8,"a",6),p.Wb("click",function(){return p.rc(t),p.ac().loadLink(["/","account","profile"])}),p.xc(9," Profile "),p.Ob(),p.Ob(),p.Ob(),p.Ob()}if(2&t){const t=p.ac();p.gc("@fadeAnimation",void 0),p.zb(3),p.gc("routerLink",p.kc(5,L)),p.zb(1),p.yc(" Manage ",t.systemType," Entry "),p.zb(1),p.gc("ngIf",t.canCreate),p.zb(1),p.gc("ngIf",t.canDeleteAll)}}let M=(()=>{class t{constructor(t,e,n,i){this.route=t,this.auth=e,this.router=n,this.lbs=i}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.dashboard.systemType,this.title=t.dashboard.title,this.view=t.dashboard.view,this.link=t.dashboard.link}get canCreate(){return["student","departmentPresident","facultyPresident"].indexOf(this.auth.userRole)>-1}get canDeleteAll(){return this.auth.isSuperAdministrator}loadLink(t){this.lbs.loadLink(t)}}return t.\u0275fac=function(e){return new(e||t)(p.Kb(y.a),p.Kb(O.a),p.Kb(y.e),p.Kb(P.a))},t.\u0275cmp=p.Eb({type:t,selectors:[["app-refund-dashboard"]],decls:3,vars:3,consts:[[4,"ngIf"],[3,"view-type",4,"ngIf"],["id","dashboard",4,"ngIf"],[3,"view-type"],["id","dashboard"],[1,"center",3,"routerLink"],[1,"center",3,"click"]],template:function(t,e){1&t&&(p.vc(0,I,2,1,"h2",0),p.vc(1,E,1,1,"app-view-description",1),p.vc(2,k,10,6,"div",2)),2&t&&(p.gc("ngIf",e.title),p.zb(1),p.gc("ngIf",e.view),p.zb(1),p.gc("ngIf",e.systemType))},directives:[i.l,w.a,y.f],styles:[""],data:{animation:[v.a]}}),t})();var T=n("XA6Z"),C=n("EUGn"),N=n("9nlD"),F=n("jV/k"),j=n("vfyW"),S=n("XRyL"),A=n("oECA"),_=n("O6Zd"),R=n("VcWf"),K=n("FBrc");let q=(()=>{class t{constructor(t,e,n){this.http=t,this.apiConfig=e,this.ems=n,this.$systemType="Refund",this.$sa="refund"}getAllEntry(t){return this.http.get(`${this.apiConfig.host}/${this.$sa}/entries`,{params:t}).pipe(Object(j.a)(t=>console.log(t)),Object(S.a)(2e3),Object(A.a)(this.handleError(this.$systemType+" Entries",null)))}getEntry(t){return this.http.get(`${this.apiConfig.host}/${this.$sa}/entry/${t}/detail`).pipe(Object(j.a)(t=>console.log(t)),Object(S.a)(2e3),Object(A.a)(this.handleError(this.$systemType+" Entry",null)))}getEntryLetter(t){return this.http.get(`${this.apiConfig.host}/${this.$sa}/entry/${t}/letter`).pipe(Object(j.a)(t=>console.log(t)),Object(S.a)(2e3),Object(A.a)(this.handleError(this.$systemType+" Entry",null)))}addEntry(){return this.http.get(`${this.apiConfig.host}/${this.$sa}/entry/create`).pipe(Object(j.a)(t=>console.log(t)),Object(S.a)(2e3),Object(_.a)(t=>({permitted:!0})),Object(A.a)(this.handleError(this.$systemType+" Entry",null)))}addEntry$(t){return this.http.post(`${this.apiConfig.host}/${this.$sa}/entry/create`,t).pipe(Object(j.a)(t=>console.log(t)),Object(_.a)(t=>({created:!0,$data:t})),Object(A.a)(this.handleError(this.$systemType+" Entry",null)))}addComment(t){return this.http.get(`${this.apiConfig.host}/${this.$sa}/entry/${t}/comment`).pipe(Object(j.a)(t=>console.log(t)),Object(S.a)(2e3),Object(_.a)(t=>({permitted:!0,$data:t})),Object(A.a)(this.handleError(this.$systemType+" Comment Entry",null)))}addComment$(t,e){return this.http.post(`${this.apiConfig.host}/${this.$sa}/entry/${t}/comment`,e).pipe(Object(j.a)(t=>console.log(t)),Object(_.a)(t=>({updated:!0,$data:t})),Object(A.a)(this.handleError(this.$systemType+" Comment Entry",null)))}addReply(t,e){return this.http.get(`${this.apiConfig.host}/${this.$sa}/entry/${t}/comment/${e}/reply`).pipe(Object(j.a)(t=>{console.log(t)}),Object(S.a)(2e3),Object(_.a)(t=>({permitted:!0,$data:t})),Object(A.a)(this.handleError(this.$systemType+" Reply Entry",null)))}addReply$(t,e,n){return this.http.post(`${this.apiConfig.host}/${this.$sa}/entry/${t}/comment/${e}/reply`,n).pipe(Object(j.a)(t=>{console.log(t)}),Object(_.a)(t=>({updated:!0,$data:t})),Object(A.a)(this.handleError(this.$systemType+" Reply Entry",null)))}getTimeline(t){return this.http.get(`${this.apiConfig.host}/${this.$sa}/entry/${t}/timeline`).pipe(Object(j.a)(t=>console.log(t)),Object(S.a)(2e3),Object(A.a)(this.handleError(this.$systemType+" Entry Timeline",null)))}updateEntry$(t,e){return this.http.put(`${this.apiConfig.host}/${this.$sa}/entry/${t}/detail`,e).pipe(Object(_.a)(t=>({updated:!0,$data:t})),Object(A.a)(this.handleError(this.$systemType+" Entry",null)))}confirmEntryOnReview$(t){return this.http.put(`${this.apiConfig.host}/${this.$sa}/entry/${t}/review`,{entry:t}).pipe(Object(S.a)(2e3),Object(_.a)(t=>({onReview:!0,$data:t})),Object(A.a)(this.handleError(this.$systemType+" Entry",null)))}$deleteManyEntry(t){return this.http.patch(`${this.apiConfig.host}/${this.$sa}/delete/entry/many`,{entries:t}).pipe(Object(_.a)(t=>({manyDeleted:!0})),Object(A.a)(this.handleError(this.$systemType+" Entries Delete",null)))}status(){return this.http.get(`${this.apiConfig.host}/${this.$sa}/status`).pipe(Object(j.a)(t=>console.log(t)),Object(S.a)(2e3),Object(A.a)(this.handleError("Status Entries",null)))}handleError(t="operation",e){return t=>(this.ems.message=t,Object(F.a)(e))}}return t.\u0275fac=function(e){return new(e||t)(p.Tb(K.b),p.Tb(R.b),p.Tb(C.a))},t.\u0275prov=p.Gb({token:t,factory:t.\u0275fac}),t})();var W=n("eIaO"),D=n("7U3D"),Q=n("uMT1"),U=n("TY4h"),V=n("Rxsk"),B=n("x7qt");function G(t,e){if(1&t&&(p.Pb(0,"h2"),p.xc(1),p.Ob()),2&t){const t=p.ac();p.zb(1),p.yc(" ",t.title," ")}}function Y(t,e){if(1&t&&p.Lb(0,"app-resource-unavailable",5),2&t){const t=p.ac();p.gc("error",t.error)}}function J(t,e){if(1&t){const t=p.Qb();p.Pb(0,"app-notification-screen",6),p.Wb("finished",function(){return p.rc(t),p.ac().removeNotification()}),p.Ob()}if(2&t){const t=p.ac();p.gc("notified",t.notificationAvailable)("message",t.notificationMessage)}}function H(t,e){if(1&t){const t=p.Qb();p.Nb(0),p.Pb(1,"app-entry-comment-create",7),p.Wb("processEntry",function(e){return p.rc(t),p.ac(2).createEntry(e)}),p.Ob(),p.Mb()}if(2&t){const t=p.ac(2);p.zb(1),p.gc("system-type",t.systemType)("view",t.view)("entry",t.entry)("entry-create-form",t.entryCreateForm)}}function Z(t,e){if(1&t&&(p.Nb(0),p.vc(1,H,2,4,"ng-container",1),p.Mb()),2&t){const t=p.ac();p.zb(1),p.gc("ngIf",!t.isLoading)}}let X=(()=>{class t{constructor(t,e,n,i,s,r,c){this.route=t,this.router=e,this.rfs=n,this.ns=i,this.ccfs=s,this.ccs=r,this.ems=c,this.isError=!1,this.isLoading=!1}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.comment.systemType,this.title=t.comment.title,this.view=t.comment.view,this.link=t.comment.link,this.route.paramMap.pipe(Object(T.a)(t=>{let e=t.get("entry");return this.eslug=e,this.isLoading=!0,this.rfs.addComment(e)})).subscribe(t=>{null==t?(this.isLoading=!1,this.isError=!0,this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message)):null!=t&&1==t.permitted&&(this.isLoading=!1,this.entry=t.$data,this.entryCreateForm=this.ccfs.entryCreateForm())})}ngOnDestroy(){clearTimeout(this.entryCreateT)}createEntry(t){this.error=null,this.isError=!1,this.rfs.addComment$(this.eslug,t).subscribe(t=>{null==t&&(this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and ${this.systemType} Entry is not created.`),this.ccs.isEntryCreated.next(!1)),null!=t&&1==t.updated&&(this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and ${this.systemType} Entry is created.`),this.isLoading=!0,this.ccs.isEntryCreated.next(!0),this.entryChanges(t.$data))})}entryChanges(t){this.entryCreateT=setTimeout(()=>this.router.navigate([this.link,"entries"]),5e3)}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}removeNotification(){this.ns.removeNotification()}}return t.\u0275fac=function(e){return new(e||t)(p.Kb(y.a),p.Kb(y.e),p.Kb(q),p.Kb(N.a),p.Kb(W.a),p.Kb(D.a),p.Kb(C.a))},t.\u0275cmp=p.Eb({type:t,selectors:[["app-refund-create-comment"]],features:[p.yb([C.a,N.a])],decls:6,vars:5,consts:[["id","general-entry"],[4,"ngIf"],[3,"error",4,"ngIf"],[3,"notified","message","finished",4,"ngIf"],[3,"is-loading"],[3,"error"],[3,"notified","message","finished"],[3,"system-type","view","entry","entry-create-form","processEntry"]],template:function(t,e){1&t&&(p.Pb(0,"div",0),p.vc(1,G,2,1,"h2",1),p.vc(2,Y,1,1,"app-resource-unavailable",2),p.vc(3,J,1,2,"app-notification-screen",3),p.vc(4,Z,2,1,"ng-container",1),p.Ob(),p.Lb(5,"app-loading-menu",4)),2&t&&(p.zb(1),p.gc("ngIf",e.title),p.zb(1),p.gc("ngIf",e.isError),p.zb(1),p.gc("ngIf",e.notificationAvailable),p.zb(1),p.gc("ngIf",e.entryCreateForm),p.zb(1),p.gc("is-loading",e.isLoading))},directives:[i.l,Q.a,U.a,V.a,B.a],styles:[""]}),t})();const tt=["staff","moderator","administrator","superAdministrator"];var et=n("inDW"),nt=n("L6ME");let it=(()=>{class t{constructor(t){this.fb=t,this.permanentData={},this.permanentProps={status:[s.q.required,s.q.max(9e7)]}}getMyData(t){return this.permanentData[t]}getPermanentProp(t){return this.permanentProps[t]}entryUpdateForm(){return this.fb.group({text:["",{validators:[s.q.required,s.q.minLength(10),s.q.maxLength(500)]}],status:["",{validators:[...this.getPermanentProp("status")]}],stage:["",{validators:[s.q.minLength(1),s.q.maxLength(30)]}]})}createPermanent(t,e){nt.a.createPermanent(this,t,e)}removeControls(t,e){nt.a.removeControls(t,e)}searchForm(t){return new s.d("",[Object(et.d)(t)])}}return t.\u0275fac=function(e){return new(e||t)(p.Tb(s.c))},t.\u0275prov=p.Gb({token:t,factory:t.\u0275fac}),t})();var st=n("013A"),rt=n("ujQ7");function ct(t,e){if(1&t&&(p.Nb(0),p.Pb(1,"ul"),p.Pb(2,"li"),p.xc(3),p.Ob(),p.Ob(),p.Mb()),2&t){const t=e.$implicit;p.zb(3),p.yc(" Name : ",null==t?null:t.full_name," ")}}function at(t,e){if(1&t&&(p.Pb(0,"div"),p.Pb(1,"h2"),p.xc(2," List of Signature "),p.Ob(),p.vc(3,ct,4,1,"ng-container",1),p.Ob()),2&t){const t=p.ac();p.gc("@fadeAnimation",void 0),p.zb(3),p.gc("ngForOf",null==t.entry?null:t.entry.signature)}}let ot=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p.Eb({type:t,selectors:[["app-refund-entry-user-signature"]],inputs:{entry:"entry"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&p.vc(0,at,4,2,"div",0),2&t&&p.gc("ngIf",null!=e.entry&&null!=(null==e.entry?null:e.entry.signature)&&(null==e.entry?null:e.entry.signature.length)>0)},directives:[i.l,i.k],styles:[""],data:{animation:[v.a]}}),t})();function lt(t,e){if(1&t){const t=p.Qb();p.Pb(0,"app-notification-screen",3),p.Wb("finished",function(){return p.rc(t),p.ac(2).removeNotification()}),p.Ob()}if(2&t){const t=p.ac(2);p.gc("notified",t.notificationAvailable)("message",t.notificationMessage)}}const ut=function(t,e){return[t,"entry",e,"timeline"]};function bt(t,e){if(1&t&&(p.Nb(0),p.Pb(1,"a",4),p.xc(2," Timeline "),p.Ob(),p.Mb()),2&t){const t=p.ac(2);p.zb(1),p.gc("routerLink",p.mc(1,ut,t.isAdmin,null==t.entry?null:t.entry.slug))}}function gt(t,e){if(1&t){const t=p.Qb();p.Nb(0),p.Pb(1,"a",5),p.Wb("click",function(e){return p.rc(t),p.ac(4).writeLetter(e)}),p.xc(2," Write Letter "),p.Ob(),p.Mb()}}function ft(t,e){if(1&t&&(p.Nb(0),p.vc(1,gt,3,0,"ng-container",0),p.Mb()),2&t){const t=p.ac(3);p.zb(1),p.gc("ngIf",t.canUpdateEntry3)}}function yt(t,e){if(1&t&&(p.Nb(0),p.vc(1,ft,2,1,"ng-container",0),p.Mb()),2&t){const t=p.ac(2);p.zb(1),p.gc("ngIf",3==(null==t.entry?null:t.entry.stage._id))}}function dt(t,e){if(1&t){const t=p.Qb();p.Nb(0),p.Pb(1,"a",5),p.Wb("click",function(e){return p.rc(t),p.ac(3).setEntryOnReview(e)}),p.xc(2," Set Application on Review "),p.Ob(),p.Mb()}}function ht(t,e){1&t&&(p.Nb(0),p.Pb(1,"p"),p.xc(2," Your request is being processed. Please kindly be patient and wait while it completes. "),p.Ob(),p.Mb())}function pt(t,e){if(1&t&&(p.Nb(0),p.vc(1,dt,3,0,"ng-container",0),p.vc(2,ht,3,0,"ng-container",0),p.Mb()),2&t){const t=p.ac(2);p.zb(1),p.gc("ngIf",t.canUpdateEntry),p.zb(1),p.gc("ngIf",t.isProcessingReview)}}function mt(t,e){if(1&t){const t=p.Qb();p.Nb(0),p.Pb(1,"a",5),p.Wb("click",function(e){return p.rc(t),p.ac(2).viewLetter(e)}),p.xc(2," View Application Letter "),p.Ob(),p.Mb()}}const vt=function(t,e){return[t,"entry",e,"comment","add"]};function Ot(t,e){if(1&t&&(p.Nb(0),p.Pb(1,"a",4),p.xc(2," Add a Comment "),p.Ob(),p.Mb()),2&t){const t=p.ac(2);p.zb(1),p.gc("routerLink",p.mc(1,vt,t.isAdmin,null==t.entry?null:t.entry.slug))}}function Pt(t,e){if(1&t&&(p.Pb(0,"div"),p.Pb(1,"div",1),p.vc(2,lt,1,2,"app-notification-screen",2),p.vc(3,bt,3,4,"ng-container",0),p.vc(4,yt,2,1,"ng-container",0),p.vc(5,pt,3,2,"ng-container",0),p.vc(6,mt,3,0,"ng-container",0),p.vc(7,Ot,3,4,"ng-container",0),p.Ob(),p.Ob()),2&t){const t=p.ac();p.gc("@fadeAnimation",void 0),p.zb(2),p.gc("ngIf",t.notificationAvailable),p.zb(1),p.gc("ngIf","Pending"!=(null==t.entry?null:t.entry.status)),p.zb(1),p.gc("ngIf",null!=(null==t.entry?null:t.entry.stage)),p.zb(1),p.gc("ngIf","Pending"==(null==t.entry?null:t.entry.status)),p.zb(1),p.gc("ngIf",null==t.entry?null:t.entry.letter),p.zb(1),p.gc("ngIf","Review"==(null==t.entry?null:t.entry.status))}}let wt=(()=>{class t{constructor(t,e,n,i,s,r){this.route=t,this.router=e,this.auth=n,this.rs=i,this.ns=s,this.lbs=r,this.onReviewEntry=new p.n,this.isProcessingReview=!1,this.isLazyLoading=!1}ngOnInit(){}ngOnDestroy(){clearTimeout(this.writeLetterT),clearTimeout(this.viewLetterT)}setEntryOnReview(t){t.preventDefault(),t.stopPropagation(),1!=this.isProcessingReview&&(this.isProcessingReview=!0,this.rs.confirmEntryOnReview$(this.entry.slug).subscribe(t=>{null==t&&(this.isProcessingReview=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and ${this.systemType} Entry is not updated.`)),null!=t&&1==t.onReview&&(this.isProcessingReview=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and ${this.systemType} Entry is updated and on review.`),this.onReviewEntry.emit(t.$data))}))}writeLetter(){0==this.isLazyLoading&&(this.isLazyLoading=!0,this.writeLetterT=setTimeout(()=>{this.router.navigate(["refund-letter","entry",this.entry.slug,"write"]).then(t=>{}).catch(()=>{this.isLazyLoading=!1,this.lbs.isShowingRouteLoadIndicator=!1})},0))}viewLetter(){0==this.isLazyLoading&&(this.isLazyLoading=!0,this.viewLetterT=setTimeout(()=>{this.router.navigate(["refund-letter","entry",this.entry.slug,"detail"]).then(t=>{}).catch(()=>{this.isLazyLoading=!1,this.lbs.isShowingRouteLoadIndicator=!1})},0))}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}removeNotification(){this.ns.removeNotification()}get userRole(){return this.auth.userRole}get canUpdateEntry(){return tt.indexOf(this.userRole)>-1}get canUpdateEntry3(){return["student","departmentPresident","facultyPresident"].indexOf(this.userRole)>-1}get isAdmin(){return["moderator","administrator","superAdministrator"].indexOf(this.userRole),"/refund"}}return t.\u0275fac=function(e){return new(e||t)(p.Kb(y.a),p.Kb(y.e),p.Kb(O.a),p.Kb(q),p.Kb(N.a),p.Kb(P.a))},t.\u0275cmp=p.Eb({type:t,selectors:[["app-refund-entry-option"]],inputs:{systemType:["system-type","systemType"],view:"view",title:"title",link:"link",entry:"entry"},outputs:{onReviewEntry:"onReviewEntry"},features:[p.yb([N.a])],decls:1,vars:1,consts:[[4,"ngIf"],["id","entry-detail-options"],[3,"notified","message","finished",4,"ngIf"],[3,"notified","message","finished"],[1,"center",3,"routerLink"],[1,"center",3,"click"]],template:function(t,e){1&t&&p.vc(0,Pt,8,7,"div",0),2&t&&p.gc("ngIf",null!=e.entry)},directives:[i.l,V.a,y.f],styles:[""],data:{animation:[v.a]}}),t})();var It=n("6hA3"),Et=n("BtNG"),zt=n("6NSF"),$t=n("yHSd");function xt(t,e){if(1&t&&p.Lb(0,"app-request-entry-update-validator",12),2&t){const t=p.ac(3);p.gc("system-type",t.systemType)("text",t.text)}}function Lt(t,e){if(1&t&&(p.Pb(0,"div",8),p.Pb(1,"label",9),p.xc(2," Message "),p.Ob(),p.Pb(3,"textarea",10),p.xc(4," "),p.Ob(),p.vc(5,xt,1,2,"app-request-entry-update-validator",11),p.Ob()),2&t){const t=p.ac(2);p.zb(5),p.gc("ngIf",t.text)}}function kt(t,e){1&t&&(p.Nb(0),p.Pb(1,"div",8),p.Pb(2,"p"),p.Pb(3,"b",13),p.xc(4," By clicking on the submit , the request will be forwarded to the Office of the Bursary for Resolution "),p.Lb(5,"br"),p.xc(6,"\tNote: Application can be set to only Fulfill or Reject at this stage. "),p.Ob(),p.Ob(),p.Ob(),p.Mb())}function Mt(t,e){1&t&&(p.Nb(0),p.Pb(1,"div",8),p.Pb(2,"p"),p.Pb(3,"b",13),p.xc(4,' By clicking on the "Submit" button , the request will be forwarded to the Student to write an application letter on the subject matter "Refund of Fees" for resolution. '),p.Lb(5,"br"),p.xc(6," Note: Application can be set to only Fulfill or Reject at this stage. "),p.Ob(),p.Ob(),p.Ob(),p.Mb())}function Tt(t,e){1&t&&(p.Nb(0),p.Pb(1,"div",8),p.Pb(2,"p"),p.Pb(3,"b",13),p.xc(4,' By clicking on the "Submit" button , You are agreeing to sign and endorse the student application letter the request will be forwarded to the destinated office for resolution on the subject matter "Refund of Fees". '),p.Ob(),p.Ob(),p.Ob(),p.Mb())}function Ct(t,e){1&t&&(p.Nb(0),p.Pb(1,"div",8),p.Pb(2,"p"),p.Pb(3,"b",13),p.xc(4," This is the last stage of the application. You can only fulfill or reject the application which would mean the Student would or not get a refund. "),p.Ob(),p.Ob(),p.Ob(),p.Mb())}function Nt(t,e){if(1&t&&(p.Pb(0,"div"),p.Pb(1,"h3",1),p.xc(2," Request Options "),p.Ob(),p.Pb(3,"div",2),p.Lb(4,"app-request-entry-message-template",3),p.Lb(5,"app-request-entry-update-status",4),p.vc(6,Lt,6,1,"div",5),p.Nb(7,6),p.vc(8,kt,7,0,"ng-container",7),p.vc(9,Mt,7,0,"ng-container",7),p.vc(10,Tt,5,0,"ng-container",7),p.vc(11,Ct,5,0,"ng-container",7),p.Mb(),p.Ob(),p.Ob()),2&t){const t=p.ac();p.gc("@fadeAnimation",void 0),p.zb(3),p.gc("formGroup",t.entryForm),p.zb(1),p.gc("system-type",t.systemType)("$link",t.$link)("entry-form",t.entryForm)("entry",t.entry),p.zb(1),p.gc("entries",t.eother)("entry-form",t.entryForm)("entry",t.entry),p.zb(1),p.gc("ngIf",t.text),p.zb(1),p.gc("ngSwitch",t.currentStage),p.zb(1),p.gc("ngSwitchCase",2),p.zb(1),p.gc("ngSwitchCase",3),p.zb(1),p.gc("ngSwitchCase",4),p.zb(1),p.gc("ngSwitchCase",6)}}let Ft=(()=>{class t{constructor(){}ngOnInit(){this.entryForm.patchValue({stage:this.currentStage})}get text(){return this.entryForm.get("text")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p.Eb({type:t,selectors:[["app-stage-one-two-five"]],inputs:{systemType:["system-type","systemType"],entryForm:["entry-form","entryForm"],currentStage:["current-stage","currentStage"],entry:"entry",$link:"$link",eother:["entry-other","eother"]},decls:1,vars:1,consts:[[4,"ngIf"],[1,"center"],[3,"formGroup"],[3,"system-type","$link","entry-form","entry"],[3,"entries","entry-form","entry"],["class","form-group",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"form-group"],["for","text",1,"form-label","bold"],["name","text","id","text","formControlName","text"],[3,"system-type","text",4,"ngIf"],[3,"system-type","text"],[1,"bold"]],template:function(t,e){1&t&&p.vc(0,Nt,12,15,"div",0),2&t&&p.gc("ngIf",e.entry)},directives:[i.l,s.l,s.h,Et.a,zt.a,i.n,i.o,s.b,s.k,s.f,$t.a],styles:[""],data:{animation:[v.a]}}),t})();function jt(t,e){if(1&t&&p.Lb(0,"app-request-entry-update-validator",9),2&t){const t=p.ac(3);p.gc("system-type",t.systemType)("text",t.text)}}function St(t,e){if(1&t&&(p.Pb(0,"div",4),p.Pb(1,"label",6),p.xc(2," Message "),p.Ob(),p.Pb(3,"textarea",7),p.xc(4," "),p.Ob(),p.vc(5,jt,1,2,"app-request-entry-update-validator",8),p.Ob()),2&t){const t=p.ac(2);p.zb(5),p.gc("ngIf",t.text)}}function At(t,e){if(1&t&&(p.Pb(0,"div"),p.Pb(1,"h3",1),p.xc(2," Request Options "),p.Ob(),p.Pb(3,"div",2),p.vc(4,St,6,1,"div",3),p.Pb(5,"div",4),p.Pb(6,"p"),p.Pb(7,"b",5),p.xc(8,' By clicking on the "Submit" button , You are agreeing to sign and endorse the student application letter which will be forwarded to the destinated office for resolution on the subject matter "Refund of Fees". '),p.Ob(),p.Ob(),p.Ob(),p.Ob(),p.Ob()),2&t){const t=p.ac();p.gc("@fadeAnimation",void 0),p.zb(3),p.gc("formGroup",t.entryForm),p.zb(1),p.gc("ngIf",t.text)}}let _t=(()=>{class t{constructor(){}ngOnInit(){this.entryForm.patchValue({stage:this.currentStage,status:this.entry.other_status_id})}get text(){return this.entryForm.get("text")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p.Eb({type:t,selectors:[["app-stage-four"]],inputs:{entry:"entry",systemType:["system-type","systemType"],entryForm:["entry-form","entryForm"],currentStage:["current-stage","currentStage"]},decls:1,vars:1,consts:[[4,"ngIf"],[1,"center"],[3,"formGroup"],["class","form-group",4,"ngIf"],[1,"form-group"],[1,"bold"],["for","text",1,"form-label","bold"],["name","text","id","text","formControlName","text"],[3,"system-type","text",4,"ngIf"],[3,"system-type","text"]],template:function(t,e){1&t&&p.vc(0,At,9,3,"div",0),2&t&&p.gc("ngIf",e.entry)},directives:[i.l,s.l,s.h,s.b,s.k,s.f,$t.a],styles:[""],data:{animation:[v.a]}}),t})();function Rt(t,e){if(1&t&&(p.Pb(0,"h2"),p.xc(1),p.Ob()),2&t){const t=p.ac();p.zb(1),p.yc(" ",t.title," ")}}function Kt(t,e){if(1&t&&p.Lb(0,"app-view-description",7),2&t){const t=p.ac();p.gc("system-type",t.systemType)("view-type",t.view)}}function qt(t,e){if(1&t&&p.Lb(0,"app-resource-unavailable",8),2&t){const t=p.ac();p.gc("error",t.error)}}function Wt(t,e){if(1&t){const t=p.Qb();p.Pb(0,"app-notification-screen",9),p.Wb("finished",function(){return p.rc(t),p.ac().removeNotification()}),p.Ob()}if(2&t){const t=p.ac();p.gc("notified",t.notificationAvailable)("message",t.notificationMessage)}}function Dt(t,e){if(1&t&&p.Lb(0,"app-request-entry-detail",13),2&t){const t=p.ac(2);p.gc("entry",t.entry)}}function Qt(t,e){if(1&t&&p.Lb(0,"app-request-entry-student-detail",13),2&t){const t=p.ac(2);p.gc("entry",t.entry)}}function Ut(t,e){if(1&t&&p.Lb(0,"app-refund-entry-user-signature",13),2&t){const t=p.ac(2);p.gc("entry",t.entry)}}function Vt(t,e){if(1&t){const t=p.Qb();p.Pb(0,"app-refund-entry-option",14),p.Wb("onReviewEntry",function(e){return p.rc(t),p.ac(2).$confirmEntryOnReview(e)}),p.Ob()}if(2&t){const t=p.ac(2);p.gc("view",t.view)("link",t.link)("entry",t.entry)("system-type",t.systemType)}}function Bt(t,e){if(1&t&&p.Lb(0,"app-file-attachments-two",13),2&t){const t=p.ac(2);p.gc("entry",t.entry)}}function Gt(t,e){if(1&t){const t=p.Qb();p.Pb(0,"a",19),p.Wb("click",function(){return p.rc(t),p.ac(5).otherCol()}),p.xc(1," Update Application "),p.Ob()}}const Yt=function(t){return{disabled:t}};function Jt(t,e){if(1&t&&(p.Pb(0,"button",23),p.xc(1," Submit "),p.Ob()),2&t){const t=p.ac(7);p.Bb(p.lc(3,Yt,!t.isFormValid)),p.gc("disabled",!t.isFormValid)}}function Ht(t,e){1&t&&(p.Pb(0,"p"),p.xc(1," Your form is being processed. Please kindly be patient and wait while it completes. "),p.Ob())}function Zt(t,e){if(1&t&&(p.Nb(0),p.Lb(1,"app-stage-one-two-five",21),p.vc(2,Jt,2,5,"button",22),p.vc(3,Ht,2,0,"p",1),p.Mb()),2&t){const t=p.ac(6);p.zb(1),p.gc("entry",t.entry)("entry-other",t.eother)("entry-form",t.entryForm)("current-stage",t.currentStage)("system-type",t.systemType)("$link",t.$link),p.zb(1),p.gc("ngIf",!t.isFormProcessing),p.zb(1),p.gc("ngIf",t.isFormSubmitted)}}function Xt(t,e){if(1&t){const t=p.Qb();p.Pb(0,"form",20),p.Wb("ngSubmit",function(){p.rc(t);const e=p.ac(5);return e.updateEntry(e.entryForm.value)}),p.vc(1,Zt,4,8,"ng-container",1),p.Ob()}if(2&t){const t=p.ac(5);p.gc("formGroup",t.entryForm),p.zb(1),p.gc("ngIf",null!=t.eother)}}function te(t,e){if(1&t&&(p.Nb(0),p.Pb(1,"div",15),p.Pb(2,"div",16),p.vc(3,Gt,2,0,"a",17),p.Ob(),p.vc(4,Xt,2,2,"form",18),p.Ob(),p.Mb()),2&t){const t=p.ac(4);p.zb(3),p.gc("ngIf",!t.isOtherColAvailable),p.zb(1),p.gc("ngIf",!t.isLoading)}}function ee(t,e){if(1&t&&(p.Nb(0),p.vc(1,te,5,2,"ng-container",1),p.Mb()),2&t){const t=p.ac(3);p.zb(1),p.gc("ngIf",t.canUpdateEntry)}}function ne(t,e){if(1&t&&(p.Nb(0),p.vc(1,ee,2,1,"ng-container",1),p.Mb()),2&t){const t=p.ac(2);p.zb(1),p.gc("ngIf",1==(null==t.entry?null:t.entry.stage._id)&&"Rejected"!=(null==t.entry?null:t.entry.status)&&"Fulfilled"!=(null==t.entry?null:t.entry.status))}}function ie(t,e){if(1&t){const t=p.Qb();p.Pb(0,"a",19),p.Wb("click",function(){return p.rc(t),p.ac(5).otherCol()}),p.xc(1," Update Application "),p.Ob()}}function se(t,e){if(1&t&&(p.Pb(0,"button",23),p.xc(1," Submit "),p.Ob()),2&t){const t=p.ac(7);p.Bb(p.lc(3,Yt,!t.isFormValid)),p.gc("disabled",!t.isFormValid)}}function re(t,e){1&t&&(p.Pb(0,"p"),p.xc(1," Your form is being processed. Please kindly be patient and wait while it completes. "),p.Ob())}function ce(t,e){if(1&t&&(p.Nb(0),p.Lb(1,"app-stage-one-two-five",24),p.vc(2,se,2,5,"button",22),p.vc(3,re,2,0,"p",1),p.Mb()),2&t){const t=p.ac(6);p.zb(1),p.gc("entry",t.entry)("entry-other",t.eother)("entry-form",t.entryForm)("current-stage",t.currentStage)("system-type",t.systemType),p.zb(1),p.gc("ngIf",!t.isFormProcessing),p.zb(1),p.gc("ngIf",t.isFormSubmitted)}}function ae(t,e){if(1&t){const t=p.Qb();p.Pb(0,"form",20),p.Wb("ngSubmit",function(){p.rc(t);const e=p.ac(5);return e.updateEntry(e.entryForm.value)}),p.vc(1,ce,4,7,"ng-container",1),p.Ob()}if(2&t){const t=p.ac(5);p.gc("formGroup",t.entryForm),p.zb(1),p.gc("ngIf",null!=t.eother)}}function oe(t,e){if(1&t&&(p.Nb(0),p.Pb(1,"div",15),p.Pb(2,"div",16),p.vc(3,ie,2,0,"a",17),p.Ob(),p.vc(4,ae,2,2,"form",18),p.Ob(),p.Mb()),2&t){const t=p.ac(4);p.zb(3),p.gc("ngIf",!t.isOtherColAvailable),p.zb(1),p.gc("ngIf",!t.isLoading)}}function le(t,e){if(1&t&&(p.Nb(0),p.vc(1,oe,5,2,"ng-container",1),p.Mb()),2&t){const t=p.ac(3);p.zb(1),p.gc("ngIf",t.canUpdateEntry2)}}function ue(t,e){if(1&t&&(p.Nb(0),p.vc(1,le,2,1,"ng-container",1),p.Mb()),2&t){const t=p.ac(2);p.zb(1),p.gc("ngIf",2==(null==t.entry?null:t.entry.stage._id)&&"Rejected"!=(null==t.entry?null:t.entry.status)&&"Fulfilled"!=(null==t.entry?null:t.entry.status))}}function be(t,e){if(1&t&&p.Lb(0,"app-stage-four",29),2&t){const t=p.ac(9);p.gc("entry",t.entry)("entry-form",t.entryForm)("current-stage",t.currentStage)("system-type",t.systemType)}}function ge(t,e){if(1&t&&(p.Pb(0,"button",23),p.xc(1," Sign & Endorse "),p.Ob()),2&t){const t=p.ac(9);p.Bb(p.lc(3,Yt,!t.isFormValid)),p.gc("disabled",!t.isFormValid)}}function fe(t,e){1&t&&(p.Pb(0,"p"),p.xc(1," Your form is being processed. Please kindly be patient and wait while it completes. "),p.Ob())}function ye(t,e){if(1&t){const t=p.Qb();p.Pb(0,"form",20),p.Wb("ngSubmit",function(){p.rc(t);const e=p.ac(8);return e.updateEntry(e.entryForm.value)}),p.vc(1,be,1,4,"app-stage-four",28),p.vc(2,ge,2,5,"button",22),p.vc(3,fe,2,0,"p",1),p.Ob()}if(2&t){const t=p.ac(8);p.gc("formGroup",t.entryForm),p.zb(1),p.gc("ngIf",t.entry),p.zb(1),p.gc("ngIf",!t.isFormProcessing),p.zb(1),p.gc("ngIf",t.isFormSubmitted)}}function de(t,e){if(1&t&&(p.Nb(0),p.Pb(1,"div",15),p.vc(2,ye,4,4,"form",18),p.Ob(),p.Mb()),2&t){const t=p.ac(7);p.zb(2),p.gc("ngIf",!t.isLoading)}}function he(t,e){if(1&t&&(p.Nb(0),p.vc(1,de,3,1,"ng-container",1),p.Mb()),2&t){const t=e.$implicit,n=p.ac(6);p.zb(1),p.gc("ngIf",t._id!=n.userId)}}function pe(t,e){if(1&t&&(p.Nb(0),p.vc(1,he,2,1,"ng-container",27),p.Mb()),2&t){const t=p.ac(5);p.zb(1),p.gc("ngForOf",null==t.entry?null:t.entry.signature)}}function me(t,e){if(1&t&&(p.Nb(0),p.vc(1,pe,2,1,"ng-container",1),p.Mb()),2&t){const t=p.ac(4);p.zb(1),p.gc("ngIf",(null==t.entry?null:t.entry.signature.length)<2)}}function ve(t,e){if(1&t&&p.Lb(0,"app-stage-four",29),2&t){const t=p.ac(6);p.gc("entry",t.entry)("entry-form",t.entryForm)("current-stage",t.currentStage)("system-type",t.systemType)}}function Oe(t,e){if(1&t&&(p.Pb(0,"button",23),p.xc(1," Sign & Endorse "),p.Ob()),2&t){const t=p.ac(6);p.Bb(p.lc(3,Yt,!t.isFormValid)),p.gc("disabled",!t.isFormValid)}}function Pe(t,e){1&t&&(p.Pb(0,"p"),p.xc(1,"Your form is being processed. Please kindly be patient and wait while it completes. "),p.Ob())}function we(t,e){if(1&t){const t=p.Qb();p.Pb(0,"form",20),p.Wb("ngSubmit",function(){p.rc(t);const e=p.ac(5);return e.updateEntry(e.entryForm.value)}),p.vc(1,ve,1,4,"app-stage-four",28),p.vc(2,Oe,2,5,"button",22),p.vc(3,Pe,2,0,"p",1),p.Ob()}if(2&t){const t=p.ac(5);p.gc("formGroup",t.entryForm),p.zb(1),p.gc("ngIf",t.entry),p.zb(1),p.gc("ngIf",!t.isFormProcessing),p.zb(1),p.gc("ngIf",t.isFormSubmitted)}}function Ie(t,e){if(1&t&&(p.Pb(0,"div",15),p.vc(1,we,4,4,"form",18),p.Ob()),2&t){const t=p.ac(4);p.zb(1),p.gc("ngIf",!t.isLoading)}}function Ee(t,e){if(1&t&&(p.Nb(0),p.vc(1,me,2,1,"ng-container",25),p.vc(2,Ie,2,1,"ng-template",null,26,p.wc),p.Mb()),2&t){const t=p.qc(3),e=p.ac(3);p.zb(1),p.gc("ngIf",null!=(null==e.entry?null:e.entry.signature)&&(null==e.entry?null:e.entry.signature.length)>0)("ngIfElse",t)}}function ze(t,e){if(1&t&&(p.Nb(0),p.vc(1,Ee,4,2,"ng-container",1),p.Mb()),2&t){const t=p.ac(2);p.zb(1),p.gc("ngIf",t.canUpdateEntry4)}}function $e(t,e){if(1&t){const t=p.Qb();p.Pb(0,"a",19),p.Wb("click",function(){return p.rc(t),p.ac(5).otherCol()}),p.xc(1," Update Application "),p.Ob()}}function xe(t,e){if(1&t&&(p.Pb(0,"button",23),p.xc(1," Submit "),p.Ob()),2&t){const t=p.ac(7);p.Bb(p.lc(3,Yt,!t.isFormValid)),p.gc("disabled",!t.isFormValid)}}function Le(t,e){1&t&&(p.Pb(0,"p"),p.xc(1," Your form is being processed. Please kindly be patient and wait while it completes. "),p.Ob())}function ke(t,e){if(1&t&&(p.Nb(0),p.Lb(1,"app-stage-one-two-five",30),p.vc(2,xe,2,5,"button",22),p.vc(3,Le,2,0,"p",1),p.Mb()),2&t){const t=p.ac(6);p.zb(1),p.gc("entry",t.entry)("entry-form",t.entryForm)("entry-other",t.eother)("current-stage",t.currentStage)("system-type",t.systemType),p.zb(1),p.gc("ngIf",!t.isFormProcessing),p.zb(1),p.gc("ngIf",t.isFormSubmitted)}}function Me(t,e){if(1&t){const t=p.Qb();p.Pb(0,"form",20),p.Wb("ngSubmit",function(){p.rc(t);const e=p.ac(5);return e.updateEntry(e.entryForm.value)}),p.vc(1,ke,4,7,"ng-container",1),p.Ob()}if(2&t){const t=p.ac(5);p.gc("formGroup",t.entryForm),p.zb(1),p.gc("ngIf",null!=t.eother)}}function Te(t,e){if(1&t&&(p.Nb(0),p.Pb(1,"div",15),p.Pb(2,"div",16),p.vc(3,$e,2,0,"a",17),p.Ob(),p.vc(4,Me,2,2,"form",18),p.Ob(),p.Mb()),2&t){const t=p.ac(4);p.zb(3),p.gc("ngIf",!t.isOtherColAvailable),p.zb(1),p.gc("ngIf",!t.isLoading)}}function Ce(t,e){if(1&t&&(p.Nb(0),p.vc(1,Te,5,2,"ng-container",1),p.Mb()),2&t){const t=p.ac(3);p.zb(1),p.gc("ngIf",t.canUpdateEntry5)}}function Ne(t,e){if(1&t&&(p.Nb(0),p.vc(1,Ce,2,1,"ng-container",1),p.Mb()),2&t){const t=p.ac(2);p.zb(1),p.gc("ngIf",5==(null==t.entry?null:t.entry.stage._id)&&"Rejected"!=(null==t.entry?null:t.entry.status)&&"Fulfilled"!=(null==t.entry?null:t.entry.status))}}function Fe(t,e){if(1&t&&(p.Pb(0,"div",10),p.vc(1,Dt,1,1,"app-request-entry-detail",11),p.vc(2,Qt,1,1,"app-request-entry-student-detail",11),p.vc(3,Ut,1,1,"app-refund-entry-user-signature",11),p.vc(4,Vt,1,4,"app-refund-entry-option",12),p.vc(5,Bt,1,1,"app-file-attachments-two",11),p.vc(6,ne,2,1,"ng-container",1),p.vc(7,ue,2,1,"ng-container",1),p.vc(8,ze,2,1,"ng-container",1),p.vc(9,Ne,2,1,"ng-container",1),p.Ob()),2&t){const t=p.ac();p.gc("@fadeAnimation",void 0),p.zb(1),p.gc("ngIf",t.entry),p.zb(1),p.gc("ngIf",t.entry),p.zb(1),p.gc("ngIf",null!=t.entry),p.zb(1),p.gc("ngIf",null!=t.entry),p.zb(1),p.gc("ngIf",null!=t.entry),p.zb(1),p.gc("ngIf",null!=(null==t.entry?null:t.entry.stage)),p.zb(1),p.gc("ngIf",null!=(null==t.entry?null:t.entry.stage)),p.zb(1),p.gc("ngIf",null==t.entry?null:t.entry.stage),p.zb(1),p.gc("ngIf",null==t.entry?null:t.entry.stage)}}let je=(()=>{class t{constructor(t,e,n,i,s,r,c){this.router=t,this.route=e,this.rfs=n,this.ns=i,this.rffs=s,this.ems=r,this.aus=c,this.isError=!1,this.isFormSubmitted=!1,this.isFormProcessing=!1,this.isOtherColAvailable=!1,this.isLoading=!1}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.detail.systemType,this.title=t.detail.title,this.view=t.detail.view,this.viewWord=t.detail.viewWord,this.link=t.detail.link,this.$link=t.detail.$link,this.rfs.$systemType=this.systemType,this.route.paramMap.pipe(Object(T.a)(t=>{let e=t.get("entry");return this.eslug=e,this.isLoading=!0,this.rfs.getEntry(e)})).subscribe(t=>{null==t?(this.isLoading=!1,this.isError=!0,this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message)):null!=t&&(this.isLoading=!1,this.entry=t,this.entryForm=this.rffs.entryUpdateForm(),null!=this.entry.stage&&1==this.entry.stage._id?this.currentStage=2:null!=this.entry.stage&&2==this.entry.stage._id?this.currentStage=3:null!=this.entry.stage&&4==this.entry.stage._id?this.currentStage=5:null!=this.entry.stage&&5==this.entry.stage._id&&(this.currentStage=6))})}ngOnDestroy(){clearTimeout(this.entryChangesT)}updateEntry(t){this.isError=!1,this.isError=!1,this.error=null,this.isFormProcessing=!0,this.isFormSubmitted=!0,this.rfs.updateEntry$(this.eslug,t).subscribe(t=>{if(null==t)this.isFormSubmitted=!1,this.isFormProcessing=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and ${this.systemType} Entry is not updated.`),this.isError=!0,this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message);else if(null!=t&&1==t.updated)return this.isLoading=!0,this.isFormSubmitted=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and ${this.systemType} Entry is updated.`),this.entryChanges(t.$data)})}entryChanges(t){this.entryChangesT=setTimeout(()=>this.router.navigate([this.link,"entries"]),5e3)}$confirmEntryOnReview(t){null!=this.entry&&(this.entry.status=t.status,this.entry.stage={_id:1},this.currentStage=2)}otherCol(){this.isLoading=!0,this.rfs.status().subscribe(t=>{null==t&&(this.isLoading=!1),null!=t&&(this.isLoading=!1,this.isOtherColAvailable=!0,this.eother=t)})}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}get userRole(){return this.aus.userRole}get canUpdateEntry(){return tt.indexOf(this.userRole)>-1}get canUpdateEntry2(){return["bursar"].indexOf(this.userRole)>-1}get canUpdateEntry4(){return["hod","dean"].indexOf(this.userRole)>-1}get canUpdateEntry5(){return["bursar"].indexOf(this.userRole)>-1}get userId(){return this.aus.userId}get isFormValid(){return this.entryForm.valid}removeNotification(){this.ns.removeNotification()}}return t.\u0275fac=function(e){return new(e||t)(p.Kb(y.e),p.Kb(y.a),p.Kb(q),p.Kb(N.a),p.Kb(it),p.Kb(C.a),p.Kb(O.a))},t.\u0275cmp=p.Eb({type:t,selectors:[["app-refund-entry-detail"]],features:[p.yb([N.a,C.a])],decls:7,vars:6,consts:[["id","entry-view"],[4,"ngIf"],[3,"system-type","view-type",4,"ngIf"],[3,"error",4,"ngIf"],[3,"notified","message","finished",4,"ngIf"],["id","request-entry-detail",4,"ngIf"],[3,"is-loading"],[3,"system-type","view-type"],[3,"error"],[3,"notified","message","finished"],["id","request-entry-detail"],[3,"entry",4,"ngIf"],[3,"view","link","entry","system-type","onReviewEntry",4,"ngIf"],[3,"entry"],[3,"view","link","entry","system-type","onReviewEntry"],["id","entry-detail-form"],["id","entry-detail-options"],["class","center",3,"click",4,"ngIf"],["method","post",3,"formGroup","ngSubmit",4,"ngIf"],[1,"center",3,"click"],["method","post",3,"formGroup","ngSubmit"],[3,"entry","entry-other","entry-form","current-stage","system-type","$link"],["type","submit","class","btn-submit",3,"class","disabled",4,"ngIf"],["type","submit",1,"btn-submit",3,"disabled"],[3,"entry","entry-other","entry-form","current-stage","system-type"],[4,"ngIf","ngIfElse"],["noSignature",""],[4,"ngFor","ngForOf"],[3,"entry","entry-form","current-stage","system-type",4,"ngIf"],[3,"entry","entry-form","current-stage","system-type"],[3,"entry","entry-form","entry-other","current-stage","system-type"]],template:function(t,e){1&t&&(p.Pb(0,"div",0),p.vc(1,Rt,2,1,"h2",1),p.vc(2,Kt,1,2,"app-view-description",2),p.vc(3,qt,1,1,"app-resource-unavailable",3),p.vc(4,Wt,1,2,"app-notification-screen",4),p.vc(5,Fe,10,10,"div",5),p.Ob(),p.Lb(6,"app-loading-menu",6)),2&t&&(p.zb(1),p.gc("ngIf",e.title),p.zb(1),p.gc("ngIf",e.view),p.zb(1),p.gc("ngIf",e.isError),p.zb(1),p.gc("ngIf",e.notificationAvailable),p.zb(1),p.gc("ngIf",e.entry),p.zb(1),p.gc("is-loading",e.isLoading))},directives:[i.l,Q.a,w.a,U.a,V.a,st.a,rt.a,ot,wt,It.a,s.s,s.l,s.h,Ft,i.k,_t],styles:[""],data:{animation:[v.a]}}),t})();var Se=n("P2jk"),Ae=n("2Cyu");function _e(t,e){if(1&t&&p.Lb(0,"app-view-description",8),2&t){const t=p.ac();p.gc("view-type",t.view)("system-type",t.systemType)}}function Re(t,e){if(1&t&&p.Lb(0,"app-resource-unavailable",9),2&t){const t=p.ac();p.gc("error",t.error)}}function Ke(t,e){if(1&t&&p.Lb(0,"app-request-entry-status",10),2&t){const t=p.ac();p.gc("system-type",t.systemType)("entry",t.entry)}}function qe(t,e){if(1&t&&(p.Nb(0),p.Pb(1,"p",18),p.Pb(2,"small"),p.Pb(3,"b",14),p.xc(4),p.Ob(),p.Ob(),p.Ob(),p.Mb()),2&t){const t=p.ac().$implicit;p.zb(4),p.yc(" ",null==t?null:t.author.full_name," ")}}function We(t,e){1&t&&(p.Pb(0,"p",18),p.Pb(1,"small"),p.Pb(2,"b",14),p.xc(3," Anonymous "),p.Ob(),p.Ob(),p.Ob())}function De(t,e){if(1&t&&(p.Nb(0),p.Pb(1,"p",19),p.Pb(2,"b",14),p.xc(3," Message : "),p.Ob(),p.xc(4),p.Ob(),p.Mb()),2&t){const t=p.ac().$implicit;p.zb(4),p.yc(" ",null==t?null:t.text," ")}}const Qe=function(t,e,n){return[t,"entry",e,"comment",n,"reply","add"]};function Ue(t,e){if(1&t&&(p.Nb(0),p.Pb(1,"a",20),p.xc(2," Reply "),p.Ob(),p.Mb()),2&t){const t=p.ac(2).$implicit,e=p.ac(2);p.zb(1),p.hc("id",null==t?null:t.slug),p.gc("routerLink",p.nc(2,Qe,e.isAdmin,null==e.entry?null:e.entry.slug,null==t?null:t.slug))}}function Ve(t,e){if(1&t&&(p.Nb(0),p.vc(1,Ue,3,6,"ng-container",5),p.Mb()),2&t){const t=p.ac(),e=t.$implicit,n=t.index;p.zb(1),p.gc("ngIf",(null==e.replies||(null==e?null:e.replies.length)<1)&&0!=n)}}function Be(t,e){if(1&t&&(p.Nb(0),p.Pb(1,"p"),p.Pb(2,"b",14),p.xc(3),p.Ob(),p.Pb(4,"small",15),p.xc(5),p.bc(6,"date"),p.Ob(),p.Ob(),p.Mb()),2&t){const t=p.ac().index,e=p.ac(2).$implicit;p.zb(3),p.yc(" ",t+1," "),p.zb(2),p.yc(" ",p.dc(6,2,null==e?null:e.updated_on,"longDate")," ")}}function Ge(t,e){if(1&t&&(p.Nb(0),p.Pb(1,"p",18),p.Pb(2,"small"),p.Pb(3,"b",14),p.xc(4),p.Ob(),p.Ob(),p.Ob(),p.Mb()),2&t){const t=p.ac().$implicit;p.zb(4),p.yc(" Author : ",null==t?null:t.author.full_name," ")}}function Ye(t,e){1&t&&(p.Pb(0,"p",18),p.Pb(1,"small"),p.Pb(2,"b",14),p.xc(3," Anonymous "),p.Ob(),p.Ob(),p.Ob())}function Je(t,e){if(1&t&&(p.Nb(0),p.Pb(1,"p",19),p.Pb(2,"b",14),p.xc(3),p.Ob(),p.xc(4),p.bc(5,"replaceLineBreak"),p.Ob(),p.Mb()),2&t){const t=p.ac().$implicit;p.zb(3),p.yc(" Message : ",null!=t&&t.comment_author_name?"@"+(null==t?null:t.comment_author_name.split(" ").join("")):""," "),p.zb(1),p.yc(" ",p.cc(5,2,null==t?null:t.text)," ")}}function He(t,e){if(1&t&&(p.Nb(0),p.Pb(1,"div",22),p.vc(2,Be,7,5,"ng-container",5),p.vc(3,Ge,5,1,"ng-container",16),p.vc(4,Ye,4,0,"ng-template",null,23,p.wc),p.vc(6,Je,6,4,"ng-container",5),p.Ob(),p.Mb()),2&t){const t=e.$implicit,n=p.qc(5),i=p.ac(2).$implicit;p.zb(2),p.gc("ngIf",i.updated_on),p.zb(1),p.gc("ngIf",null==t?null:t.author)("ngIfElse",n),p.zb(3),p.gc("ngIf",null==t?null:t.text)}}function Ze(t,e){if(1&t&&(p.Nb(0),p.Pb(1,"div",21),p.vc(2,He,7,4,"ng-container",12),p.Ob(),p.Mb()),2&t){const t=p.ac().$implicit;p.zb(2),p.gc("ngForOf",null==t?null:t.replies)}}function Xe(t,e){if(1&t&&(p.Nb(0),p.Pb(1,"div",13),p.Pb(2,"p"),p.Pb(3,"b",14),p.xc(4),p.Ob(),p.Pb(5,"small",15),p.xc(6),p.bc(7,"date"),p.Ob(),p.Ob(),p.vc(8,qe,5,1,"ng-container",16),p.vc(9,We,4,0,"ng-template",null,17,p.wc),p.vc(11,De,5,1,"ng-container",5),p.vc(12,Ve,2,1,"ng-container",5),p.vc(13,Ze,3,1,"ng-container",5),p.Ob(),p.Mb()),2&t){const t=e.$implicit,n=e.index,i=p.qc(10),s=p.ac(2);p.zb(4),p.yc(" ",n+1," "),p.zb(2),p.yc(" ",p.dc(7,7,null==t?null:t.updated_on,"longDate")," "),p.zb(2),p.gc("ngIf",null==t?null:t.author)("ngIfElse",i),p.zb(3),p.gc("ngIf",null==t?null:t.text),p.zb(1),p.gc("ngIf","Fulfilled"!=(null==s.entry?null:s.entry.status)&&"Rejected"!=(null==s.entry?null:s.entry.status)),p.zb(1),p.gc("ngIf",null!=(null==t?null:t.replies)&&0!=(null==t||null==t.replies?null:t.replies.length))}}function tn(t,e){if(1&t&&(p.Nb(0),p.Pb(1,"div",11),p.Pb(2,"h3"),p.xc(3," Timeline "),p.Ob(),p.vc(4,Xe,14,10,"ng-container",12),p.Ob(),p.Mb()),2&t){const t=p.ac();p.zb(4),p.gc("ngForOf",t.comments)}}function en(t,e){1&t&&(p.Nb(0),p.Pb(1,"div",11),p.Pb(2,"p"),p.xc(3," Comments entries not available for this entry. "),p.Ob(),p.Ob(),p.Mb())}const nn=function(t,e){return[t,"entry",e,"comment","add"]};function sn(t,e){if(1&t&&(p.Nb(0),p.Pb(1,"a",25),p.xc(2," Add a Comment "),p.Ob(),p.Mb()),2&t){const t=p.ac(2);p.zb(1),p.gc("routerLink",p.mc(1,nn,t.isAdmin,null==t.entry?null:t.entry.slug))}}const rn=function(t,e){return[t,"entry",e,"detail"]};function cn(t,e){if(1&t&&(p.Nb(0),p.Pb(1,"a",25),p.xc(2," Entry Detail "),p.Ob(),p.Mb()),2&t){const t=p.ac(2);p.zb(1),p.gc("routerLink",p.mc(1,rn,t.isAdmin,null==t.entry?null:t.entry.slug))}}function an(t,e){if(1&t&&(p.Pb(0,"div",24),p.vc(1,sn,3,4,"ng-container",5),p.vc(2,cn,3,4,"ng-container",5),p.Ob()),2&t){const t=p.ac();p.zb(1),p.gc("ngIf","Review"==(null==t.entry?null:t.entry.status)),p.zb(1),p.gc("ngIf",t.view)}}let on=(()=>{class t{constructor(t,e,n,i,s){this.router=t,this.route=e,this.rfs=n,this.ems=i,this.aus=s,this.isError=!1,this.isLoading=!1}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.timeline.systemType,this.title=t.timeline.title,this.view=t.timeline.view,this.viewWord=t.timeline.viewWord,this.link=t.timeline.link,this.rfs.$systemType=this.systemType,this.route.paramMap.pipe(Object(T.a)(t=>{let e=t.get("entry");return this.eslug=e,this.isLoading=!0,this.rfs.getTimeline(e)})).subscribe(t=>{null==t?(this.isLoading=!1,this.isError=!0,this.error=Object.assign({resource:this.systemType+" Entry Timeline"},this.ems.message)):null!=t&&(this.isLoading=!1,this.entry=t,this.comments=t.timeline)})}get userRole(){return this.aus.userRole}get isAdmin(){return["moderator","administrator","superAdministrator"].indexOf(this.userRole),"/refund"}get canUpdateEntry(){return tt.indexOf(this.userRole)>-1}}return t.\u0275fac=function(e){return new(e||t)(p.Kb(y.e),p.Kb(y.a),p.Kb(q),p.Kb(C.a),p.Kb(O.a))},t.\u0275cmp=p.Eb({type:t,selectors:[["app-refund-entry-timeline"]],features:[p.yb([C.a])],decls:11,vars:8,consts:[["id","general-timeline"],["id","general-entry-details"],[3,"view-type","system-type",4,"ngIf"],[3,"error",4,"ngIf"],[3,"system-type","entry",4,"ngIf"],[4,"ngIf"],["id","entry-detail-options",4,"ngIf"],[3,"is-loading"],[3,"view-type","system-type"],[3,"error"],[3,"system-type","entry"],[1,"comments"],[4,"ngFor","ngForOf"],[1,"comment"],[1,"bold"],[1,"timestamp"],[4,"ngIf","ngIfElse"],["anonymousTemplate",""],[1,"author"],[1,"text"],[1,"reply-add",3,"id","routerLink"],[1,"replies"],[1,"reply"],["anonymousTemplate1",""],["id","entry-detail-options"],[1,"center",3,"routerLink"]],template:function(t,e){1&t&&(p.Pb(0,"div",0),p.Pb(1,"div",1),p.Pb(2,"h2"),p.xc(3," Request Details "),p.Ob(),p.vc(4,_e,1,2,"app-view-description",2),p.vc(5,Re,1,1,"app-resource-unavailable",3),p.vc(6,Ke,1,2,"app-request-entry-status",4),p.vc(7,tn,5,1,"ng-container",5),p.vc(8,en,4,0,"ng-container",5),p.Ob(),p.vc(9,an,3,2,"div",6),p.Ob(),p.Lb(10,"app-loading-menu",7)),2&t&&(p.gc("@fadeAnimation",void 0),p.zb(4),p.gc("ngIf",e.view),p.zb(1),p.gc("ngIf",e.isError),p.zb(1),p.gc("ngIf",e.entry),p.zb(1),p.gc("ngIf",null!=e.comments&&(null==e.comments?null:e.comments.length)>0),p.zb(1),p.gc("ngIf",null!=e.comments&&(null==e.comments?null:e.comments.length)<1),p.zb(1),p.gc("ngIf",e.entry),p.zb(1),p.gc("is-loading",e.isLoading))},directives:[i.l,Q.a,w.a,U.a,Se.a,i.k,y.f],pipes:[i.d,Ae.a],styles:[".comment[_ngcontent-%COMP%]{border-bottom:1px solid #add8e6;padding:10px}.comment[_ngcontent-%COMP%]:hover{background-color:#fdfdfd}.comment[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:2em!important}.comment[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{font-style:italic;margin-left:2em;font-size:10px}.comment[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:11px;margin-right:10px}.comment[_ngcontent-%COMP%]   p.text[_ngcontent-%COMP%]{font-size:12px}.comment[_ngcontent-%COMP%]   a.reply-add[_ngcontent-%COMP%]{font-size:11px;background-color:#290140;color:#a0a7a0;padding:5px 15px;border-radius:6px;border:1.5px solid #ac4bd8}.comment[_ngcontent-%COMP%]   a.reply-add[_ngcontent-%COMP%]:hover{color:#fff;background-color:#210140}.replies[_ngcontent-%COMP%]{margin-left:30px}.reply[_ngcontent-%COMP%]{margin-top:20px}"],data:{animation:[v.a]}}),t})();var ln=n("iPJu"),un=n("BeQt"),bn=n("9yhg"),gn=n("xlhj"),fn=n("scZC");function yn(t,e){if(1&t&&(p.Pb(0,"h2"),p.xc(1),p.Ob()),2&t){const t=p.ac();p.zb(1),p.yc(" ",t.title," ")}}function dn(t,e){if(1&t&&p.Lb(0,"app-view-description",11),2&t){const t=p.ac();p.gc("view-type",t.view)("system-type",t.systemType)}}function hn(t,e){if(1&t){const t=p.Qb();p.Pb(0,"app-notification-screen",12),p.Wb("finished",function(){return p.rc(t),p.ac().removeNotification()}),p.Ob()}if(2&t){const t=p.ac();p.gc("notified",t.notificationAvailable)("message",t.notificationMessage)}}function pn(t,e){1&t&&p.Lb(0,"app-list-entry-options")}function mn(t,e){if(1&t&&p.Lb(0,"app-search",13),2&t){const t=p.ac();p.gc("system-type",t.systemType)("$link",t.$link)("search-filters",t.searchFilters)}}function vn(t,e){1&t&&(p.Pb(0,"td",21),p.xc(1," N/A "),p.Ob())}function On(t,e){if(1&t&&(p.Pb(0,"td",28),p.xc(1),p.Ob()),2&t){const t=p.ac().$implicit;p.zb(1),p.yc(" ",null==t?null:t.application_number," ")}}function Pn(t,e){if(1&t&&(p.Pb(0,"td",21),p.xc(1),p.Ob()),2&t){const t=p.ac().$implicit;p.zb(1),p.yc(" ",null==t||null==t.author?null:t.author.full_name," ")}}function wn(t,e){if(1&t&&(p.Pb(0,"td",21),p.xc(1),p.bc(2,"date"),p.Ob()),2&t){const t=p.ac().$implicit;p.zb(1),p.yc(" ",p.dc(2,1,null==t?null:t.updated_on,"longDate")," ")}}function In(t,e){if(1&t&&(p.Pb(0,"td",21),p.xc(1),p.Ob()),2&t){const t=p.ac().$implicit;p.zb(1),p.yc(" ",null==t||null==t.author?null:t.author.level," ")}}function En(t,e){if(1&t&&(p.Pb(0,"td",21),p.xc(1),p.Ob()),2&t){const t=p.ac().$implicit;p.zb(1),p.yc(" ",null==t?null:t.stage._id," ")}}const zn=function(t,e,n){return{rejected:t,fulfilled:e,update:n}};function $n(t,e){if(1&t&&(p.Pb(0,"td",29),p.xc(1),p.Ob()),2&t){const t=p.ac().$implicit;p.gc("ngClass",p.nc(2,zn,"Rejected"==(null==t?null:t.status),"Fulfilled"==(null==t?null:t.status),"Review"==(null==t?null:t.status))),p.zb(1),p.yc(" ",null==t?null:t.status," ")}}function xn(t,e){if(1&t){const t=p.Qb();p.Nb(0),p.Pb(1,"input",34,35),p.Wb("click",function(){p.rc(t);const e=p.qc(2),n=p.ac(3),i=n.$implicit,s=n.index;return p.ac(3).addEntryToDeleteList(null==i?null:i.num,e.checked,s)}),p.Ob(),p.Lb(3,"span",36),p.Mb()}if(2&t){const t=e.$implicit,n=p.ac(3).$implicit;p.zb(1),p.gc("checked",t==(null==n?null:n.num))}}function Ln(t,e){if(1&t&&(p.Nb(0),p.vc(1,xn,4,1,"ng-container",33),p.Mb()),2&t){const t=p.ac(5);p.zb(1),p.gc("ngForOf",t.esdl)}}function kn(t,e){if(1&t){const t=p.Qb();p.Pb(0,"input",37,35),p.Wb("click",function(){p.rc(t);const e=p.qc(1),n=p.ac(2),i=n.$implicit,s=n.index;return p.ac(3).addEntryToDeleteList(null==i?null:i.num,e.checked,s)}),p.Ob(),p.Lb(2,"span",36)}}function Mn(t,e){if(1&t&&(p.Pb(0,"label",30),p.vc(1,Ln,2,1,"ng-container",31),p.vc(2,kn,3,0,"ng-template",null,32,p.wc),p.Ob()),2&t){const t=p.qc(3),e=p.ac(4);p.zb(1),p.gc("ngIf",e.esdl.length)("ngIfElse",t)}}const Tn=function(t){return["../","entry",t,"detail"]};function Cn(t,e){if(1&t&&(p.Pb(0,"tr"),p.Pb(1,"td",21),p.xc(2),p.Ob(),p.vc(3,vn,2,0,"ng-template",null,22,p.wc),p.vc(5,On,2,1,"td",23),p.vc(6,Pn,2,1,"td",24),p.vc(7,wn,3,4,"td",24),p.vc(8,In,2,1,"td",24),p.vc(9,En,2,1,"td",24),p.vc(10,$n,2,6,"td",25),p.Pb(11,"td",16),p.Pb(12,"a",26),p.xc(13," View "),p.Ob(),p.vc(14,Mn,4,2,"label",27),p.Ob(),p.Ob()),2&t){const t=e.$implicit,n=e.index,i=p.qc(4),s=p.ac(3);p.zb(2),p.yc(" ",n+1,". "),p.zb(3),p.gc("ngIf",null==t?null:t.application_number)("ngIfElse",i),p.zb(1),p.gc("ngIf",null==t||null==t.author?null:t.author.full_name)("ngIfElse",i),p.zb(1),p.gc("ngIf",null==t?null:t.updated_on)("ngIfElse",i),p.zb(1),p.gc("ngIf",null==t||null==t.author?null:t.author.level)("ngIfElse",i),p.zb(1),p.gc("ngIf",null==t?null:t.stage)("ngIfElse",i),p.zb(1),p.gc("ngIf",null==t?null:t.status)("ngIfElse",i),p.zb(2),p.gc("routerLink",p.lc(15,Tn,null==t?null:t.slug)),p.zb(2),p.gc("ngIf",s.canUpdateEntry)}}function Nn(t,e){if(1&t&&(p.Pb(0,"table"),p.Pb(1,"caption",15),p.xc(2," Entries "),p.Ob(),p.Pb(3,"colgroup"),p.Lb(4,"col",16),p.Lb(5,"col",16),p.Lb(6,"col",16),p.Lb(7,"col",16),p.Lb(8,"col",16),p.Lb(9,"col",16),p.Lb(10,"col",16),p.Lb(11,"col",16),p.Ob(),p.Pb(12,"thead"),p.Pb(13,"tr"),p.Pb(14,"th",17),p.xc(15," Index "),p.Ob(),p.Pb(16,"th",17),p.xc(17," Req. Unique ID "),p.Ob(),p.Pb(18,"th",17),p.xc(19," Full Name "),p.Ob(),p.Pb(20,"th",17),p.xc(21," Updated On "),p.Ob(),p.Pb(22,"th",17),p.xc(23," Level "),p.Ob(),p.Pb(24,"th",18),p.xc(25," Stage "),p.Ob(),p.Pb(26,"th",17),p.xc(27," Status "),p.Ob(),p.Pb(28,"th",19),p.xc(29," Changes "),p.Ob(),p.Ob(),p.Ob(),p.Pb(30,"tbody"),p.vc(31,Cn,15,17,"tr",20),p.Ob(),p.Pb(32,"tfoot"),p.Pb(33,"tr"),p.Lb(34,"td"),p.Ob(),p.Pb(35,"tr"),p.Lb(36,"td"),p.Ob(),p.Lb(37,"tr"),p.Ob(),p.Ob()),2&t){const t=p.ac(2);p.zb(30),p.gc("@listAnimation",t.entries.length),p.zb(1),p.gc("ngForOf",t.entries)("ngForTrackBy",t.trackByAppNumber)}}function Fn(t,e){if(1&t&&(p.Pb(0,"div",14),p.vc(1,Nn,38,3,"table",1),p.Ob()),2&t){const t=p.ac();p.gc("@fadeAnimation",void 0),p.zb(1),p.gc("ngIf",!t.isLoading)}}function jn(t,e){if(1&t&&p.Lb(0,"app-pagination",38),2&t){const t=p.ac();p.gc("entries-length",t.$entriesLength)("entry-ref",t.$entryRef)("page-number",t.pageNumber)("is-loading",!t.isLoading)}}function Sn(t,e){if(1&t&&p.Lb(0,"app-resource-unavailable",39),2&t){const t=p.ac();p.gc("error",t.error)}}let An=(()=>{class t{constructor(t,e,n,i,s,r,c,a){this.route=t,this.location=e,this.rfs=n,this.gss=i,this.gas=s,this.ems=r,this.ns=c,this.aus=a,this.entries=[],this.isError=!1,this.esdl=[],this.p$esdl=!1,this.pageNumber=1,this.$entriesLength=0,this.isLoading=!1,this.entriesSearchedOb=this.gss.entriesSearched$.subscribe(t=>{this.location.replaceState(`/${this.link}/entries`),this.pageNumber=1,null==t?(this.entries=[],this.$entriesLength=0,this.error=Object.assign({resource:this.systemType+" Entry or Entries"},this.ems.message),this.isError=!0):null!=t&&t.length>0&&(this.error=null,this.isError=!1,this.$entriesLength=t.length,this.entries=t,this.entries.length<=10&&(this.pageNumber=1),this.entries.length>10&&this.entries.pop())}),this.clearSearchOb=this.gss.clearSearch$.subscribe(t=>{this.clearSearch$()}),this.errorExistOb=this.gss.errorExist$.subscribe(t=>{this.isError=t})}searchErr$(t){this.error=null,this.isError=!1}clearSearch$(){this.error=null,this.isError=!1,this.pageNumber=1,this.location.replaceState(`/${this.link}/entries`),this.gss.searchCleared.next(!0),this.isLoading=!0,this.getAllEntry({})}trackByAppNumber(t,e){return e.application_number}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.entries.systemType,this.title=t.entries.title,this.view=t.entries.view,this.link=t.entries.link,this.$link=t.entries.link,this.searchFilters=t.entries.searchFilters,this.rfs.$systemType=this.systemType,this.route.queryParamMap.subscribe(t=>{this.isLoading=!0;let e=this.gas.paramProcessor(t,this);return this.getAllEntry(e)})}ngOnDestroy(){null!=this.entriesSearchedOb&&this.entriesSearchedOb.unsubscribe(),null!=this.clearSearchOb&&this.clearSearchOb.unsubscribe(),null!=this.errorExistOb&&this.errorExistOb.unsubscribe()}getAllEntry(t){this.rfs.getAllEntry(t).subscribe(t=>{null==t?(this.isLoading=!1,this.entries=[],this.$entriesLength=0,this.isError=!0,this.error=Object.assign({resource:this.systemType+" Entry or Entries"},this.ems.message)):null!=t&&t.length>0&&(this.isLoading=!1,this.error=null,this.isError=!1,this.$entriesLength=t.length,this.entries=t),this.entries.length>10&&this.entries.pop()})}addEntryToDeleteList(t,e,n){this.gas.addEntryToDeleteList(t,e,n,this)}deleteManyEntry(){this.gas.deleteManyEntry(this,this.rfs)}get userRole(){return this.aus.userRole}get canUpdateEntry(){return tt.indexOf(this.userRole)>-1}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}removeNotification(){this.ns.removeNotification()}}return t.\u0275fac=function(e){return new(e||t)(p.Kb(y.a),p.Kb(i.h),p.Kb(q),p.Kb(ln.a),p.Kb(un.a),p.Kb(C.a),p.Kb(N.a),p.Kb(O.a))},t.\u0275cmp=p.Eb({type:t,selectors:[["app-refund-entries"]],features:[p.yb([N.a,C.a,ln.a])],decls:13,vars:12,consts:[["id","entry-main"],[4,"ngIf"],[3,"view-type","system-type",4,"ngIf"],[3,"notified","message","finished",4,"ngIf"],[1,"search-bar"],[3,"system-type","$link","search-filters",4,"ngIf"],[1,"entry-option-delete","entry-option-small","center",3,"click"],["class","entries",4,"ngIf"],[3,"entries-length","entry-ref","page-number","is-loading",4,"ngIf"],[3,"error",4,"ngIf"],[3,"is-loading"],[3,"view-type","system-type"],[3,"notified","message","finished"],[3,"system-type","$link","search-filters"],[1,"entries"],[1,"bold","left"],[1,""],[1,"bold","center"],[1,"bold","center","stage"],[1,"bold","left","changes-head"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"center"],["nilValue",""],["class","center bold app-number",4,"ngIf","ngIfElse"],["class","center",4,"ngIf","ngIfElse"],["class","center",3,"ngClass",4,"ngIf","ngIfElse"],[1,"center","changes-option","changes-option-full",3,"routerLink"],["class","changes-mark",4,"ngIf"],[1,"center","bold","app-number"],[1,"center",3,"ngClass"],[1,"changes-mark"],[4,"ngIf","ngIfElse"],["normalChecks",""],[4,"ngFor","ngForOf"],["type","checkbox",3,"checked","click"],["checked",""],[1,"checkmark"],["type","checkbox",3,"click"],[3,"entries-length","entry-ref","page-number","is-loading"],[3,"error"]],template:function(t,e){1&t&&(p.Pb(0,"div",0),p.vc(1,yn,2,1,"h2",1),p.vc(2,dn,1,2,"app-view-description",2),p.vc(3,hn,1,2,"app-notification-screen",3),p.vc(4,pn,1,0,"app-list-entry-options",1),p.Pb(5,"div",4),p.vc(6,mn,1,3,"app-search",5),p.Pb(7,"a",6),p.Wb("click",function(){return e.deleteManyEntry()}),p.xc(8," Delete Many "),p.Ob(),p.Ob(),p.vc(9,Fn,2,2,"div",7),p.vc(10,jn,1,4,"app-pagination",8),p.vc(11,Sn,1,1,"app-resource-unavailable",9),p.Ob(),p.Lb(12,"app-loading-menu",10)),2&t&&(p.gc("@fadeAnimation",void 0),p.zb(1),p.gc("ngIf",e.title),p.zb(1),p.gc("ngIf",e.view),p.zb(1),p.gc("ngIf",e.notificationAvailable),p.zb(1),p.gc("ngIf",e.$entriesLength>0),p.zb(2),p.gc("ngIf",e.systemType),p.zb(1),p.Cb("hide",e.esdl.length<2),p.zb(2),p.gc("ngIf",e.$entriesLength>0),p.zb(1),p.gc("ngIf",e.pageNumber),p.zb(1),p.gc("ngIf",e.isError),p.zb(1),p.gc("is-loading",e.isLoading))},directives:[i.l,Q.a,w.a,V.a,bn.a,gn.a,i.k,y.f,i.j,fn.a,U.a],pipes:[i.d],styles:['.entries[_ngcontent-%COMP%]{width:98%;overflow:auto}table[_ngcontent-%COMP%]{width:1270px;table-layout:fixed}col[_ngcontent-%COMP%]:first-of-type{width:5%}col[_ngcontent-%COMP%]:nth-of-type(2){width:18%}col[_ngcontent-%COMP%]:nth-of-type(3){width:12%}col[_ngcontent-%COMP%]:nth-of-type(4), col[_ngcontent-%COMP%]:nth-of-type(5){width:8%}col[_ngcontent-%COMP%]:nth-of-type(6){width:6%}col[_ngcontent-%COMP%]:nth-of-type(7){width:7%}col[_ngcontent-%COMP%]:nth-of-type(8){width:20%}.stage[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}@media screen and (max-width:700px){.entries[_ngcontent-%COMP%]{width:98%;overflow:hidden}.app-number[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]{table-layout:auto}tr[_ngcontent-%COMP%]{margin-bottom:10px;display:block}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{display:none}td[_ngcontent-%COMP%]{text-align:left;line-height:2em}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{font-family:RobotoBold;font-size:96%;font-weight:700}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child:before{content:"Entry Index"}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2):before{content:"Application Number : "}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4):before{content:"Updated On : "}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(7):before{content:"Status : "}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(8):before{content:"Options : "}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, td[_ngcontent-%COMP%]:nth-child(2), td[_ngcontent-%COMP%]:nth-child(4), td[_ngcontent-%COMP%]:nth-child(7), td[_ngcontent-%COMP%]:nth-child(8){display:block}}'],data:{animation:[v.c,v.a]}}),t})();var _n=n("41Vw"),Rn=n("Mwf2"),Kn=n("zki3");function qn(t,e){if(1&t&&(p.Pb(0,"h2"),p.xc(1),p.Ob()),2&t){const t=p.ac();p.zb(1),p.yc(" ",t.title," ")}}function Wn(t,e){if(1&t&&p.Lb(0,"app-resource-unavailable",5),2&t){const t=p.ac();p.gc("error",t.error)}}function Dn(t,e){if(1&t){const t=p.Qb();p.Pb(0,"app-notification-screen",6),p.Wb("finished",function(){return p.rc(t),p.ac().removeNotification()}),p.Ob()}if(2&t){const t=p.ac();p.gc("notified",t.notificationAvailable)("message",t.notificationMessage)}}function Qn(t,e){if(1&t){const t=p.Qb();p.Nb(0),p.Pb(1,"app-entry-reply-create",7),p.Wb("processEntry",function(e){return p.rc(t),p.ac(2).createEntry(e)}),p.Ob(),p.Mb()}if(2&t){const t=p.ac(2);p.zb(1),p.gc("system-type",t.systemType)("view",t.view)("entry",t.entry)("comment",t.comment)("entry-create-form",t.entryCreateForm)}}function Un(t,e){if(1&t&&(p.Nb(0),p.vc(1,Qn,2,5,"ng-container",1),p.Mb()),2&t){const t=p.ac();p.zb(1),p.gc("ngIf",!t.isLoading)}}let Vn=(()=>{class t{constructor(t,e,n,i,s,r,c){this.route=t,this.router=e,this.rfs=n,this.rcfs=i,this.rcs=s,this.ems=r,this.ns=c,this.isError=!1,this.isLoading=!1}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.reply.systemType,this.title=t.reply.title,this.view=t.reply.view,this.link=t.reply.link,this.route.paramMap.pipe(Object(T.a)(t=>{let e=t.get("entry"),n=t.get("comment");return this.eslug=e,this.cslug=n,this.isLoading=!0,this.rfs.addReply(e,n)})).subscribe(t=>{null==t?(this.isLoading=!1,this.isError=!0,this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message)):null!=t&&1==t.permitted&&(this.isLoading=!1,this.entry=t.$data.Entry,this.comment=t.$data.Comment,this.entryCreateForm=this.rcfs.entryCreateForm(),this.entryCreateForm.patchValue({comment_author_name:this.comment.author.full_name}))})}ngOnDestroy(){clearTimeout(this.entryCreatedT)}createEntry(t){this.error=null,this.isError=!1,this.rfs.addReply$(this.eslug,this.cslug,t).subscribe(t=>{null==t&&(this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and ${this.systemType} Entry is not created.`),this.rcs.isEntryCreated.next(!1)),null!=t&&1==t.updated&&(this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and ${this.systemType} Entry is created.`),this.isLoading=!0,this.rcs.isEntryCreated.next(!0),this.entryChanges(t.$data))})}entryChanges(t){this.entryCreatedT=setTimeout(()=>this.router.navigate([this.link,"entries"]),5e3)}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}removeNotification(){this.ns.removeNotification()}}return t.\u0275fac=function(e){return new(e||t)(p.Kb(y.a),p.Kb(y.e),p.Kb(q),p.Kb(_n.a),p.Kb(Rn.a),p.Kb(C.a),p.Kb(N.a))},t.\u0275cmp=p.Eb({type:t,selectors:[["app-refund-create-reply"]],features:[p.yb([C.a,N.a])],decls:6,vars:5,consts:[["id","general-entry"],[4,"ngIf"],[3,"error",4,"ngIf"],[3,"notified","message","finished",4,"ngIf"],[3,"is-loading"],[3,"error"],[3,"notified","message","finished"],[3,"system-type","view","entry","comment","entry-create-form","processEntry"]],template:function(t,e){1&t&&(p.Pb(0,"div",0),p.vc(1,qn,2,1,"h2",1),p.vc(2,Wn,1,1,"app-resource-unavailable",2),p.vc(3,Dn,1,2,"app-notification-screen",3),p.vc(4,Un,2,1,"ng-container",1),p.Ob(),p.Lb(5,"app-loading-menu",4)),2&t&&(p.zb(1),p.gc("ngIf",e.title),p.zb(1),p.gc("ngIf",e.isError),p.zb(1),p.gc("ngIf",e.notificationAvailable),p.zb(1),p.gc("ngIf",e.entryCreateForm),p.zb(1),p.gc("is-loading",e.isLoading))},directives:[i.l,Q.a,U.a,V.a,Kn.a],styles:[""]}),t})();var Bn=n("ku54");function Gn(t,e){if(1&t&&p.Lb(0,"app-general-all-entry-delete-all",1),2&t){const t=p.ac();p.gc("system-type",t.systemType)("view-word",t.viewWord)("view",t.view)("title",t.title)("link",t.link)("$link",t.$link)}}let Yn=(()=>{class t{constructor(t){this.route=t}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.deleteAll.systemType,this.viewWord=t.deleteAll.viewWord,this.title=t.deleteAll.title,this.view=t.deleteAll.view,this.link=t.deleteAll.link,this.$link=t.deleteAll.$link}}return t.\u0275fac=function(e){return new(e||t)(p.Kb(y.a))},t.\u0275cmp=p.Eb({type:t,selectors:[["app-refund-entry-delete-all"]],decls:1,vars:1,consts:[[3,"system-type","view-word","view","title","link","$link",4,"ngIf"],[3,"system-type","view-word","view","title","link","$link"]],template:function(t,e){1&t&&p.vc(0,Gn,1,6,"app-general-all-entry-delete-all",0),2&t&&p.gc("ngIf",e.systemType)},directives:[i.l,Bn.a],styles:[""]}),t})(),Jn={systemType:"Refund",title:"Refund",view:"rf",viewWord:"Refund",link:"refund",$link:"refund",systemGuideline:"request",base:"refund"};const Hn={dashboard:Object.assign({},Jn),create:Object.assign(Object.assign({},Jn),{title:"Request a "+Jn.systemType}),comment:Object.assign(Object.assign({},Jn),{title:`Add a Comment : ${Jn.systemType} Entry`}),detail:Object.assign(Object.assign({},Jn),{title:Jn.systemType+" Entry"}),timeline:Object.assign(Object.assign({},Jn),{title:Jn.systemType+" Entry Timeline"}),letter:Object.assign(Object.assign({},Jn),{title:Jn.systemType+" Entry Letter"}),transfer:Object.assign(Object.assign({},Jn),{title:`Transfer and Move ${Jn.systemType} Entry`}),entries:Object.assign(Object.assign({},Jn),{title:Jn.systemType+" Entries",searchFilters:{application_number:"Application Number",status:"Status",department:"Department",faculty:"Faculty",stage:"Stage"}}),reply:Object.assign(Object.assign({},Jn),{title:`Add a Reply to a Comment : ${Jn.systemType} Entry`}),deleteAll:Object.assign(Object.assign({},Jn),{title:Jn.systemType+" Entries : Delete All"})},Zn=[{path:"",component:m,canActivate:[d.a],canActivateChild:[d.a],canLoad:[d.a],children:[{path:"",component:M,data:{dashboard:Hn.dashboard}},{path:"entry/create",loadChildren:()=>Promise.all([n.e(4),n.e(2),n.e(41)]).then(n.bind(null,"7N37")).then(t=>t.RefundEntryCreateModule)},{path:"entry/:entry/detail",component:je,data:{detail:Hn.detail}},{path:"entry/:entry/comment/add",component:X,data:{comment:Hn.comment}},{path:"entry/:entry/timeline",component:on,data:{timeline:Hn.timeline}},{path:"entry/:entry/comment/:comment/reply/add",component:Vn,data:{reply:Hn.reply}},{path:"entries",component:An,data:{entries:Hn.entries}},{path:"entry/delete/all",component:Yn,canActivate:[h.a],data:{deleteAll:Hn.deleteAll}}]}];let Xn=(()=>{class t{}return t.\u0275mod=p.Ib({type:t}),t.\u0275inj=p.Hb({factory:function(e){return new(e||t)},imports:[[y.g.forChild(Zn)],y.g]}),t})(),ti=(()=>{class t{}return t.\u0275mod=p.Ib({type:t}),t.\u0275inj=p.Hb({factory:function(e){return new(e||t)},providers:[q,it],imports:[[i.b,s.n,r.a,b.a,o.a,l.a,u.a,c.a,a.a,g.a,f.a,Xn]]}),t})()},ku54:function(t,e,n){"use strict";n.d(e,"a",function(){return z});var i=n("XA6Z"),s=n("EUGn"),r=n("9nlD"),c=n("J1Ni"),a=n("Ub9n"),o=n("Fk62"),l=n("BeQt"),u=n("Yvf7"),b=n("uMT1"),g=n("+ef2"),f=n("Rxsk"),y=n("TY4h"),d=n("1B5t");function h(t,e){if(1&t&&(a.Pb(0,"h2"),a.xc(1),a.Ob()),2&t){const t=a.ac();a.zb(1),a.yc(" ",t.title," ")}}function p(t,e){if(1&t&&a.Lb(0,"app-view-description",7),2&t){const t=a.ac();a.gc("system-type",t.systemType)("view-type",t.view)}}function m(t,e){if(1&t){const t=a.Qb();a.Pb(0,"app-notification-screen",8),a.Wb("finished",function(){return a.rc(t),a.ac().removeNotification()}),a.Ob()}if(2&t){const t=a.ac();a.gc("notified",t.notificationAvailable)("message",t.notificationMessage)}}function v(t,e){if(1&t&&a.Lb(0,"app-resource-unavailable",9),2&t){const t=a.ac();a.gc("error",t.error)}}function O(t,e){if(1&t&&a.Lb(0,"app-delete-all-entry",13),2&t){const t=a.ac(3);a.gc("system-type",t.systemType)}}function P(t,e){if(1&t){const t=a.Qb();a.Pb(0,"button",14),a.Wb("click",function(){return a.rc(t),a.ac(3).deleteAllEntry()}),a.xc(1," Confirm "),a.Ob()}}function w(t,e){1&t&&(a.Pb(0,"p"),a.xc(1," Your form is being processed. Please kindly be patient and wait while it completes. "),a.Ob())}function I(t,e){if(1&t&&(a.Nb(0),a.vc(1,O,1,1,"app-delete-all-entry",11),a.vc(2,P,2,0,"button",12),a.vc(3,w,2,0,"p",1),a.Mb()),2&t){const t=a.ac(2);a.zb(1),a.gc("ngIf",t.systemType),a.zb(1),a.gc("ngIf",!t.isFormProcessing),a.zb(1),a.gc("ngIf",t.isFormSubmitted)}}function E(t,e){if(1&t&&(a.Pb(0,"div",10),a.vc(1,I,4,3,"ng-container",1),a.Ob()),2&t){const t=a.ac();a.gc("@fadeAnimation",void 0),a.zb(1),a.gc("ngIf",!t.isLoading)}}let z=(()=>{class t{constructor(t,e,n,i,s){this.route=t,this.router=e,this.gas=n,this.ems=i,this.ns=s,this.isError=!1,this.isFormSubmitted=!1,this.isFormProcessing=!1,this.canDelete=!1,this.isLoading=!1}ngOnInit(){this.gas.$sa=this.$link,this.route.paramMap.pipe(Object(i.a)(t=>(this.isLoading=!0,this.gas.deleteAllEntry()))).subscribe(t=>{null==t&&(this.isLoading=!1,this.canDelete=!1,this.isError=!0,this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message)),null!=t&&t.length>0&&(this.isLoading=!1,this.canDelete=!0)})}ngOnDestroy(){clearTimeout(this.deleteAllT)}deleteAllEntry(){if(!confirm("Are you sure you want to proceed with this action?"))return!1;this.gas.$systemType=this.systemType,this.gas.$sa=this.$link,this.isFormSubmitted=!0,this.error=null,this.isError=!1,this.isFormProcessing=!0,this.gas.$deleteAllEntry().subscribe(t=>{null==t?(this.isFormSubmitted=!1,this.isFormProcessing=!1,this.isError=!0,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and all ${this.systemType} entry is not deleted.`),this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message)):(this.isLoading=!0,this.isFormSubmitted=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and all ${this.systemType} entry is deleted.`),this.$entryChanges({}))})}$entryChanges(t){this.deleteAllT=setTimeout(()=>this.router.navigate(["system","internal",this.link]),5e3)}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}removeNotification(){this.ns.removeNotification()}}return t.\u0275fac=function(e){return new(e||t)(a.Kb(o.a),a.Kb(o.e),a.Kb(l.a),a.Kb(s.a),a.Kb(r.a))},t.\u0275cmp=a.Eb({type:t,selectors:[["app-general-all-entry-delete-all"]],inputs:{systemType:["system-type","systemType"],viewWord:["view-word","viewWord"],title:"title",view:"view",link:"link",$link:"$link"},features:[a.yb([r.a,s.a])],decls:7,vars:6,consts:[["id","entry-delete-all"],[4,"ngIf"],[3,"system-type","view-type",4,"ngIf"],[3,"notified","message","finished",4,"ngIf"],[3,"error",4,"ngIf"],["id","entry-detail",4,"ngIf"],[3,"is-loading"],[3,"system-type","view-type"],[3,"notified","message","finished"],[3,"error"],["id","entry-detail"],[3,"system-type",4,"ngIf"],["class","btn-submit","type","submit",3,"click",4,"ngIf"],[3,"system-type"],["type","submit",1,"btn-submit",3,"click"]],template:function(t,e){1&t&&(a.Pb(0,"div",0),a.vc(1,h,2,1,"h2",1),a.vc(2,p,1,2,"app-view-description",2),a.vc(3,m,1,2,"app-notification-screen",3),a.vc(4,v,1,1,"app-resource-unavailable",4),a.vc(5,E,2,2,"div",5),a.Ob(),a.Lb(6,"app-loading-menu",6)),2&t&&(a.zb(1),a.gc("ngIf",e.title),a.zb(1),a.gc("ngIf",e.view),a.zb(1),a.gc("ngIf",e.notificationAvailable),a.zb(1),a.gc("ngIf",e.isError),a.zb(1),a.gc("ngIf",e.canDelete),a.zb(1),a.gc("is-loading",e.isLoading))},directives:[u.l,b.a,g.a,f.a,y.a,d.a],styles:[""],data:{animation:[c.a]}}),t})()}}]);