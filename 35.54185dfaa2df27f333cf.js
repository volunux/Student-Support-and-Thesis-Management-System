(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{ghUV:function(t,e,n){"use strict";n.r(e),n.d(e,"GeneralRequestModule",function(){return Ti});var i=n("Yvf7"),s=n("8VHZ"),r=n("hxwH"),a=n("O/oE"),o=n("9Xeq"),c=n("FVf3"),l=n("DQuc"),u=n("vipk"),b=n("T+6q"),g=n("kPid"),d=n("FpJS"),p=n("Fk62"),f=n("jiyY"),y=n("/zEo"),h=n("J1Ni"),m=n("Ub9n");let v=(()=>{class t{constructor(){}ngOnInit(){}getAnimationData(t){return t&&t.activatedRouteData&&t.activatedRouteData.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=m.Eb({type:t,selectors:[["app-gr-homepage"]],decls:1,vars:0,template:function(t,e){1&t&&m.Lb(0,"router-outlet")},directives:[p.h],styles:[""],data:{animation:[h.d]}}),t})();var O=n("EUGn"),P=n("jV/k"),w=n("vfyW"),I=n("XRyL"),E=n("oECA"),z=n("O6Zd"),$=n("VcWf"),x=n("FBrc");let T=(()=>{class t{constructor(t,e,n){this.http=t,this.apiConfig=e,this.ems=n,this.$systemType="General Request",this.$sa="general-request"}manageRequest(){return this.http.get(`${this.apiConfig.host}/${this.$sa}/manage`).pipe(Object(w.a)(t=>console.log(t)),Object(I.a)(2e3),Object(E.a)(this.handleError("Request Type Entries",null)))}manageRequestEntry(t){return this.http.get(`${this.apiConfig.host}/${this.$sa}/manage/t/${t}`).pipe(Object(w.a)(t=>console.log(t)),Object(I.a)(2e3),Object(E.a)(this.handleError("Request Type Entry",null)))}getAllEntry(t){return this.http.get(`${this.apiConfig.host}/${this.$sa}/t/${this.rtype}/entries`,{params:t}).pipe(Object(w.a)(t=>console.log(t)),Object(I.a)(2e3),Object(E.a)(this.handleError(this.$systemType+" Entries",null)))}getEntry(t,e){return this.http.get(`${this.apiConfig.host}/${this.$sa}/t/${t}/entry/${e}/detail`).pipe(Object(w.a)(t=>console.log(t)),Object(I.a)(2e3),Object(E.a)(this.handleError(this.$systemType+" Entry",null)))}addComment(t,e){return this.http.get(`${this.apiConfig.host}/${this.$sa}/t/${t}/entry/${e}/comment`).pipe(Object(w.a)(t=>console.log(t)),Object(I.a)(2e3),Object(z.a)(t=>({permitted:!0,$data:t})),Object(E.a)(this.handleError(this.$systemType+" Comment Entry",null)))}addComment$(t,e,n){return this.http.post(`${this.apiConfig.host}/${this.$sa}/t/${t}/entry/${e}/comment`,n).pipe(Object(w.a)(t=>console.log(t)),Object(z.a)(t=>({updated:!0,$data:t})),Object(E.a)(this.handleError(this.$systemType+" Comment Entry",null)))}addReply(t,e,n){return this.http.get(`${this.apiConfig.host}/${this.$sa}/t/${t}/entry/${e}/comment/${n}/reply`).pipe(Object(w.a)(t=>{console.log(t)}),Object(I.a)(2e3),Object(z.a)(t=>({permitted:!0,$data:t})),Object(E.a)(this.handleError(this.$systemType+" Reply Entry",null)))}addReply$(t,e,n,i){return this.http.post(`${this.apiConfig.host}/${this.$sa}/t/${t}/entry/${e}/comment/${n}/reply`,i).pipe(Object(w.a)(t=>{console.log(t)}),Object(z.a)(t=>({updated:!0,$data:t})),Object(E.a)(this.handleError(this.$systemType+" Reply Entry",null)))}getTimeline(t,e){return this.http.get(`${this.apiConfig.host}/${this.$sa}/t/${t}/entry/${e}/timeline`).pipe(Object(w.a)(t=>console.log(t)),Object(I.a)(2e3),Object(E.a)(this.handleError(this.$systemType+" Entry Timeline",null)))}updateEntry$(t,e,n){return this.http.put(`${this.apiConfig.host}/${this.$sa}/t/${t}/entry/${e}/detail`,n).pipe(Object(z.a)(t=>({updated:!0,$data:t})),Object(E.a)(this.handleError(this.$systemType+" Entry",null)))}confirmEntryOnReview$(t,e){return this.http.put(`${this.apiConfig.host}/${this.$sa}/t/${t}/entry/${e}/review`,{entry:e}).pipe(Object(I.a)(2e3),Object(z.a)(t=>({onReview:!0,$data:t})),Object(E.a)(this.handleError(this.$systemType+" Entry",null)))}status(){return this.http.get(`${this.apiConfig.host}/${this.$sa}/status`).pipe(Object(I.a)(2e3),Object(E.a)(this.handleError(this.$systemType+" Entry",null)))}transferEntry(t,e){return this.http.get(`${this.apiConfig.host}/${this.$sa}/t/${t}/entry/${e}/transfer`).pipe(Object(w.a)(t=>console.log(t)),Object(z.a)(t=>({permitted:!0,$data:t})),Object(I.a)(2e3),Object(E.a)(this.handleError(this.$systemType+" Entry",null)))}transferEntry$(t,e,n){return this.http.put(`${this.apiConfig.host}/${this.$sa}/t/${t}/entry/${e}/transfer`,n).pipe(Object(w.a)(t=>console.log(t)),Object(z.a)(t=>({updated:!0,$data:t})),Object(E.a)(this.handleError(this.$systemType+" Entry",null)))}$deleteManyEntry(t,e){return this.http.patch(`${this.apiConfig.host}/${this.$sa}/t/${this.rtype}/delete/entry/many`,{entries:e}).pipe(Object(z.a)(t=>({manyDeleted:!0})),Object(E.a)(this.handleError(this.$systemType+" Entries Delete",null)))}deleteAllEntry(t){return this.http.get(`${this.apiConfig.host}/${this.$sa}/t/${t}/delete/entry/all/`).pipe(Object(I.a)(2e3),Object(E.a)(this.handleError(this.$systemType+" Entry or Entries Delete",null)))}deleteAllEntry$(t){return this.http.delete(`${this.apiConfig.host}/${this.$sa}/t/${t}/delete/entry/all/`).pipe(Object(z.a)(t=>({allDeleted:!0})),Object(E.a)(this.handleError(this.$systemType+" Entry or Entries Delete",null)))}handleError(t="operation",e){return t=>(this.ems.message=t,Object(P.a)(e))}}return t.\u0275fac=function(e){return new(e||t)(m.Tb(x.b),m.Tb($.b),m.Tb(O.a))},t.\u0275prov=m.Gb({token:t,factory:t.\u0275fac}),t})();var C=n("VKtq"),L=n("uMT1"),M=n("+ef2"),k=n("TY4h");function q(t,e){if(1&t&&(m.Pb(0,"h2"),m.xc(1),m.Ob()),2&t){const t=m.ac();m.zb(1),m.yc(" ",t.title," ")}}function N(t,e){if(1&t&&m.Lb(0,"app-view-description",5),2&t){const t=m.ac();m.gc("system-type",t.systemType)("view-type",t.view)}}function F(t,e){if(1&t&&m.Lb(0,"app-resource-unavailable",6),2&t){const t=m.ac();m.gc("error",t.error)}}const j=function(t){return["./","t",t]};function A(t,e){if(1&t&&(m.Pb(0,"li"),m.Pb(1,"a",10),m.xc(2),m.Ob(),m.Ob()),2&t){const t=e.$implicit;m.zb(1),m.gc("routerLink",m.lc(2,j,null==t?null:t.slug)),m.zb(1),m.yc(" ",null==t?null:t.name," ")}}function R(t,e){if(1&t){const t=m.Qb();m.Pb(0,"ul"),m.vc(1,A,3,4,"li",8),m.Pb(2,"li"),m.Pb(3,"a",9),m.Wb("click",function(){return m.rc(t),m.ac(2).loadLink(["/","account","profile"])}),m.xc(4," Profile "),m.Ob(),m.Ob(),m.Ob()}if(2&t){const t=m.ac(2);m.gc("@listAnimation",t.entries.length),m.zb(1),m.gc("ngForOf",t.entries)}}function _(t,e){if(1&t&&(m.Pb(0,"div",7),m.vc(1,R,5,2,"ul",0),m.Ob()),2&t){const t=m.ac();m.zb(1),m.gc("ngIf",null!=t.entries&&t.entries.length>0)}}let S=(()=>{class t{constructor(t,e,n,i,s){this.route=t,this.grs=e,this.ems=n,this.router=i,this.lbs=s,this.isError=!1,this.isLoading=!1}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.dashboard.systemType,this.title=t.dashboard.title,this.view=t.dashboard.view,this.isLoading=!0,this.grs.manageRequest().subscribe(t=>{null==t?(this.isLoading=!1,this.isError=!0,this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message)):null!=t&&t.length>0&&(this.isLoading=!1,this.entries=t)})}loadLink(t){this.lbs.loadLink(t)}}return t.\u0275fac=function(e){return new(e||t)(m.Kb(p.a),m.Kb(T),m.Kb(O.a),m.Kb(p.e),m.Kb(C.a))},t.\u0275cmp=m.Eb({type:t,selectors:[["app-gr-dashboard"]],features:[m.yb([O.a])],decls:5,vars:5,consts:[[4,"ngIf"],[3,"system-type","view-type",4,"ngIf"],[3,"error",4,"ngIf"],["id","dashboard",4,"ngIf"],[3,"is-loading"],[3,"system-type","view-type"],[3,"error"],["id","dashboard"],[4,"ngFor","ngForOf"],[1,"center",3,"click"],[1,"center",3,"routerLink"]],template:function(t,e){1&t&&(m.vc(0,q,2,1,"h2",0),m.vc(1,N,1,2,"app-view-description",1),m.vc(2,F,1,1,"app-resource-unavailable",2),m.vc(3,_,2,1,"div",3),m.Lb(4,"app-loading-menu",4)),2&t&&(m.gc("ngIf",e.title),m.zb(1),m.gc("ngIf",e.view),m.zb(1),m.gc("ngIf",e.isError),m.zb(1),m.gc("ngIf",e.systemType),m.zb(1),m.gc("is-loading",e.isLoading))},directives:[i.l,L.a,M.a,k.a,i.k,p.f],styles:[""],data:{animation:[h.c]}}),t})();var K=n("XA6Z"),D=n("9Ku7");function U(t,e){if(1&t&&(m.Pb(0,"h2"),m.xc(1),m.Ob()),2&t){const t=m.ac();m.zb(1),m.yc(" ",t.entry.name," Request ")}}function W(t,e){if(1&t&&m.Lb(0,"app-view-description",5),2&t){const t=m.ac();m.gc("system-type",t.systemType)("view-type",t.view)}}function Q(t,e){if(1&t&&m.Lb(0,"app-resource-unavailable",6),2&t){const t=m.ac();m.gc("error",t.error)}}function G(t,e){if(1&t){const t=m.Qb();m.Pb(0,"li"),m.Pb(1,"a",9),m.Wb("click",function(){m.rc(t);const e=m.ac(2);return e.loadLink(["/",e.link,"t",e.entry.slug,"entry","create"])}),m.xc(2),m.Ob(),m.Ob()}if(2&t){const t=m.ac(2);m.zb(2),m.yc(" Create ",t.entry.name," Entry ")}}const V=function(){return["entry","delete","all"]};function B(t,e){if(1&t&&(m.Pb(0,"li"),m.Pb(1,"a",8),m.xc(2),m.Ob(),m.Ob()),2&t){const t=m.ac(2);m.zb(1),m.gc("routerLink",m.kc(2,V)),m.zb(1),m.yc(" Delete All ",t.entry.name," Entry ")}}const Y=function(){return["entries"]},H=function(){return["../../"]};function J(t,e){if(1&t){const t=m.Qb();m.Pb(0,"div",7),m.Pb(1,"ul"),m.Pb(2,"li"),m.Pb(3,"a",8),m.xc(4),m.Ob(),m.Ob(),m.vc(5,G,3,1,"li",0),m.Pb(6,"li"),m.Pb(7,"a",8),m.xc(8," Other Requests "),m.Ob(),m.Ob(),m.vc(9,B,3,3,"li",0),m.Pb(10,"li"),m.Pb(11,"a",9),m.Wb("click",function(){return m.rc(t),m.ac().loadLink(["/","account","profile"])}),m.xc(12," Profile "),m.Ob(),m.Ob(),m.Ob(),m.Ob()}if(2&t){const t=m.ac();m.gc("@fadeAnimation",void 0),m.zb(3),m.gc("routerLink",m.kc(6,Y)),m.zb(1),m.yc(" Manage ",t.entry.name," Entry "),m.zb(1),m.gc("ngIf",t.canCreate),m.zb(2),m.gc("routerLink",m.kc(7,H)),m.zb(2),m.gc("ngIf",t.canDeleteAll)}}let X=(()=>{class t{constructor(t,e,n,i,s,r){this.route=t,this.grs=e,this.ems=n,this.aus=i,this.router=s,this.lbs=r,this.isError=!1,this.isLoading=!1}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.dashboard.systemType,this.title=t.dashboard.title,this.view=t.dashboard.view,this.link=t.dashboard.link,this.grs.$systemType=this.systemType,this.route.paramMap.pipe(Object(K.a)(t=>{let e=t.get("request");return this.rslug=e,this.isLoading=!0,this.grs.manageRequestEntry(e)})).subscribe(t=>{null==t?(this.isLoading=!1,this.isError=!0,this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message)):null!=t&&(this.isLoading=!1,this.entry=t)})}get canCreate(){return["student","departmentPresident","facultyPresident"].indexOf(this.aus.userRole)>-1}get canDeleteAll(){return this.aus.isSuperAdministrator}loadLink(t){this.lbs.loadLink(t)}}return t.\u0275fac=function(e){return new(e||t)(m.Kb(p.a),m.Kb(T),m.Kb(O.a),m.Kb(D.a),m.Kb(p.e),m.Kb(C.a))},t.\u0275cmp=m.Eb({type:t,selectors:[["app-gr-entry-dashboard"]],features:[m.yb([O.a])],decls:5,vars:5,consts:[[4,"ngIf"],[3,"system-type","view-type",4,"ngIf"],[3,"error",4,"ngIf"],["id","dashboard",4,"ngIf"],[3,"is-loading"],[3,"system-type","view-type"],[3,"error"],["id","dashboard"],[1,"center",3,"routerLink"],[1,"center",3,"click"]],template:function(t,e){1&t&&(m.vc(0,U,2,1,"h2",0),m.vc(1,W,1,2,"app-view-description",1),m.vc(2,Q,1,1,"app-resource-unavailable",2),m.vc(3,J,13,8,"div",3),m.Lb(4,"app-loading-menu",4)),2&t&&(m.gc("ngIf",e.entry&&(null==e.entry?null:e.entry.name)),m.zb(1),m.gc("ngIf",e.view),m.zb(1),m.gc("ngIf",e.isError),m.zb(1),m.gc("ngIf",e.entry),m.zb(1),m.gc("is-loading",e.isLoading))},directives:[i.l,L.a,M.a,k.a,p.f],styles:[""],data:{animation:[h.a]}}),t})();var Z=n("iPJu"),tt=n("BeQt"),et=n("9nlD");const nt=["staff","moderator","administrator","superAdministrator"];var it=n("Rxsk"),st=n("9yhg"),rt=n("xlhj"),at=n("scZC");function ot(t,e){if(1&t&&(m.Pb(0,"h2"),m.xc(1),m.Ob()),2&t){const t=m.ac();m.zb(1),m.yc(" ",t.title," ")}}function ct(t,e){if(1&t&&m.Lb(0,"app-view-description",11),2&t){const t=m.ac();m.gc("system-type",t.systemType)("view-type",t.view)}}function lt(t,e){if(1&t){const t=m.Qb();m.Pb(0,"app-notification-screen",12),m.Wb("finished",function(){return m.rc(t),m.ac().removeNotification()}),m.Ob()}if(2&t){const t=m.ac();m.gc("notified",t.notificationAvailable)("message",t.notificationMessage)}}function ut(t,e){1&t&&m.Lb(0,"app-list-entry-options")}function bt(t,e){if(1&t&&m.Lb(0,"app-search",13),2&t){const t=m.ac();m.gc("system-type",t.systemType)("$link",t.$link)("search-filters",t.searchFilters)}}function gt(t,e){1&t&&(m.Pb(0,"td",20),m.xc(1," N/A "),m.Ob())}function dt(t,e){if(1&t&&(m.Pb(0,"td",27),m.xc(1),m.Ob()),2&t){const t=m.ac().$implicit;m.zb(1),m.yc(" ",null==t?null:t.application_number," ")}}function pt(t,e){if(1&t&&(m.Pb(0,"td",20),m.xc(1),m.Ob()),2&t){const t=m.ac().$implicit;m.zb(1),m.yc(" ",null==t||null==t.author?null:t.author.full_name," ")}}function ft(t,e){if(1&t&&(m.Pb(0,"td",20),m.xc(1),m.bc(2,"date"),m.Ob()),2&t){const t=m.ac().$implicit;m.zb(1),m.yc(" ",m.dc(2,1,null==t?null:t.updated_on,"longDate")," ")}}function yt(t,e){if(1&t&&(m.Pb(0,"td",20),m.xc(1),m.Ob()),2&t){const t=m.ac().$implicit;m.zb(1),m.yc(" ",null==t||null==t.author?null:t.author.level," ")}}function ht(t,e){if(1&t&&(m.Pb(0,"td",20),m.xc(1),m.Ob()),2&t){const t=m.ac().$implicit;m.zb(1),m.yc(" ",null==t||null==t.author?null:t.author.identity_number," ")}}const mt=function(t,e,n){return{rejected:t,fulfilled:e,update:n}};function vt(t,e){if(1&t&&(m.Pb(0,"td",28),m.xc(1),m.Ob()),2&t){const t=m.ac().$implicit;m.gc("ngClass",m.nc(2,mt,"Rejected"==(null==t?null:t.status),"Fulfilled"==(null==t?null:t.status),"Update"==(null==t?null:t.status))),m.zb(1),m.yc(" ",null==t?null:t.status," ")}}function Ot(t,e){if(1&t){const t=m.Qb();m.Nb(0),m.Pb(1,"input",33,34),m.Wb("click",function(){m.rc(t);const e=m.qc(2),n=m.ac(3),i=n.$implicit,s=n.index;return m.ac(3).addEntryToDeleteList(null==i?null:i.num,e.checked,s)}),m.Ob(),m.Lb(3,"span",35),m.Mb()}if(2&t){const t=e.$implicit,n=m.ac(3).$implicit;m.zb(1),m.gc("checked",t==(null==n?null:n.num))}}function Pt(t,e){if(1&t&&(m.Nb(0),m.vc(1,Ot,4,1,"ng-container",32),m.Mb()),2&t){const t=m.ac(5);m.zb(1),m.gc("ngForOf",t.esdl)}}function wt(t,e){if(1&t){const t=m.Qb();m.Pb(0,"input",36,34),m.Wb("click",function(){m.rc(t);const e=m.qc(1),n=m.ac(2),i=n.$implicit,s=n.index;return m.ac(3).addEntryToDeleteList(null==i?null:i.num,e.checked,s)}),m.Ob(),m.Lb(2,"span",35)}}function It(t,e){if(1&t&&(m.Pb(0,"label",29),m.vc(1,Pt,2,1,"ng-container",30),m.vc(2,wt,3,0,"ng-template",null,31,m.wc),m.Ob()),2&t){const t=m.qc(3),e=m.ac(4);m.zb(1),m.gc("ngIf",e.esdl.length)("ngIfElse",t)}}const Et=function(t){return["../","entry",t,"detail"]};function zt(t,e){if(1&t&&(m.Pb(0,"tr"),m.Pb(1,"td",20),m.xc(2),m.Ob(),m.vc(3,gt,2,0,"ng-template",null,21,m.wc),m.vc(5,dt,2,1,"td",22),m.vc(6,pt,2,1,"td",23),m.vc(7,ft,3,4,"td",23),m.vc(8,yt,2,1,"td",23),m.vc(9,ht,2,1,"td",23),m.vc(10,vt,2,6,"td",24),m.Pb(11,"td",16),m.Pb(12,"a",25),m.xc(13," View "),m.Ob(),m.vc(14,It,4,2,"label",26),m.Ob(),m.Ob()),2&t){const t=e.$implicit,n=e.index,i=m.qc(4),s=m.ac(3);m.zb(2),m.yc(" ",n+1,". "),m.zb(3),m.gc("ngIf",null==t?null:t.application_number)("ngIfElse",i),m.zb(1),m.gc("ngIf",null==t||null==t.author?null:t.author.full_name)("ngIfElse",i),m.zb(1),m.gc("ngIf",null==t?null:t.updated_on)("ngIfElse",i),m.zb(1),m.gc("ngIf",null==t||null==t.author?null:t.author.level)("ngIfElse",i),m.zb(1),m.gc("ngIf",null==t||null==t.author?null:t.author.identity_number)("ngIfElse",i),m.zb(1),m.gc("ngIf",null==t?null:t.status)("ngIfElse",i),m.zb(2),m.gc("routerLink",m.lc(15,Et,null==t?null:t.slug)),m.zb(2),m.gc("ngIf",s.canUpdateEntry)}}function $t(t,e){if(1&t&&(m.Pb(0,"table"),m.Pb(1,"caption",15),m.xc(2," Entries "),m.Ob(),m.Pb(3,"colgroup"),m.Lb(4,"col",16),m.Lb(5,"col",16),m.Lb(6,"col",16),m.Lb(7,"col",16),m.Lb(8,"col",16),m.Lb(9,"col",16),m.Lb(10,"col",16),m.Lb(11,"col",16),m.Ob(),m.Pb(12,"thead"),m.Pb(13,"tr"),m.Pb(14,"th",17),m.xc(15," Index "),m.Ob(),m.Pb(16,"th",17),m.xc(17," Req. Unique ID "),m.Ob(),m.Pb(18,"th",17),m.xc(19," Full Name "),m.Ob(),m.Pb(20,"th",17),m.xc(21," Updated On "),m.Ob(),m.Pb(22,"th",17),m.xc(23," Level "),m.Ob(),m.Pb(24,"th",17),m.xc(25," Identity Number "),m.Ob(),m.Pb(26,"th",17),m.xc(27," Status "),m.Ob(),m.Pb(28,"th",18),m.xc(29," Changes "),m.Ob(),m.Ob(),m.Ob(),m.Pb(30,"tbody"),m.vc(31,zt,15,17,"tr",19),m.Ob(),m.Pb(32,"tfoot"),m.Pb(33,"tr"),m.Lb(34,"td"),m.Ob(),m.Pb(35,"tr"),m.Lb(36,"td"),m.Ob(),m.Lb(37,"tr"),m.Ob(),m.Ob()),2&t){const t=m.ac(2);m.zb(30),m.gc("@listAnimation",t.entries.length),m.zb(1),m.gc("ngForOf",t.entries)("ngForTrackBy",t.trackByAppNumber)}}function xt(t,e){if(1&t&&(m.Pb(0,"div",14),m.vc(1,$t,38,3,"table",1),m.Ob()),2&t){const t=m.ac();m.gc("@fadeAnimation",void 0),m.zb(1),m.gc("ngIf",!t.isLoading)}}function Tt(t,e){if(1&t&&m.Lb(0,"app-pagination",37),2&t){const t=m.ac();m.gc("entries-length",t.$entriesLength)("entry-ref",t.$entryRef)("page-number",t.pageNumber)("is-loading",!t.isLoading)}}function Ct(t,e){if(1&t&&m.Lb(0,"app-resource-unavailable",38),2&t){const t=m.ac();m.gc("error",t.error)}}let Lt=(()=>{class t{constructor(t,e,n,i,s,r,a,o){this.route=t,this.location=e,this.grs=n,this.gss=i,this.gas=s,this.ems=r,this.ns=a,this.aus=o,this.entries=[],this.isError=!1,this.esdl=[],this.p$esdl=!1,this.pageNumber=1,this.$entriesLength=0,this.isLoading=!1,this.entriesSearchedOb=this.gss.entriesSearched$.subscribe(t=>{this.location.replaceState(`/general-request/t/${this.rslug}/entries`),this.pageNumber=1,null==t?(this.entries=[],this.$entriesLength=0,this.error=Object.assign({resource:this.systemType+" Entry or Entries"},this.ems.message),this.isError=!0):null!=t&&t.length>0&&(this.error=null,this.isError=!1,this.$entriesLength=t.length,this.entries=t,this.entries.length<=10&&(this.pageNumber=1),this.entries.length>10&&this.entries.pop())}),this.clearSearchOb=this.gss.clearSearch$.subscribe(t=>{this.clearSearch$()}),this.errorExistOb=this.gss.errorExist$.subscribe(t=>{this.isError=t})}searchErr$(t){this.error=null,this.isError=!1}clearSearch$(){this.error=null,this.isError=!1,this.pageNumber=1,this.location.replaceState(`/general-request/t/${this.rslug}/entries`),this.gss.searchCleared.next(!0),this.isLoading=!0,this.getAllEntry({})}trackByAppNumber(t,e){return e.application_number}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.entries.systemType,this.title=t.entries.title,this.view=t.entries.view,this.link=t.entries.link,this.searchFilters=t.entries.searchFilters,this.grs.$systemType=this.systemType,this.route.queryParamMap.subscribe(t=>{let e=this.route.snapshot.paramMap,n=this.gas.paramProcessor(t,this);return this.rslug=e.get("request"),this.$link="general-request/t/"+this.rslug,this.grs.rtype=this.rslug,this.isLoading=!0,this.getAllEntry(n)})}ngOnDestroy(){null!=this.entriesSearchedOb&&this.entriesSearchedOb.unsubscribe(),null!=this.clearSearchOb&&this.clearSearchOb.unsubscribe(),null!=this.errorExistOb&&this.errorExistOb.unsubscribe()}getAllEntry(t){this.grs.getAllEntry(t).subscribe(t=>{null==t?(this.isLoading=!1,this.entries=[],this.$entriesLength=0,this.isError=!0,this.error=Object.assign({resource:this.systemType+" Entry or Entries"},this.ems.message)):null!=t&&t.length>0&&(this.isLoading=!1,this.error=null,this.isError=!1,this.$entriesLength=t.length,this.entries=t),this.entries.length>10&&this.entries.pop()})}addEntryToDeleteList(t,e,n){this.gas.addEntryToDeleteList(t,e,n,this)}deleteManyEntry(){this.gas.deleteManyEntry(this,this.grs)}get userRole(){return this.aus.userRole}get canUpdateEntry(){return nt.indexOf(this.userRole)>-1}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}removeNotification(){this.ns.removeNotification()}}return t.\u0275fac=function(e){return new(e||t)(m.Kb(p.a),m.Kb(i.h),m.Kb(T),m.Kb(Z.a),m.Kb(tt.a),m.Kb(O.a),m.Kb(et.a),m.Kb(D.a))},t.\u0275cmp=m.Eb({type:t,selectors:[["app-gr-entries"]],features:[m.yb([et.a,O.a,Z.a,tt.a])],decls:13,vars:12,consts:[["id","entry-main"],[4,"ngIf"],[3,"system-type","view-type",4,"ngIf"],[3,"notified","message","finished",4,"ngIf"],[1,"search-bar"],[3,"system-type","$link","search-filters",4,"ngIf"],[1,"entry-option-delete","entry-option-small","center",3,"click"],["class","entries",4,"ngIf"],[3,"entries-length","entry-ref","page-number","is-loading",4,"ngIf"],[3,"error",4,"ngIf"],[3,"is-loading"],[3,"system-type","view-type"],[3,"notified","message","finished"],[3,"system-type","$link","search-filters"],[1,"entries"],[1,"bold","left"],[1,""],[1,"bold","center"],[1,"bold","left","changes-head"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"center"],["nilValue",""],["class","center bold app-number",4,"ngIf","ngIfElse"],["class","center",4,"ngIf","ngIfElse"],["class","center",3,"ngClass",4,"ngIf","ngIfElse"],[1,"center","changes-option","changes-option-full",3,"routerLink"],["class","changes-mark",4,"ngIf"],[1,"center","bold","app-number"],[1,"center",3,"ngClass"],[1,"changes-mark"],[4,"ngIf","ngIfElse"],["normalChecks",""],[4,"ngFor","ngForOf"],["type","checkbox",3,"checked","click"],["checked",""],[1,"checkmark"],["type","checkbox",3,"click"],[3,"entries-length","entry-ref","page-number","is-loading"],[3,"error"]],template:function(t,e){1&t&&(m.Pb(0,"div",0),m.vc(1,ot,2,1,"h2",1),m.vc(2,ct,1,2,"app-view-description",2),m.vc(3,lt,1,2,"app-notification-screen",3),m.vc(4,ut,1,0,"app-list-entry-options",1),m.Pb(5,"div",4),m.vc(6,bt,1,3,"app-search",5),m.Pb(7,"a",6),m.Wb("click",function(){return e.deleteManyEntry()}),m.xc(8," Delete Many "),m.Ob(),m.Ob(),m.vc(9,xt,2,2,"div",7),m.vc(10,Tt,1,4,"app-pagination",8),m.vc(11,Ct,1,1,"app-resource-unavailable",9),m.Ob(),m.Lb(12,"app-loading-menu",10)),2&t&&(m.gc("@fadeAnimation",void 0),m.zb(1),m.gc("ngIf",e.title),m.zb(1),m.gc("ngIf",e.view),m.zb(1),m.gc("ngIf",e.notificationAvailable),m.zb(1),m.gc("ngIf",e.$entriesLength>0),m.zb(2),m.gc("ngIf",e.systemType),m.zb(1),m.Cb("hide",e.esdl.length<2),m.zb(2),m.gc("ngIf",e.$entriesLength>0),m.zb(1),m.gc("ngIf",e.pageNumber),m.zb(1),m.gc("ngIf",e.isError),m.zb(1),m.gc("is-loading",e.isLoading))},directives:[i.l,L.a,M.a,it.a,st.a,rt.a,i.k,p.f,i.j,at.a,k.a],pipes:[i.d],styles:['.entries[_ngcontent-%COMP%]{width:98%;overflow:auto}table[_ngcontent-%COMP%]{width:1270px;table-layout:fixed}col[_ngcontent-%COMP%]:first-of-type{width:5%}col[_ngcontent-%COMP%]:nth-of-type(2){width:18%}col[_ngcontent-%COMP%]:nth-of-type(3){width:12%}col[_ngcontent-%COMP%]:nth-of-type(4), col[_ngcontent-%COMP%]:nth-of-type(5), col[_ngcontent-%COMP%]:nth-of-type(6){width:8%}col[_ngcontent-%COMP%]:nth-of-type(7){width:7%}col[_ngcontent-%COMP%]:nth-of-type(8){width:20%}@media screen and (max-width:700px){.entries[_ngcontent-%COMP%]{width:98%;overflow:hidden}.app-number[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]{table-layout:auto}tr[_ngcontent-%COMP%]{margin-bottom:10px;display:block}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{display:none}td[_ngcontent-%COMP%]{text-align:left;line-height:2em}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{font-family:RobotoBold;font-size:96%;font-weight:700}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child:before{content:"Entry Index"}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2):before{content:"Application Number : "}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4):before{content:"Updated On : "}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(7):before{content:"Status : "}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(8):before{content:"Options : "}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, td[_ngcontent-%COMP%]:nth-child(2), td[_ngcontent-%COMP%]:nth-child(4), td[_ngcontent-%COMP%]:nth-child(7), td[_ngcontent-%COMP%]:nth-child(8){display:block}}'],data:{animation:[h.c,h.a]}}),t})();var Mt=n("L6ME");let kt=(()=>{class t{constructor(t){this.fb=t,this.permanentData={},this.permanentProps={unit:[s.q.required,s.q.max(9e7)],status:[s.q.required,s.q.max(9e7)]},this.commonValidators={text:[s.q.required,s.q.minLength(10),s.q.maxLength(500)]},this.otherCtrls={request_type:[s.q.required,s.q.max(9e7)],unit:[s.q.required,s.q.max(9e7)],username:[s.q.minLength(5),s.q.maxLength(100)],password:[s.q.minLength(5),s.q.maxLength(100)]}}getPermanentProp(t){return this.permanentProps[t]}getMyData(t){return this.permanentData[t]}entryUpdateForm(){return this.fb.group({text:["",{validators:this.commonValidators.text}],status:["",{validators:[...this.getPermanentProp("status")]}]})}entryTransferForm(){return this.fb.group({text:["",{validators:this.commonValidators.text}],unit:["",{validators:[...this.getPermanentProp("unit")]}]})}createPermanent(t,e){Mt.a.createPermanent(this,t,e)}removeControls(t,e){Mt.a.removeControls(t,e)}}return t.\u0275fac=function(e){return new(e||t)(m.Tb(s.c))},t.\u0275prov=m.Gb({token:t,factory:t.\u0275fac}),t})();var qt=n("013A"),Nt=n("ujQ7"),Ft=n("6hA3");function jt(t,e){if(1&t){const t=m.Qb();m.Pb(0,"app-notification-screen",2),m.Wb("finished",function(){return m.rc(t),m.ac().removeNotification()}),m.Ob()}if(2&t){const t=m.ac();m.gc("notified",t.notificationAvailable)("message",t.notificationMessage)}}const At=function(t,e,n){return[t,"t",e,"entry",n,"timeline"]};function Rt(t,e){if(1&t&&(m.Nb(0),m.Pb(1,"a",4),m.xc(2," Timeline "),m.Ob(),m.Mb()),2&t){const t=m.ac(2);m.zb(1),m.gc("routerLink",m.nc(1,At,t.isAdmin,t.rslug,null==t.entry?null:t.entry.slug))}}function _t(t,e){if(1&t){const t=m.Qb();m.Nb(0),m.Pb(1,"a",5),m.Wb("click",function(e){return m.rc(t),m.ac(3).setEntryOnReview(e)}),m.xc(2," Set Application on Review "),m.Ob(),m.Mb()}}function St(t,e){1&t&&(m.Nb(0),m.Pb(1,"p"),m.xc(2," Your request is being processed. Please kindly be patient and wait while it completes. "),m.Ob(),m.Mb())}function Kt(t,e){if(1&t&&(m.Nb(0),m.vc(1,_t,3,0,"ng-container",1),m.vc(2,St,3,0,"ng-container",1),m.Mb()),2&t){const t=m.ac(2);m.zb(1),m.gc("ngIf",t.canUpdateEntry),m.zb(1),m.gc("ngIf",t.isProcessingReview)}}const Dt=function(t,e,n){return[t,"t",e,"entry",n,"transfer"]};function Ut(t,e){if(1&t&&(m.Nb(0),m.Pb(1,"a",4),m.xc(2," Transfer or Move Request "),m.Ob(),m.Mb()),2&t){const t=m.ac(3);m.zb(1),m.gc("routerLink",m.nc(1,Dt,t.isAdmin,t.rslug,null==t.entry?null:t.entry.slug))}}function Wt(t,e){if(1&t&&(m.Nb(0),m.vc(1,Ut,3,5,"ng-container",1),m.Mb()),2&t){const t=m.ac(2);m.zb(1),m.gc("ngIf",t.canUpdateEntry)}}const Qt=function(t,e,n){return[t,"t",e,"entry",n,"comment","add"]};function Gt(t,e){if(1&t&&(m.Nb(0),m.Pb(1,"a",4),m.xc(2," Add a Comment "),m.Ob(),m.Mb()),2&t){const t=m.ac(2);m.zb(1),m.gc("routerLink",m.nc(1,Qt,t.isAdmin,t.rslug,null==t.entry?null:t.entry.slug))}}function Vt(t,e){if(1&t&&(m.Nb(0),m.Pb(1,"div",3),m.vc(2,Rt,3,5,"ng-container",1),m.vc(3,Kt,3,2,"ng-container",1),m.vc(4,Wt,2,1,"ng-container",1),m.vc(5,Gt,3,5,"ng-container",1),m.Ob(),m.Mb()),2&t){const t=m.ac();m.zb(1),m.gc("@fadeAnimation",void 0),m.zb(1),m.gc("ngIf","Review"==(null==t.entry?null:t.entry.status)||"Update"==(null==t.entry?null:t.entry.status)||"Fulfilled"==(null==t.entry?null:t.entry.status)||"Rejected"==(null==t.entry?null:t.entry.status)),m.zb(1),m.gc("ngIf","Pending"==(null==t.entry?null:t.entry.status)),m.zb(1),m.gc("ngIf","Review"==(null==t.entry?null:t.entry.status)||"Update"==(null==t.entry?null:t.entry.status)||"Transferred"==(null==t.entry?null:t.entry.status)),m.zb(1),m.gc("ngIf","Update"==(null==t.entry?null:t.entry.status)||"Transferred"==(null==t.entry?null:t.entry.status))}}let Bt=(()=>{class t{constructor(t,e,n,i){this.route=t,this.aus=e,this.grs=n,this.ns=i,this.onReviewEntry=new m.n}ngOnInit(){this.route.paramMap.subscribe(t=>{let e=t.get("request");this.rslug=e})}setEntryOnReview(t){t.preventDefault(),t.stopPropagation(),1!=this.isProcessingReview&&(this.isProcessingReview=!0,this.grs.confirmEntryOnReview$(this.rslug,this.entry.slug).subscribe(t=>{null==t&&(this.isProcessingReview=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and ${this.systemType} Entry is not updated.`)),null!=t&&1==t.onReview&&(this.isProcessingReview=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and ${this.systemType} Entry is updated and on review.`),this.onReviewEntry.emit(t.$data))}))}get canUpdateEntry(){return nt.indexOf(this.userRole)>-1}get userRole(){return this.aus.userRole}get isAdmin(){return["moderator","administrator","superAdministrator"].indexOf(this.userRole),"/general-request"}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}removeNotification(){this.ns.removeNotification()}}return t.\u0275fac=function(e){return new(e||t)(m.Kb(p.a),m.Kb(D.a),m.Kb(T),m.Kb(et.a))},t.\u0275cmp=m.Eb({type:t,selectors:[["app-gr-entry-option"]],inputs:{systemType:["system-type","systemType"],view:"view",link:"link",entry:"entry"},outputs:{onReviewEntry:"onReviewEntry"},features:[m.yb([et.a])],decls:2,vars:2,consts:[[3,"notified","message","finished",4,"ngIf"],[4,"ngIf"],[3,"notified","message","finished"],["id","entry-detail-options"],[1,"center",3,"routerLink"],[1,"center",3,"click"]],template:function(t,e){1&t&&(m.vc(0,jt,1,2,"app-notification-screen",0),m.vc(1,Vt,6,5,"ng-container",1)),2&t&&(m.gc("ngIf",e.notificationAvailable),m.zb(1),m.gc("ngIf",e.entry))},directives:[i.l,it.a,p.f],styles:[""],data:{animation:[h.a]}}),t})();var Yt=n("BtNG"),Ht=n("6NSF"),Jt=n("yHSd");let Xt=(()=>{class t{constructor(t,e,n){this.http=t,this.apiConfig=e,this.ems=n}createUsernamePassword$(t){return this.http.post(this.apiConfig.host+"/request-credential/entry/create",t,{headers:{"Content-Type":"application/json"}}).pipe(Object(w.a)(t=>console.log(t)),Object(z.a)(t=>({created:!0,$data:t})),Object(E.a)(this.handleError("Credentials Entry",null)))}createPassword$(t){return this.http.post(this.apiConfig.host+"/request-password/entry/create",t,{headers:{"Content-Type":"application/json"}}).pipe(Object(w.a)(t=>console.log(t)),Object(z.a)(t=>({created:!0,$data:t})),Object(E.a)(this.handleError("Credentials Entry",null)))}handleError(t="operation",e){return t=>(this.ems.message=t,Object(P.a)(e))}}return t.\u0275fac=function(e){return new(e||t)(m.Tb(x.b),m.Tb($.b),m.Tb(O.a))},t.\u0275prov=m.Gb({token:t,factory:t.\u0275fac}),t})();function Zt(t,e){if(1&t&&(m.Pb(0,"li"),m.xc(1),m.Ob()),2&t){const t=m.ac(3);m.zb(1),m.yc(" Request Username of ",t.systemType," should be provided and cannot be empty ")}}function te(t,e){if(1&t&&(m.Pb(0,"li"),m.xc(1),m.Ob()),2&t){const t=m.ac(3);m.zb(1),m.yc(" Request Username of ",t.systemType," cannot be less than 5 characters in length ")}}function ee(t,e){if(1&t&&(m.Pb(0,"li"),m.xc(1),m.Ob()),2&t){const t=m.ac(3);m.zb(1),m.yc(" Request Username of ",t.systemType," cannot be greater than 100 characters in length ")}}function ne(t,e){if(1&t&&(m.Pb(0,"div",2),m.Pb(1,"ul"),m.vc(2,Zt,2,1,"li",0),m.vc(3,te,2,1,"li",0),m.vc(4,ee,2,1,"li",0),m.Ob(),m.Ob()),2&t){const t=m.ac(2);m.gc("@fadeAnimation",void 0),m.zb(2),m.gc("ngIf",null==t.username.errors?null:t.username.errors.required),m.zb(1),m.gc("ngIf",(null==t.username.errors?null:t.username.errors.required)||(null==t.username.errors?null:t.username.errors.minlength)),m.zb(1),m.gc("ngIf",(null==t.username.errors?null:t.username.errors.required)||(null==t.username.errors?null:t.username.errors.maxlength))}}function ie(t,e){if(1&t&&(m.Nb(0),m.vc(1,ne,5,4,"div",1),m.Mb()),2&t){const t=m.ac();m.zb(1),m.gc("ngIf",t.username.invalid&&(t.username.touched||t.username.dirty))}}function se(t,e){if(1&t&&(m.Pb(0,"li"),m.xc(1),m.Ob()),2&t){const t=m.ac(3);m.zb(1),m.yc(" Request Password of ",t.systemType," should be provided and cannot be empty ")}}function re(t,e){if(1&t&&(m.Pb(0,"li"),m.xc(1),m.Ob()),2&t){const t=m.ac(3);m.zb(1),m.yc(" Request Password of ",t.systemType," cannot be less than 5 characters in length ")}}function ae(t,e){if(1&t&&(m.Pb(0,"li"),m.xc(1),m.Ob()),2&t){const t=m.ac(3);m.zb(1),m.yc(" Request Password of ",t.systemType," cannot be greater than 100 characters in length ")}}function oe(t,e){if(1&t&&(m.Pb(0,"div",2),m.Pb(1,"ul"),m.vc(2,se,2,1,"li",0),m.vc(3,re,2,1,"li",0),m.vc(4,ae,2,1,"li",0),m.Ob(),m.Ob()),2&t){const t=m.ac(2);m.gc("@fadeAnimation",void 0),m.zb(2),m.gc("ngIf",null==t.password.errors?null:t.password.errors.required),m.zb(1),m.gc("ngIf",(null==t.password.errors?null:t.password.errors.required)||(null==t.password.errors?null:t.password.errors.minlength)),m.zb(1),m.gc("ngIf",(null==t.password.errors?null:t.password.errors.required)||(null==t.password.errors?null:t.password.errors.maxlength))}}function ce(t,e){if(1&t&&(m.Nb(0),m.vc(1,oe,5,4,"div",1),m.Mb()),2&t){const t=m.ac();m.zb(1),m.gc("ngIf",t.password.invalid&&(t.password.touched||t.password.dirty))}}let le=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=m.Eb({type:t,selectors:[["app-gr-entry-cred-validator"]],inputs:{systemType:["system-type","systemType"],username:"username",password:"password"},decls:2,vars:2,consts:[[4,"ngIf"],["class","validation-error",4,"ngIf"],[1,"validation-error"]],template:function(t,e){1&t&&(m.vc(0,ie,2,1,"ng-container",0),m.vc(1,ce,2,1,"ng-container",0)),2&t&&(m.gc("ngIf",e.username),m.zb(1),m.gc("ngIf",e.password))},directives:[i.l],styles:[""],data:{animation:[h.a]}}),t})(),ue=(()=>{class t{transform(t,...e){return t.author.full_name.split(" ").join("").toLowerCase()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=m.Jb({name:"proposedCredential",type:t,pure:!0}),t})();const be=["proposedCredential"];function ge(t,e){if(1&t&&(m.Nb(0),m.Lb(1,"input",12,13),m.bc(3,"proposedCredential"),m.Mb()),2&t){const t=m.ac(2);m.zb(1),m.gc("value",m.cc(3,1,t.entry))}}function de(t,e){1&t&&m.Lb(0,"input",14,13)}function pe(t,e){if(1&t){const t=m.Qb();m.Nb(0),m.Pb(1,"div",1),m.Pb(2,"div",2),m.Pb(3,"button",3),m.Wb("click",function(e){return m.rc(t),m.ac().createNewCredentials(e)}),m.xc(4," Generate Request Username and Password "),m.Ob(),m.Ob(),m.Pb(5,"div",2),m.vc(6,ge,4,3,"ng-container",4),m.vc(7,de,2,0,"ng-template",null,5,m.wc),m.Ob(),m.Pb(9,"div",2),m.Pb(10,"label",6),m.xc(11," Username "),m.Ob(),m.Lb(12,"input",7),m.Lb(13,"app-gr-entry-cred-validator",8),m.Ob(),m.Pb(14,"div",2),m.Pb(15,"label",9),m.xc(16," Password "),m.Ob(),m.Lb(17,"input",10),m.Lb(18,"app-gr-entry-cred-validator",11),m.Ob(),m.Ob(),m.Mb()}if(2&t){const t=m.qc(8),e=m.ac();m.zb(1),m.gc("@fadeAnimation",void 0)("formGroup",e.entryForm),m.zb(5),m.gc("ngIf",e.entry&&(null==e.entry?null:e.entry.author))("ngIfElse",t),m.zb(6),m.gc("value",null==e.entry?null:e.entry.username),m.zb(1),m.gc("system-type",e.systemType)("username",e.username),m.zb(4),m.gc("value",null==e.entry?null:e.entry.password),m.zb(1),m.gc("system-type",e.systemType)("password",e.password)}}let fe=(()=>{class t{constructor(t,e){this.gups=t,this.grfs=e}ngOnInit(){this.entryForm.addControl("username",new s.d("",this.grfs.otherCtrls.username)),this.entryForm.addControl("password",new s.d("",this.grfs.otherCtrls.password))}createNewCredentials(t){t.stopPropagation(),t.preventDefault(),this.gups.createUsernamePassword$({username:this.proposedCredential.nativeElement.value,user:this.entry.author._id,entry:this.entry._id}).subscribe(t=>{if(null!=t&&1==t.created){let e=t.$data;this.entryForm.patchValue({username:e.username,password:e.password})}})}get username(){return this.entryForm.get("username")}get password(){return this.entryForm.get("password")}}return t.\u0275fac=function(e){return new(e||t)(m.Kb(Xt),m.Kb(kt))},t.\u0275cmp=m.Eb({type:t,selectors:[["app-gr-entry-generate-u-p"]],viewQuery:function(t,e){if(1&t&&m.Ac(be,!0),2&t){let t;m.pc(t=m.Xb())&&(e.proposedCredential=t.first)}},inputs:{systemType:["system-type","systemType"],entryForm:["entry-form","entryForm"],entry:"entry"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"generate-username-password-form",3,"formGroup"],[1,"form-group"],["id","generateCredentials",1,"btn-submit",3,"click"],[4,"ngIf","ngIfElse"],["noAuthor",""],["for","request-username",1,"form-label","bold"],["type","text","name","username","id","request-username","formControlName","username",1,"form-control",3,"value"],[3,"system-type","username"],["for","request-password",1,"form-label","bold"],["type","text","name","password","id","request-password","formControlName","password",1,"form-control",3,"value"],[3,"system-type","password"],["type","hidden","id","proposedCredential","name","proposal",1,"form-control",3,"value"],["proposedCredential",""],["type","hidden","id","proposedCredential","name","proposal","value",""]],template:function(t,e){1&t&&m.vc(0,pe,19,10,"ng-container",0),2&t&&m.gc("ngIf",e.entry)},directives:[i.l,s.l,s.h,s.b,s.k,s.f,le],pipes:[ue],styles:[""],data:{animation:[h.a]}}),t})();function ye(t,e){if(1&t&&(m.Pb(0,"div",2),m.Pb(1,"label",5),m.xc(2," Password "),m.Ob(),m.Lb(3,"input",6),m.Lb(4,"app-gr-entry-cred-validator",7),m.Ob()),2&t){const t=m.ac(2);m.zb(3),m.gc("value",null==t.entry?null:t.entry.password),m.zb(1),m.gc("system-type",t.systemType)("password",t.password)}}function he(t,e){if(1&t){const t=m.Qb();m.Nb(0),m.Pb(1,"div",1),m.Pb(2,"div",2),m.Pb(3,"button",3),m.Wb("click",function(e){return m.rc(t),m.ac().createNewCredentials(e)}),m.xc(4),m.Ob(),m.Ob(),m.vc(5,ye,5,3,"div",4),m.Ob(),m.Mb()}if(2&t){const t=m.ac();m.zb(1),m.gc("@fadeAnimation",void 0)("formGroup",t.entryForm),m.zb(3),m.yc(" Generate ",t.systemType," Password "),m.zb(1),m.gc("ngIf",t.password)}}let me=(()=>{class t{constructor(t,e){this.gups=t,this.grfs=e}ngOnInit(){this.entryForm.addControl("password",new s.d("",this.grfs.otherCtrls.password))}createNewCredentials(t){t.stopPropagation(),t.preventDefault();let e=Math.random().toString(36).substr(2,9);this.entryForm.patchValue({password:e}),this.gups.createPassword$({password:e,user:this.entry.author._id,entry:this.entry._id}).subscribe()}get password(){return this.entryForm.get("password")}}return t.\u0275fac=function(e){return new(e||t)(m.Kb(Xt),m.Kb(kt))},t.\u0275cmp=m.Eb({type:t,selectors:[["app-gr-entry-gen-password"]],inputs:{systemType:["system-type","systemType"],entryForm:["entry-form","entryForm"],entry:"entry"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"generate-username-password-form",3,"formGroup"],[1,"form-group"],["id","generateCredentials",1,"btn-submit",3,"click"],["class","form-group",4,"ngIf"],["for","request-password",1,"form-label","bold"],["type","text","name","password","id","request-password","formControlName","password",1,"form-control",3,"value"],[3,"system-type","password"]],template:function(t,e){1&t&&m.vc(0,he,6,4,"ng-container",0),2&t&&m.gc("ngIf",e.entry)},directives:[i.l,s.l,s.h,s.b,s.k,s.f,le],styles:[""],data:{animation:[h.a]}}),t})();function ve(t,e){if(1&t){const t=m.Qb();m.Pb(0,"a",6),m.Wb("click",function(){return m.rc(t),m.ac(2).otherCol()}),m.xc(1," Update Application "),m.Ob()}}function Oe(t,e){if(1&t&&m.Lb(0,"app-request-entry-update-validator",16),2&t){const t=m.ac(4);m.gc("system-type",t.systemType)("text",t.text)}}function Pe(t,e){if(1&t&&(m.Pb(0,"div",12),m.Pb(1,"label",13),m.xc(2," Message "),m.Ob(),m.Pb(3,"textarea",14),m.xc(4," "),m.Ob(),m.vc(5,Oe,1,2,"app-request-entry-update-validator",15),m.Ob()),2&t){const t=m.ac(3);m.zb(5),m.gc("ngIf",t.text)}}function we(t,e){if(1&t&&(m.Pb(0,"div",12),m.Pb(1,"label",17),m.xc(2," Additional Input "),m.Ob(),m.Pb(3,"select",18),m.Lb(4,"option",19),m.Pb(5,"option",20),m.xc(6," Add Username and Password "),m.Ob(),m.Pb(7,"option",21),m.xc(8," Add Password "),m.Ob(),m.Ob(),m.Ob()),2&t){const t=m.ac(3);m.zb(3),m.gc("formControl",t.otherOptions)}}function Ie(t,e){if(1&t&&m.Lb(0,"app-gr-entry-generate-u-p",23),2&t){const t=m.ac(4);m.gc("system-type",t.systemType)("entry",t.entry)("entry-form",t.entryForm)}}function Ee(t,e){if(1&t&&(m.Nb(0),m.vc(1,Ie,1,3,"app-gr-entry-generate-u-p",22),m.Mb()),2&t){const t=m.ac(3);m.zb(1),m.gc("ngIf",t.entry)}}function ze(t,e){if(1&t&&m.Lb(0,"app-gr-entry-gen-password",23),2&t){const t=m.ac(4);m.gc("system-type",t.systemType)("entry",t.entry)("entry-form",t.entryForm)}}function $e(t,e){if(1&t&&(m.Nb(0),m.vc(1,ze,1,3,"app-gr-entry-gen-password",22),m.Mb()),2&t){const t=m.ac(3);m.zb(1),m.gc("ngIf",t.entry)}}function xe(t,e){if(1&t&&(m.Nb(0),m.Lb(1,"app-request-entry-message-template",7),m.Lb(2,"app-request-entry-update-status",8),m.vc(3,Pe,6,1,"div",9),m.vc(4,we,9,1,"div",9),m.Nb(5,10),m.vc(6,Ee,2,1,"ng-container",11),m.vc(7,$e,2,1,"ng-container",11),m.Mb(),m.Mb()),2&t){const t=m.ac(2);m.zb(1),m.gc("system-type",t.systemType)("$link",t.$link)("entry-form",t.entryForm)("entry",t.entry),m.zb(1),m.gc("entries",t.eother)("entry-form",t.entryForm)("entry",t.entry),m.zb(1),m.gc("ngIf",t.text),m.zb(1),m.gc("ngIf",t.text),m.zb(1),m.gc("ngSwitch",t.otherOptions.value),m.zb(1),m.gc("ngSwitchCase",1),m.zb(1),m.gc("ngSwitchCase",2)}}function Te(t,e){if(1&t&&(m.Nb(0),m.Pb(1,"h3",2),m.xc(2," Request Options "),m.Ob(),m.Pb(3,"div",3),m.Pb(4,"div",4),m.vc(5,ve,2,0,"a",5),m.Ob(),m.vc(6,xe,8,12,"ng-container",0),m.Ob(),m.Mb()),2&t){const t=m.ac();m.zb(3),m.gc("@fadeAnimation",void 0)("formGroup",t.entryForm),m.zb(2),m.gc("ngIf",!t.isOtherColAvailable),m.zb(1),m.gc("ngIf",1==t.isOtherColAvailable)}}let Ce=(()=>{class t{constructor(t,e){this.grs=t,this.grfs=e,this.isOtherColAvailable=!1,this.otherOptions=new s.d(""),this.isLoading=!1,this.setSubmitButton=new m.n}ngOnInit(){}otherCol(){this.isLoading=!0,this.grs.status().subscribe(t=>{null==t?this.isLoading=!1:null!=t&&(this.isLoading=!1,this.isOtherColAvailable=!0,this.eother=t,this.setSubmitButton.emit(!0))})}get text(){return this.entryForm.get("text")}}return t.\u0275fac=function(e){return new(e||t)(m.Kb(T),m.Kb(kt))},t.\u0275cmp=m.Eb({type:t,selectors:[["app-gr-entry-update-field"]],inputs:{systemType:["system-type","systemType"],$link:"$link",entryForm:["entry-form","entryForm"],entry:"entry"},outputs:{setSubmitButton:"on-submit-btn"},decls:2,vars:2,consts:[[4,"ngIf"],[3,"is-loading"],[1,"center"],[3,"formGroup"],["id","entry-detail-options"],["class","center",3,"click",4,"ngIf"],[1,"center",3,"click"],[3,"system-type","$link","entry-form","entry"],[3,"entries","entry-form","entry"],["class","form-group",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"form-group"],["for","text",1,"form-label","bold"],["name","text","id","text","formControlName","text"],[3,"system-type","text",4,"ngIf"],[3,"system-type","text"],["for","addition-input",1,"form-label","bold"],["name","other-options","id","addition-input",1,"form-control",3,"formControl"],["value",""],["value","1"],["value","2"],[3,"system-type","entry","entry-form",4,"ngIf"],[3,"system-type","entry","entry-form"]],template:function(t,e){1&t&&(m.vc(0,Te,7,4,"ng-container",0),m.Lb(1,"app-loading-menu",1)),2&t&&(m.gc("ngIf",e.entry),m.zb(1),m.gc("is-loading",e.isLoading))},directives:[i.l,L.a,s.l,s.h,Yt.a,Ht.a,i.n,i.o,s.b,s.k,s.f,Jt.a,s.p,s.e,s.m,s.r,fe,me],styles:[""],data:{animation:[h.a]}}),t})();function Le(t,e){if(1&t&&(m.Pb(0,"h2"),m.xc(1),m.Ob()),2&t){const t=m.ac();m.zb(1),m.yc(" ",t.title," ")}}function Me(t,e){if(1&t&&m.Lb(0,"app-view-description",7),2&t){const t=m.ac();m.gc("view-type",t.view)("system-type",t.systemType)}}function ke(t,e){if(1&t&&m.Lb(0,"app-resource-unavailable",8),2&t){const t=m.ac();m.gc("error",t.error)}}function qe(t,e){if(1&t){const t=m.Qb();m.Pb(0,"app-notification-screen",9),m.Wb("finished",function(){return m.rc(t),m.ac().removeNotification()}),m.Ob()}if(2&t){const t=m.ac();m.gc("notified",t.notificationAvailable)("message",t.notificationMessage)}}function Ne(t,e){if(1&t&&m.Lb(0,"app-request-entry-detail",14),2&t){const t=m.ac(3);m.gc("entry",t.entry)("view",t.view)}}function Fe(t,e){if(1&t&&m.Lb(0,"app-request-entry-student-detail",15),2&t){const t=m.ac(3);m.gc("entry",t.entry)}}function je(t,e){if(1&t&&m.Lb(0,"app-file-attachments-two",15),2&t){const t=m.ac(3);m.gc("entry",t.entry)}}function Ae(t,e){if(1&t){const t=m.Qb();m.Pb(0,"app-gr-entry-option",16),m.Wb("onReviewEntry",function(e){return m.rc(t),m.ac(3).$confirmEntryOnReview(e)}),m.Ob()}if(2&t){const t=m.ac(3);m.gc("view",t.view)("entry",t.entry)("link",t.link)("system-type",t.systemType)}}function Re(t,e){if(1&t){const t=m.Qb();m.Pb(0,"app-gr-entry-update-field",20),m.Wb("on-submit-btn",function(e){return m.rc(t),m.ac(5).openSubBtn(e)}),m.Ob()}if(2&t){const t=m.ac(5);m.gc("entry",t.entry)("entry-form",t.entryForm)("system-type",t.systemType)("$link",t.$link)}}const _e=function(t){return{disabled:t}};function Se(t,e){if(1&t&&(m.Pb(0,"button",22),m.xc(1," Submit "),m.Ob()),2&t){const t=m.ac(6);m.Bb(m.lc(3,_e,!t.isFormValid)),m.gc("disabled",!t.isFormValid)}}function Ke(t,e){1&t&&(m.Pb(0,"p"),m.xc(1," Your form is being processed. Please kindly be patient and wait while it completes. "),m.Ob())}function De(t,e){if(1&t&&(m.Nb(0),m.vc(1,Se,2,5,"button",21),m.vc(2,Ke,2,0,"p",1),m.Mb()),2&t){const t=m.ac(5);m.zb(1),m.gc("ngIf",!t.isFormProcessing),m.zb(1),m.gc("ngIf",t.isFormSubmitted)}}function Ue(t,e){if(1&t){const t=m.Qb();m.Nb(0),m.Pb(1,"div",17),m.Pb(2,"form",18),m.Wb("ngSubmit",function(){m.rc(t);const e=m.ac(4);return e.updateEntry(e.entryForm.value)}),m.vc(3,Re,1,4,"app-gr-entry-update-field",19),m.vc(4,De,3,2,"ng-container",1),m.Ob(),m.Ob(),m.Mb()}if(2&t){const t=m.ac(4);m.zb(2),m.gc("formGroup",t.entryForm),m.zb(1),m.gc("ngIf",t.entry),m.zb(1),m.gc("ngIf",1==t.readyToSubmit)}}function We(t,e){if(1&t&&(m.Nb(0),m.vc(1,Ue,5,3,"ng-container",1),m.Mb()),2&t){const t=m.ac(3);m.zb(1),m.gc("ngIf",t.canUpdateEntry)}}function Qe(t,e){if(1&t&&(m.Nb(0),m.vc(1,Ne,1,2,"app-request-entry-detail",11),m.vc(2,Fe,1,1,"app-request-entry-student-detail",12),m.vc(3,je,1,1,"app-file-attachments-two",12),m.vc(4,Ae,1,4,"app-gr-entry-option",13),m.vc(5,We,2,1,"ng-container",1),m.Mb()),2&t){const t=m.ac(2);m.zb(1),m.gc("ngIf",t.entry),m.zb(1),m.gc("ngIf",t.entry),m.zb(1),m.gc("ngIf",t.entry),m.zb(1),m.gc("ngIf",t.entry),m.zb(1),m.gc("ngIf",null!=t.entry&&"Pending"!=(null==t.entry?null:t.entry.status)&&"Fulfilled"!=(null==t.entry?null:t.entry.status)&&"Rejected"!=(null==t.entry?null:t.entry.status))}}function Ge(t,e){if(1&t&&(m.Pb(0,"div",10),m.vc(1,Qe,6,5,"ng-container",1),m.Ob()),2&t){const t=m.ac();m.gc("@fadeAnimation",void 0),m.zb(1),m.gc("ngIf",!t.isLoading)}}let Ve=(()=>{class t{constructor(t,e,n,i,s,r,a){this.router=t,this.route=e,this.grs=n,this.ns=i,this.grfs=s,this.ems=r,this.aus=a,this.isError=!1,this.isFormSubmitted=!1,this.isFormProcessing=!1,this.isLoading=!1}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.detail.systemType,this.title=t.detail.title,this.view=t.detail.view,this.viewWord=t.detail.viewWord,this.link=t.detail.link,this.$link=t.detail.$link,this.generateCred=t.detail.generateCred,this.grs.$systemType=this.systemType,this.route.paramMap.pipe(Object(K.a)(t=>{let e=t.get("entry"),n=t.get("request");return this.rslug=n,this.eslug=e,this.isLoading=!0,this.grs.getEntry(n,e)})).subscribe(t=>{null==t?(this.isLoading=!1,this.isError=!0,this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message)):null!=t&&(this.isLoading=!1,this.entry=t,this.entryForm=this.grfs.entryUpdateForm())})}ngOnDestroy(){clearTimeout(this.entryChangesT)}updateEntry(t){this.error=null,this.isError=!1,this.isFormProcessing=!0,this.isFormSubmitted=!0,this.grs.updateEntry$(this.rslug,this.eslug,t).subscribe(e=>{null==e&&(this.isFormSubmitted=!1,this.isFormProcessing=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and ${this.systemType} Entry is not updated.`)),null!=e&&1==e.updated&&(this.isLoading=!0,this.isFormSubmitted=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and ${this.systemType} Entry is updated.`),this.$entryChanges(t.$data))})}$entryChanges(t){this.entryChangesT=setTimeout(()=>this.router.navigate(["general-request","t",this.rslug,"entries"]),5e3)}$confirmEntryOnReview(t){this.entry.status=t.status}openSubBtn(t){1==t&&(this.readyToSubmit=!0)}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}get userRole(){return this.aus.userRole}get canUpdateEntry(){return nt.indexOf(this.userRole)>-1}get isFormValid(){return this.entryForm.valid}removeNotification(){this.ns.removeNotification()}}return t.\u0275fac=function(e){return new(e||t)(m.Kb(p.e),m.Kb(p.a),m.Kb(T),m.Kb(et.a),m.Kb(kt),m.Kb(O.a),m.Kb(D.a))},t.\u0275cmp=m.Eb({type:t,selectors:[["app-gr-entry-detail"]],features:[m.yb([et.a,O.a])],decls:7,vars:6,consts:[["id","entry-view"],[4,"ngIf"],[3,"view-type","system-type",4,"ngIf"],[3,"error",4,"ngIf"],[3,"notified","message","finished",4,"ngIf"],["id","request-entry-detail",4,"ngIf"],[3,"is-loading"],[3,"view-type","system-type"],[3,"error"],[3,"notified","message","finished"],["id","request-entry-detail"],[3,"entry","view",4,"ngIf"],[3,"entry",4,"ngIf"],[3,"view","entry","link","system-type","onReviewEntry",4,"ngIf"],[3,"entry","view"],[3,"entry"],[3,"view","entry","link","system-type","onReviewEntry"],["id","entry-detail-form"],["method","post",3,"formGroup","ngSubmit"],[3,"entry","entry-form","system-type","$link","on-submit-btn",4,"ngIf"],[3,"entry","entry-form","system-type","$link","on-submit-btn"],["type","submit","class","btn-submit",3,"class","disabled",4,"ngIf"],["type","submit",1,"btn-submit",3,"disabled"]],template:function(t,e){1&t&&(m.Pb(0,"div",0),m.vc(1,Le,2,1,"h2",1),m.vc(2,Me,1,2,"app-view-description",2),m.vc(3,ke,1,1,"app-resource-unavailable",3),m.vc(4,qe,1,2,"app-notification-screen",4),m.vc(5,Ge,2,2,"div",5),m.Ob(),m.Lb(6,"app-loading-menu",6)),2&t&&(m.zb(1),m.gc("ngIf",e.title),m.zb(1),m.gc("ngIf",e.view),m.zb(1),m.gc("ngIf",e.isError),m.zb(1),m.gc("ngIf",e.notificationAvailable),m.zb(1),m.gc("ngIf",e.entry),m.zb(1),m.gc("is-loading",e.isLoading))},directives:[i.l,L.a,M.a,k.a,it.a,qt.a,Nt.a,Ft.a,Bt,s.s,s.l,s.h,Ce],styles:[""],data:{animation:[h.a]}}),t})();var Be=n("P2jk"),Ye=n("2Cyu");function He(t,e){if(1&t&&m.Lb(0,"app-view-description",8),2&t){const t=m.ac();m.gc("view-type",t.view)("system-type",t.systemType)}}function Je(t,e){if(1&t&&m.Lb(0,"app-resource-unavailable",9),2&t){const t=m.ac();m.gc("error",t.error)}}function Xe(t,e){if(1&t&&m.Lb(0,"app-request-entry-status",10),2&t){const t=m.ac();m.gc("system-type",t.systemType)("entry",t.entry)}}function Ze(t,e){if(1&t&&(m.Nb(0),m.Pb(1,"p",18),m.Pb(2,"small"),m.Pb(3,"b",14),m.xc(4),m.Ob(),m.Ob(),m.Ob(),m.Mb()),2&t){const t=m.ac().$implicit;m.zb(4),m.yc(" ",null==t||null==t.author?null:t.author.full_name," ")}}function tn(t,e){1&t&&(m.Pb(0,"p",18),m.Pb(1,"b",14),m.xc(2," Anonymous "),m.Ob(),m.Ob())}function en(t,e){if(1&t&&(m.Nb(0),m.Pb(1,"p",19),m.Pb(2,"b",14),m.xc(3," Message : "),m.Ob(),m.xc(4),m.Ob(),m.Mb()),2&t){const t=m.ac().$implicit;m.zb(4),m.yc(" ",null==t?null:t.text," ")}}const nn=function(t,e,n,i){return[t,"t",e,"entry",n,"comment",i,"reply","add"]};function sn(t,e){if(1&t&&(m.Nb(0),m.Pb(1,"a",20),m.xc(2," Reply "),m.Ob(),m.Mb()),2&t){const t=m.ac(2).$implicit,e=m.ac(2);m.zb(1),m.hc("id",null==t?null:t.slug),m.gc("routerLink",m.oc(2,nn,e.isAdmin,e.rslug,null==e.entry?null:e.entry.slug,null==t?null:t.slug))}}function rn(t,e){if(1&t&&(m.Nb(0),m.vc(1,sn,3,7,"ng-container",5),m.Mb()),2&t){const t=m.ac(),e=t.$implicit,n=t.index;m.zb(1),m.gc("ngIf",(null==e.replies||(null==e||null==e.replies?null:e.replies.length)<1)&&0!=n)}}function an(t,e){if(1&t&&(m.Nb(0),m.Pb(1,"p"),m.Pb(2,"b",14),m.xc(3),m.Ob(),m.Pb(4,"small",15),m.xc(5),m.bc(6,"date"),m.Ob(),m.Ob(),m.Mb()),2&t){const t=m.ac().index,e=m.ac(2).$implicit;m.zb(3),m.yc(" ",t+1," "),m.zb(2),m.yc(" ",m.dc(6,2,null==e?null:e.updated_on,"longDate")," ")}}function on(t,e){if(1&t&&(m.Nb(0),m.Pb(1,"p",18),m.Pb(2,"small"),m.Pb(3,"b",14),m.xc(4),m.Ob(),m.Ob(),m.Ob(),m.Mb()),2&t){const t=m.ac().$implicit;m.zb(4),m.yc(" Author : ",null==t||null==t.author?null:t.author.full_name," ")}}function cn(t,e){1&t&&(m.Pb(0,"p",18),m.Pb(1,"small"),m.Pb(2,"b",14),m.xc(3," Anonymous "),m.Ob(),m.Ob(),m.Ob())}function ln(t,e){if(1&t&&(m.Nb(0),m.Pb(1,"p",18),m.Pb(2,"small"),m.Pb(3,"b",14),m.xc(4," Handler : "),m.Ob(),m.xc(5),m.Ob(),m.Ob(),m.Mb()),2&t){const t=m.ac().$implicit;m.zb(5),m.yc("",null==t||null==t.entry_handler?null:t.entry_handler.full_name," ")}}function un(t,e){if(1&t&&(m.Nb(0),m.Pb(1,"p",19),m.Pb(2,"b",14),m.xc(3," Message : "),m.Ob(),m.xc(4),m.bc(5,"replaceLineBreak"),m.Ob(),m.Mb()),2&t){const t=m.ac().$implicit;m.zb(4),m.zc("",null!=t&&t.comment_author_name?"@"+(null==t?null:t.comment_author_name):""," ",m.cc(5,2,null==t?null:t.text)," ")}}function bn(t,e){if(1&t&&(m.Nb(0),m.Pb(1,"div",22),m.vc(2,an,7,5,"ng-container",5),m.vc(3,on,5,1,"ng-container",16),m.vc(4,cn,4,0,"ng-template",null,23,m.wc),m.vc(6,ln,6,1,"ng-container",5),m.vc(7,un,6,4,"ng-container",5),m.Ob(),m.Mb()),2&t){const t=e.$implicit,n=m.qc(5),i=m.ac(2).$implicit;m.zb(2),m.gc("ngIf",i.updated_on),m.zb(1),m.gc("ngIf",null==t?null:t.author)("ngIfElse",n),m.zb(3),m.gc("ngIf",null==t?null:t.entry_handler),m.zb(1),m.gc("ngIf",null==t?null:t.text)}}function gn(t,e){if(1&t&&(m.Nb(0),m.Pb(1,"div",21),m.vc(2,bn,8,5,"ng-container",12),m.Ob(),m.Mb()),2&t){const t=m.ac().$implicit;m.zb(2),m.gc("ngForOf",null==t?null:t.replies)}}function dn(t,e){if(1&t&&(m.Nb(0),m.Pb(1,"div",13),m.Pb(2,"p"),m.Pb(3,"b",14),m.xc(4),m.Ob(),m.Pb(5,"small",15),m.xc(6),m.bc(7,"date"),m.Ob(),m.Ob(),m.vc(8,Ze,5,1,"ng-container",16),m.vc(9,tn,3,0,"ng-template",null,17,m.wc),m.vc(11,en,5,1,"ng-container",5),m.vc(12,rn,2,1,"ng-container",5),m.vc(13,gn,3,1,"ng-container",5),m.Ob(),m.Mb()),2&t){const t=e.$implicit,n=e.index,i=m.qc(10),s=m.ac(2);m.zb(4),m.yc(" ",n+1," "),m.zb(2),m.yc(" ",m.dc(7,7,null==t?null:t.updated_on,"longDate")," "),m.zb(2),m.gc("ngIf",null==t?null:t.author)("ngIfElse",i),m.zb(3),m.gc("ngIf",null==t?null:t.text),m.zb(1),m.gc("ngIf","Fulfilled"!=(null==s.entry?null:s.entry.status)&&"Rejected"!=(null==s.entry?null:s.entry.status)),m.zb(1),m.gc("ngIf",null!=(null==t?null:t.replies)&&(null==t||null==t.replies?null:t.replies.length)>0)}}function pn(t,e){if(1&t&&(m.Nb(0),m.Pb(1,"div",11),m.Pb(2,"h3"),m.xc(3," Timeline "),m.Ob(),m.vc(4,dn,14,10,"ng-container",12),m.Ob(),m.Mb()),2&t){const t=m.ac();m.zb(1),m.gc("@fadeAnimation",void 0),m.zb(3),m.gc("ngForOf",t.comments)}}function fn(t,e){1&t&&(m.Nb(0),m.Pb(1,"div",11),m.Pb(2,"p"),m.xc(3," Comments entries not available for this entry. "),m.Ob(),m.Ob(),m.Mb())}const yn=function(t,e,n){return[t,"t",e,"entry",n,"timeline"]};function hn(t,e){if(1&t&&(m.Nb(0),m.Pb(1,"a",25),m.xc(2," Timeline "),m.Ob(),m.Mb()),2&t){const t=m.ac(2);m.zb(1),m.gc("routerLink",m.nc(1,yn,t.isAdmin,t.rslug,null==t.entry?null:t.entry.slug))}}const mn=function(t,e,n){return[t,"t",e,"entry",n,"transfer"]};function vn(t,e){if(1&t&&(m.Nb(0),m.Pb(1,"a",25),m.xc(2," Transfer or Move Request "),m.Ob(),m.Mb()),2&t){const t=m.ac(3);m.zb(1),m.gc("routerLink",m.nc(1,mn,t.isAdmin,t.rslug,null==t.entry?null:t.entry.slug))}}function On(t,e){if(1&t&&(m.Nb(0),m.vc(1,vn,3,5,"ng-container",5),m.Mb()),2&t){const t=m.ac(2);m.zb(1),m.gc("ngIf",t.canUpdateEntry)}}const Pn=function(t,e,n){return[t,"t",e,"entry",n,"comment","add"]};function wn(t,e){if(1&t&&(m.Nb(0),m.Pb(1,"a",25),m.xc(2," Add a Comment "),m.Ob(),m.Mb()),2&t){const t=m.ac(2);m.zb(1),m.gc("routerLink",m.nc(1,Pn,t.isAdmin,t.rslug,null==t.entry?null:t.entry.slug))}}const In=function(t,e,n){return[t,"t",e,"entry",n,"detail"]};function En(t,e){if(1&t&&(m.Pb(0,"div",24),m.vc(1,hn,3,5,"ng-container",5),m.vc(2,On,2,1,"ng-container",5),m.vc(3,wn,3,5,"ng-container",5),m.Pb(4,"a",25),m.xc(5," Entry Detail "),m.Ob(),m.Ob()),2&t){const t=m.ac();m.zb(1),m.gc("ngIf","Pending"!=(null==t.entry?null:t.entry.status)),m.zb(1),m.gc("ngIf","Review"==(null==t.entry?null:t.entry.status)||"Update"==(null==t.entry?null:t.entry.status)),m.zb(1),m.gc("ngIf","Update"==(null==t.entry?null:t.entry.status)||"Transferred"==(null==t.entry?null:t.entry.status)),m.zb(1),m.gc("routerLink",m.nc(4,In,t.isAdmin,t.rslug,null==t.entry?null:t.entry.slug))}}let zn=(()=>{class t{constructor(t,e,n,i,s){this.router=t,this.route=e,this.grs=n,this.ems=i,this.aus=s,this.isError=!1,this.isLoading=!1}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.timeline.systemType,this.title=t.timeline.title,this.view=t.timeline.view,this.viewWord=t.timeline.viewWord,this.link=t.timeline.link,this.grs.$systemType=this.systemType,this.route.paramMap.pipe(Object(K.a)(t=>{let e=t.get("entry"),n=t.get("request");return this.rslug=n,this.eslug=e,this.isLoading=!0,this.grs.getTimeline(n,e)})).subscribe(t=>{null==t?(this.isLoading=!1,this.isError=!0,this.error=Object.assign({resource:this.systemType+" Entry Timeline"},this.ems.message)):null!=t&&(this.isLoading=!1,this.entry=t,this.comments=t.timeline)})}get userRole(){return this.aus.userRole}get isAdmin(){return["moderator","administrator","superAdministrator"].indexOf(this.userRole),"/general-request"}get canUpdateEntry(){return nt.indexOf(this.userRole)>-1}}return t.\u0275fac=function(e){return new(e||t)(m.Kb(p.e),m.Kb(p.a),m.Kb(T),m.Kb(O.a),m.Kb(D.a))},t.\u0275cmp=m.Eb({type:t,selectors:[["app-gr-entry-timeline"]],features:[m.yb([O.a])],decls:11,vars:7,consts:[["id","general-timeline"],["id","general-entry-details"],[3,"view-type","system-type",4,"ngIf"],[3,"error",4,"ngIf"],[3,"system-type","entry",4,"ngIf"],[4,"ngIf"],["id","entry-detail-options",4,"ngIf"],[3,"is-loading"],[3,"view-type","system-type"],[3,"error"],[3,"system-type","entry"],[1,"comments"],[4,"ngFor","ngForOf"],[1,"comment"],[1,"bold"],[1,"timestamp"],[4,"ngIf","ngIfElse"],["anonymousTemplate",""],[1,"author"],[1,"text"],[1,"reply-add",3,"id","routerLink"],[1,"replies"],[1,"reply"],["anonymousTemplate1",""],["id","entry-detail-options"],[1,"center",3,"routerLink"]],template:function(t,e){1&t&&(m.Pb(0,"div",0),m.Pb(1,"div",1),m.Pb(2,"h2"),m.xc(3," Entry Detail "),m.Ob(),m.vc(4,He,1,2,"app-view-description",2),m.vc(5,Je,1,1,"app-resource-unavailable",3),m.vc(6,Xe,1,2,"app-request-entry-status",4),m.vc(7,pn,5,2,"ng-container",5),m.vc(8,fn,4,0,"ng-container",5),m.Ob(),m.vc(9,En,6,8,"div",6),m.Ob(),m.Lb(10,"app-loading-menu",7)),2&t&&(m.zb(4),m.gc("ngIf",e.view),m.zb(1),m.gc("ngIf",e.isError),m.zb(1),m.gc("ngIf",e.entry),m.zb(1),m.gc("ngIf",null!=e.comments&&(null==e.comments?null:e.comments.length)>0),m.zb(1),m.gc("ngIf",null!=e.comments&&(null==e.comments?null:e.comments.length)<1),m.zb(1),m.gc("ngIf",e.entry),m.zb(1),m.gc("is-loading",e.isLoading))},directives:[i.l,L.a,M.a,k.a,Be.a,i.k,p.f],pipes:[i.d,Ye.a],styles:[".comment[_ngcontent-%COMP%]{border-bottom:1px solid #add8e6;padding:10px}.comment[_ngcontent-%COMP%]:hover{background-color:#fdfdfd}.comment[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:2em!important}.comment[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{font-style:italic;margin-left:2em;font-size:10px}.comment[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:11px;margin-right:10px}.comment[_ngcontent-%COMP%]   p.text[_ngcontent-%COMP%]{font-size:12px}.comment[_ngcontent-%COMP%]   a.reply-add[_ngcontent-%COMP%]{font-size:11px;background-color:#290140;color:#a0a7a0;padding:5px 15px;border-radius:6px;border:1.5px solid #ac4bd8}.comment[_ngcontent-%COMP%]   a.reply-add[_ngcontent-%COMP%]:hover{color:#fff;background-color:#210140}.replies[_ngcontent-%COMP%]{margin-left:30px}.reply[_ngcontent-%COMP%]{margin-top:20px}"],data:{animation:[h.a]}}),t})();var $n=n("eIaO"),xn=n("7U3D"),Tn=n("x7qt");function Cn(t,e){if(1&t&&(m.Pb(0,"h2"),m.xc(1),m.Ob()),2&t){const t=m.ac();m.zb(1),m.yc(" ",t.title," ")}}function Ln(t,e){if(1&t&&m.Lb(0,"app-resource-unavailable",5),2&t){const t=m.ac();m.gc("error",t.error)}}function Mn(t,e){if(1&t){const t=m.Qb();m.Pb(0,"app-notification-screen",6),m.Wb("finished",function(){return m.rc(t),m.ac().removeNotification()}),m.Ob()}if(2&t){const t=m.ac();m.gc("notified",t.notificationAvailable)("message",t.notificationMessage)}}function kn(t,e){if(1&t){const t=m.Qb();m.Nb(0),m.Pb(1,"app-entry-comment-create",7),m.Wb("processEntry",function(e){return m.rc(t),m.ac(2).createEntry(e)}),m.Ob(),m.Mb()}if(2&t){const t=m.ac(2);m.zb(1),m.gc("system-type",t.systemType)("view",t.view)("entry",t.entry)("entry-create-form",t.entryCreateForm)}}function qn(t,e){if(1&t&&(m.Nb(0),m.vc(1,kn,2,4,"ng-container",1),m.Mb()),2&t){const t=m.ac();m.zb(1),m.gc("ngIf",!t.isLoading)}}let Nn=(()=>{class t{constructor(t,e,n,i,s,r,a){this.route=t,this.router=e,this.grs=n,this.ccfs=i,this.ccs=s,this.ems=r,this.ns=a,this.isError=!1,this.isLoading=!1}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.comment.systemType,this.title=t.comment.title,this.view=t.comment.view,this.link=t.comment.link,this.grs.$systemType=this.systemType,this.route.paramMap.pipe(Object(K.a)(t=>{let e=t.get("entry"),n=t.get("request");return this.rslug=n,this.eslug=e,this.isLoading=!0,this.grs.addComment(n,e)})).subscribe(t=>{null==t?(this.isLoading=!1,this.isError=!0,this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message)):null!=t&&1==t.permitted&&(this.isLoading=!1,this.entry=t.$data,this.entryCreateForm=this.ccfs.entryCreateForm())})}ngOnDestroy(){clearTimeout(this.entryCreateT)}createEntry(t){this.error=null,this.isError=!1,this.grs.addComment$(this.rslug,this.eslug,t).subscribe(t=>{null==t&&(this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and ${this.systemType} comment is not added.`),this.ccs.isEntryCreated.next(!1)),null!=t&&1==t.updated&&(this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and ${this.systemType} comment is added.`),this.isLoading=!0,this.ccs.isEntryCreated.next(!0),this.entryChanges(t.$data))})}entryChanges(t){this.entryCreateT=setTimeout(()=>this.router.navigate(["general-request","t",this.rslug,"entries"]),5e3)}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}removeNotification(){this.ns.removeNotification()}}return t.\u0275fac=function(e){return new(e||t)(m.Kb(p.a),m.Kb(p.e),m.Kb(T),m.Kb($n.a),m.Kb(xn.a),m.Kb(O.a),m.Kb(et.a))},t.\u0275cmp=m.Eb({type:t,selectors:[["app-gr-create-comment"]],features:[m.yb([O.a,et.a])],decls:6,vars:5,consts:[["id","general-entry"],[4,"ngIf"],[3,"error",4,"ngIf"],[3,"notified","message","finished",4,"ngIf"],[3,"is-loading"],[3,"error"],[3,"notified","message","finished"],[3,"system-type","view","entry","entry-create-form","processEntry"]],template:function(t,e){1&t&&(m.Pb(0,"div",0),m.vc(1,Cn,2,1,"h2",1),m.vc(2,Ln,1,1,"app-resource-unavailable",2),m.vc(3,Mn,1,2,"app-notification-screen",3),m.vc(4,qn,2,1,"ng-container",1),m.Ob(),m.Lb(5,"app-loading-menu",4)),2&t&&(m.zb(1),m.gc("ngIf",e.title),m.zb(1),m.gc("ngIf",e.isError),m.zb(1),m.gc("ngIf",e.notificationAvailable),m.zb(1),m.gc("ngIf",e.entryCreateForm),m.zb(1),m.gc("is-loading",e.isLoading))},directives:[i.l,L.a,k.a,it.a,Tn.a],styles:[""]}),t})();class Fn{constructor(t){this.faculties=t.Faculty?t.Faculty:[],this.departments=t.Department?t.Department:[],this.units=t.Unit?t.Unit:[],this.levels=t.Level?t.Level:[],this.countries=t.Country?t.Country:[]}}function jn(t,e){if(1&t&&(m.Pb(0,"li"),m.xc(1),m.Ob()),2&t){const t=m.ac(3);m.zb(1),m.yc(" Unit of ",t.systemType," should be provided and cannot be empty ")}}function An(t,e){if(1&t&&(m.Pb(0,"li"),m.xc(1),m.Ob()),2&t){const t=m.ac(3);m.zb(1),m.yc(" Unit of ",t.systemType," cannot be greater than specified length ")}}function Rn(t,e){if(1&t&&(m.Pb(0,"li"),m.xc(1),m.Ob()),2&t){const t=m.ac(3);m.zb(1),m.yc(" Unit of ",t.systemType," should be available from existing record before it can be considered valid ")}}function _n(t,e){if(1&t&&(m.Pb(0,"div",2),m.Pb(1,"ul"),m.vc(2,jn,2,1,"li",0),m.vc(3,An,2,1,"li",0),m.vc(4,Rn,2,1,"li",0),m.Ob(),m.Ob()),2&t){const t=m.ac(2);m.gc("@fadeAnimation",void 0),m.zb(2),m.gc("ngIf",null==t.unit.errors?null:t.unit.errors.required),m.zb(1),m.gc("ngIf",(null==t.unit.errors?null:t.unit.errors.required)||(null==t.unit.errors?null:t.unit.errors.max)),m.zb(1),m.gc("ngIf",null==t.unit.errors?null:t.unit.errors.Unit)}}function Sn(t,e){if(1&t&&(m.Nb(0),m.vc(1,_n,5,4,"div",1),m.Mb()),2&t){const t=m.ac();m.zb(1),m.gc("ngIf",t.unit.invalid&&(t.unit.touched||t.unit.dirty))}}let Kn=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=m.Eb({type:t,selectors:[["app-gr-entry-transfer-validator"]],inputs:{systemType:"systemType",unit:"unit"},decls:1,vars:1,consts:[[4,"ngIf"],["class","validation-error",4,"ngIf"],[1,"validation-error"]],template:function(t,e){1&t&&m.vc(0,Sn,2,1,"ng-container",0),2&t&&m.gc("ngIf",e.unit)},directives:[i.l],styles:[""],data:{animation:[h.a]}}),t})();function Dn(t,e){if(1&t&&(m.Pb(0,"h2"),m.xc(1),m.Ob()),2&t){const t=m.ac();m.zb(1),m.yc(" ",t.title," ")}}function Un(t,e){if(1&t&&m.Lb(0,"app-view-description",7),2&t){const t=m.ac();m.gc("view-type",t.view)("system-type",t.systemType)}}function Wn(t,e){if(1&t&&m.Lb(0,"app-resource-unavailable",8),2&t){const t=m.ac();m.gc("error",t.error)}}function Qn(t,e){if(1&t){const t=m.Qb();m.Pb(0,"app-notification-screen",9),m.Wb("finished",function(){return m.rc(t),m.ac().removeNotification()}),m.Ob()}if(2&t){const t=m.ac();m.gc("notified",t.notificationAvailable)("message",t.notificationMessage)}}function Gn(t,e){if(1&t&&m.Lb(0,"app-request-entry-detail",12),2&t){const t=m.ac(3);m.gc("entry",t.entry)}}function Vn(t,e){if(1&t&&(m.Pb(0,"option",24),m.xc(1),m.Ob()),2&t){const t=e.$implicit;m.gc("value",t._id),m.zb(1),m.yc(" ",t.name," ")}}function Bn(t,e){if(1&t&&(m.Nb(0),m.Pb(1,"div",18),m.Pb(2,"label",19),m.xc(3," Set Request new Unit or Office * : "),m.Ob(),m.Pb(4,"select",20),m.Lb(5,"option",21),m.vc(6,Vn,2,2,"option",22),m.Ob(),m.Lb(7,"app-gr-entry-transfer-validator",23),m.Ob(),m.Mb()),2&t){const t=m.ac(5);m.zb(6),m.gc("ngForOf",null==t.generalOthers?null:t.generalOthers.units),m.zb(1),m.gc("unit",t.unit)}}function Yn(t,e){if(1&t&&(m.Pb(0,"div",18),m.Pb(1,"label",25),m.xc(2," Message "),m.Ob(),m.Pb(3,"textarea",26),m.xc(4," "),m.Ob(),m.Lb(5,"app-request-entry-update-validator",27),m.Ob()),2&t){const t=m.ac(5);m.zb(5),m.gc("text",t.text)}}const Hn=function(t){return{disabled:t}};function Jn(t,e){if(1&t&&(m.Pb(0,"button",28),m.xc(1," Submit "),m.Ob()),2&t){const t=m.ac(5);m.Bb(m.lc(3,Hn,!t.isFormValid)),m.gc("disabled",!t.isFormValid)}}function Xn(t,e){1&t&&(m.Pb(0,"p"),m.xc(1," Your form is being processed. Please kindly be patient and wait while it completes. "),m.Ob())}function Zn(t,e){if(1&t){const t=m.Qb();m.Nb(0),m.Pb(1,"div",13),m.Pb(2,"h3",14),m.xc(3," Request Options "),m.Ob(),m.Pb(4,"form",15),m.Wb("ngSubmit",function(){m.rc(t);const e=m.ac(4);return e.updateEntry(e.entryForm.value)}),m.vc(5,Bn,8,2,"ng-container",1),m.vc(6,Yn,6,1,"div",16),m.vc(7,Jn,2,5,"button",17),m.vc(8,Xn,2,0,"p",1),m.Ob(),m.Ob(),m.Mb()}if(2&t){const t=m.ac(4);m.zb(4),m.gc("formGroup",t.entryForm),m.zb(1),m.gc("ngIf",t.generalOthers&&null!=(null==t.generalOthers?null:t.generalOthers.units)&&(null==t.generalOthers||null==t.generalOthers.units?null:t.generalOthers.units.length)>0),m.zb(1),m.gc("ngIf",t.text),m.zb(1),m.gc("ngIf",!t.isFormProcessing),m.zb(1),m.gc("ngIf",t.isFormSubmitted)}}function ti(t,e){if(1&t&&(m.Nb(0),m.vc(1,Zn,9,5,"ng-container",1),m.Mb()),2&t){const t=m.ac(3);m.zb(1),m.gc("ngIf",t.canUpdateEntry)}}function ei(t,e){if(1&t&&(m.Nb(0),m.vc(1,Gn,1,1,"app-request-entry-detail",11),m.vc(2,ti,2,1,"ng-container",1),m.Mb()),2&t){const t=m.ac(2);m.zb(1),m.gc("ngIf",t.entry),m.zb(1),m.gc("ngIf",t.entry&&"Pending"!=(null==t.entry?null:t.entry.status)&&"Fulfilled"!=(null==t.entry?null:t.entry.status)&&"Rejected"!=(null==t.entry?null:t.entry.status))}}function ni(t,e){if(1&t&&(m.Pb(0,"div",10),m.vc(1,ei,3,2,"ng-container",1),m.Ob()),2&t){const t=m.ac();m.gc("@fadeAnimation",void 0),m.zb(1),m.gc("ngIf",!t.isLoading)}}let ii=(()=>{class t{constructor(t,e,n,i,s,r,a){this.router=t,this.route=e,this.grs=n,this.ns=i,this.grfs=s,this.ems=r,this.aus=a,this.isError=!1,this.isFormSubmitted=!1,this.isFormProcessing=!1,this.isLoading=!1}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.transfer.systemType,this.title=t.transfer.title,this.view=t.transfer.view,this.viewWord=t.transfer.viewWord,this.link=t.transfer.link,this.grs.$systemType=this.systemType,this.route.paramMap.pipe(Object(K.a)(t=>{let e=t.get("request"),n=t.get("entry");return this.eslug=n,this.rslug=e,this.isLoading=!0,this.grs.transferEntry(e,n)})).subscribe(t=>{null==t?(this.isLoading=!1,this.isError=!0,this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message)):null!=t&&1==t.permitted&&(this.isLoading=!1,this.entry=t.$data.Entry,this.generalOthers=null!=t.$data?new Fn(t.$data):{},this.entryForm=this.grfs.entryTransferForm(),this.grfs.createPermanent(t.$data.Unit,this.entryForm))})}ngOnDestroy(){clearTimeout(this.entryChangesT)}updateEntry(t){this.error=null,this.isError=!1,this.isFormProcessing=!0,this.isFormSubmitted=!0,this.grs.transferEntry$(this.rslug,this.eslug,t).subscribe(t=>{if(null==t)this.isFormSubmitted=!1,this.isFormProcessing=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and ${this.systemType} Entry is not updated.`);else if(null!=t&&t.updated)return this.isLoading=!0,this.isFormSubmitted=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and ${this.systemType} Entry is updated and transferred.`),this.entryChanges(t.$data)})}entryChanges(t){this.entryChangesT=setTimeout(()=>this.router.navigate(["general-request","t",this.rslug,"entries"]),5e3)}get userRole(){return this.aus.userRole}get isFormValid(){return this.entryForm.valid}get canUpdateEntry(){return nt.indexOf(this.userRole)>-1}get text(){return this.entryForm.get("text")}get unit(){return this.entryForm.get("unit")}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}removeNotification(){this.ns.removeNotification()}}return t.\u0275fac=function(e){return new(e||t)(m.Kb(p.e),m.Kb(p.a),m.Kb(T),m.Kb(et.a),m.Kb(kt),m.Kb(O.a),m.Kb(D.a))},t.\u0275cmp=m.Eb({type:t,selectors:[["app-gr-entry-transfer"]],features:[m.yb([et.a,O.a])],decls:7,vars:6,consts:[["id","entry-view"],[4,"ngIf"],[3,"view-type","system-type",4,"ngIf"],[3,"error",4,"ngIf"],[3,"notified","message","finished",4,"ngIf"],["id","request-entry-detail",4,"ngIf"],[3,"is-loading"],[3,"view-type","system-type"],[3,"error"],[3,"notified","message","finished"],["id","request-entry-detail"],[3,"entry",4,"ngIf"],[3,"entry"],["id","transfer-form"],[1,"center"],["method","post",3,"formGroup","ngSubmit"],["class","form-group",4,"ngIf"],["type","submit","class","btn-submit",3,"class","disabled",4,"ngIf"],[1,"form-group"],["for","unit",1,"form-label","bold"],["name","unit","id","unit","required","required","formControlName","unit",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"unit"],[3,"value"],["for","text",1,"form-label","bold"],["name","text","id","text","formControlName","text"],[3,"text"],["type","submit",1,"btn-submit",3,"disabled"]],template:function(t,e){1&t&&(m.Pb(0,"div",0),m.vc(1,Dn,2,1,"h2",1),m.vc(2,Un,1,2,"app-view-description",2),m.vc(3,Wn,1,1,"app-resource-unavailable",3),m.vc(4,Qn,1,2,"app-notification-screen",4),m.vc(5,ni,2,2,"div",5),m.Ob(),m.Lb(6,"app-loading-menu",6)),2&t&&(m.zb(1),m.gc("ngIf",e.title),m.zb(1),m.gc("ngIf",e.view),m.zb(1),m.gc("ngIf",e.isError),m.zb(1),m.gc("ngIf",e.notificationAvailable),m.zb(1),m.gc("ngIf",e.entry),m.zb(1),m.gc("is-loading",e.isLoading))},directives:[i.l,L.a,M.a,k.a,it.a,qt.a,s.s,s.l,s.h,s.p,s.o,s.k,s.f,s.m,s.r,i.k,Kn,s.b,Jt.a],styles:[""],data:{animation:[h.a]}}),t})();var si=n("41Vw"),ri=n("Mwf2"),ai=n("zki3");function oi(t,e){if(1&t&&(m.Pb(0,"h2"),m.xc(1),m.Ob()),2&t){const t=m.ac();m.zb(1),m.yc(" ",t.title," ")}}function ci(t,e){if(1&t&&m.Lb(0,"app-resource-unavailable",5),2&t){const t=m.ac();m.gc("error",t.error)}}function li(t,e){if(1&t){const t=m.Qb();m.Pb(0,"app-notification-screen",6),m.Wb("finished",function(){return m.rc(t),m.ac().removeNotification()}),m.Ob()}if(2&t){const t=m.ac();m.gc("notified",t.notificationAvailable)("message",t.notificationMessage)}}function ui(t,e){if(1&t){const t=m.Qb();m.Nb(0),m.Pb(1,"app-entry-reply-create",7),m.Wb("processEntry",function(e){return m.rc(t),m.ac(2).createEntry(e)}),m.Ob(),m.Mb()}if(2&t){const t=m.ac(2);m.zb(1),m.gc("system-type",t.systemType)("view",t.view)("entry",t.entry)("comment",t.comment)("entry-create-form",t.entryCreateForm)}}function bi(t,e){if(1&t&&(m.Nb(0),m.vc(1,ui,2,5,"ng-container",1),m.Mb()),2&t){const t=m.ac();m.zb(1),m.gc("ngIf",!t.isLoading)}}let gi=(()=>{class t{constructor(t,e,n,i,s,r,a){this.route=t,this.router=e,this.grs=n,this.rcfs=i,this.rcs=s,this.ems=r,this.ns=a,this.isError=!1,this.isLoading=!1}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.reply.systemType,this.title=t.reply.title,this.view=t.reply.view,this.link=t.reply.link,this.grs.$systemType=this.systemType,this.route.paramMap.pipe(Object(K.a)(t=>{let e=t.get("request"),n=t.get("entry"),i=t.get("comment");return this.rslug=e,this.eslug=n,this.cslug=i,this.isLoading=!0,this.grs.addReply(e,n,i)})).subscribe(t=>{null==t?(this.isLoading=!1,this.isError=!0,this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message)):null!=t&&1==t.permitted&&(this.isLoading=!1,this.entry=t.$data.Entry,this.comment=t.$data.Comment,this.entryCreateForm=this.rcfs.entryCreateForm(),this.entryCreateForm.patchValue({comment_author_name:this.comment.author.full_name}))})}ngOnDestroy(){clearTimeout(this.entryCreatedT)}createEntry(t){this.error=null,this.isError=!1,this.grs.addReply$(this.rslug,this.eslug,this.cslug,t).subscribe(t=>{null==t&&(this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and ${this.systemType} reply is not added.`),this.rcs.isEntryCreated.next(!1)),null!=t&&1==t.updated&&(this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and ${this.systemType} reply is added.`),this.isLoading=!0,this.rcs.isEntryCreated.next(!0),this.entryChanges(t.$data))})}entryChanges(t){this.entryCreatedT=setTimeout(()=>this.router.navigate(["general-request","t",this.rslug,"entries"]),5e3)}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}removeNotification(){this.ns.removeNotification()}}return t.\u0275fac=function(e){return new(e||t)(m.Kb(p.a),m.Kb(p.e),m.Kb(T),m.Kb(si.a),m.Kb(ri.a),m.Kb(O.a),m.Kb(et.a))},t.\u0275cmp=m.Eb({type:t,selectors:[["app-gr-create-reply"]],features:[m.yb([O.a,et.a])],decls:6,vars:5,consts:[["id","general-entry"],[4,"ngIf"],[3,"error",4,"ngIf"],[3,"notified","message","finished",4,"ngIf"],[3,"is-loading"],[3,"error"],[3,"notified","message","finished"],[3,"system-type","view","entry","comment","entry-create-form","processEntry"]],template:function(t,e){1&t&&(m.Pb(0,"div",0),m.vc(1,oi,2,1,"h2",1),m.vc(2,ci,1,1,"app-resource-unavailable",2),m.vc(3,li,1,2,"app-notification-screen",3),m.vc(4,bi,2,1,"ng-container",1),m.Ob(),m.Lb(5,"app-loading-menu",4)),2&t&&(m.zb(1),m.gc("ngIf",e.title),m.zb(1),m.gc("ngIf",e.isError),m.zb(1),m.gc("ngIf",e.notificationAvailable),m.zb(1),m.gc("ngIf",e.entryCreateForm),m.zb(1),m.gc("is-loading",e.isLoading))},directives:[i.l,L.a,k.a,it.a,ai.a],styles:[""]}),t})();var di=n("1B5t");function pi(t,e){if(1&t&&(m.Pb(0,"h2"),m.xc(1),m.Ob()),2&t){const t=m.ac();m.zb(1),m.yc(" ",t.title," ")}}function fi(t,e){if(1&t&&m.Lb(0,"app-view-description",7),2&t){const t=m.ac();m.gc("system-type",t.systemType)("view-type",t.view)}}function yi(t,e){if(1&t){const t=m.Qb();m.Pb(0,"app-notification-screen",8),m.Wb("finished",function(){return m.rc(t),m.ac().removeNotification()}),m.Ob()}if(2&t){const t=m.ac();m.gc("notified",t.notificationAvailable)("message",t.notificationMessage)}}function hi(t,e){if(1&t&&m.Lb(0,"app-resource-unavailable",9),2&t){const t=m.ac();m.gc("error",t.error)}}function mi(t,e){if(1&t&&m.Lb(0,"app-delete-all-entry",13),2&t){const t=m.ac(3);m.gc("system-type",t.systemType)}}function vi(t,e){if(1&t){const t=m.Qb();m.Pb(0,"button",14),m.Wb("click",function(){return m.rc(t),m.ac(3).deleteAllEntry()}),m.xc(1," Confirm "),m.Ob()}}function Oi(t,e){1&t&&(m.Pb(0,"p"),m.xc(1," Your form is being processed. Please kindly be patient and wait while it completes. "),m.Ob())}function Pi(t,e){if(1&t&&(m.Nb(0),m.vc(1,mi,1,1,"app-delete-all-entry",11),m.vc(2,vi,2,0,"button",12),m.vc(3,Oi,2,0,"p",1),m.Mb()),2&t){const t=m.ac(2);m.zb(1),m.gc("ngIf",t.systemType),m.zb(1),m.gc("ngIf",!t.isFormProcessing),m.zb(1),m.gc("ngIf",t.isFormSubmitted)}}function wi(t,e){if(1&t&&(m.Pb(0,"div",10),m.vc(1,Pi,4,3,"ng-container",1),m.Ob()),2&t){const t=m.ac();m.gc("@fadeAnimation",void 0),m.zb(1),m.gc("ngIf",!t.isLoading)}}let Ii=(()=>{class t{constructor(t,e,n,i,s){this.route=t,this.router=e,this.grs=n,this.ems=i,this.ns=s,this.isError=!1,this.isFormSubmitted=!1,this.isFormProcessing=!1,this.canDelete=!1,this.isLoading=!1}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.deleteAll.systemType,this.viewWord=t.deleteAll.viewWord,this.title=t.deleteAll.title,this.view=t.deleteAll.view,this.link=t.deleteAll.link,this.route.paramMap.pipe(Object(K.a)(t=>{let e=t.get("request");return this.rslug=e,this.isLoading=!0,this.grs.deleteAllEntry(e)})).subscribe(t=>{null==t?(this.isLoading=!1,this.canDelete=!1,this.isError=!0,this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message)):null!=t&&t.length>0&&(this.isLoading=!1,this.canDelete=!0)})}ngOnDestroy(){clearTimeout(this.entryChangesT)}deleteAllEntry(){if(!confirm("Are you sure you want to proceed with this action?"))return!1;this.grs.$systemType=this.systemType,this.isFormSubmitted=!0,this.error=null,this.isError=!1,this.isFormProcessing=!0,this.grs.deleteAllEntry$(this.rslug).subscribe(t=>{if(null==t)return this.isFormSubmitted=!1,this.isFormProcessing=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and all ${this.systemType} entry is not deleted.`),this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message);this.isLoading=!0,this.isFormSubmitted=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and all ${this.systemType} entry is deleted.`),this.$entryChanges({})})}$entryChanges(t){this.entryChangesT=setTimeout(()=>this.router.navigate(["system","general-request"]),5e3)}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}removeNotification(){this.ns.removeNotification()}}return t.\u0275fac=function(e){return new(e||t)(m.Kb(p.a),m.Kb(p.e),m.Kb(T),m.Kb(O.a),m.Kb(et.a))},t.\u0275cmp=m.Eb({type:t,selectors:[["app-gr-entry-delete-all"]],features:[m.yb([et.a,O.a])],decls:7,vars:6,consts:[["id","entry-delete-all"],[4,"ngIf"],[3,"system-type","view-type",4,"ngIf"],[3,"notified","message","finished",4,"ngIf"],[3,"error",4,"ngIf"],["id","entry-detail",4,"ngIf"],[3,"is-loading"],[3,"system-type","view-type"],[3,"notified","message","finished"],[3,"error"],["id","entry-detail"],[3,"system-type",4,"ngIf"],["class","btn-submit","type","submit",3,"click",4,"ngIf"],[3,"system-type"],["type","submit",1,"btn-submit",3,"click"]],template:function(t,e){1&t&&(m.Pb(0,"div",0),m.vc(1,pi,2,1,"h2",1),m.vc(2,fi,1,2,"app-view-description",2),m.vc(3,yi,1,2,"app-notification-screen",3),m.vc(4,hi,1,1,"app-resource-unavailable",4),m.vc(5,wi,2,2,"div",5),m.Ob(),m.Lb(6,"app-loading-menu",6)),2&t&&(m.zb(1),m.gc("ngIf",e.title),m.zb(1),m.gc("ngIf",e.view),m.zb(1),m.gc("ngIf",e.notificationAvailable),m.zb(1),m.gc("ngIf",e.error),m.zb(1),m.gc("ngIf",e.canDelete),m.zb(1),m.gc("is-loading",e.isLoading))},directives:[i.l,L.a,M.a,it.a,k.a,di.a],styles:[""],data:{animation:[h.a]}}),t})(),Ei={systemType:"General Request",title:"General Request",view:"gr",viewWord:"GeneralRequest",link:"general-request",$link:"general-request",systemGuideline:"request",base:"general-request"};const zi={dashboard:Object.assign({},Ei),create:Object.assign(Object.assign({},Ei),{title:""+Ei.systemType}),comment:Object.assign(Object.assign({},Ei),{title:`Add a Comment : ${Ei.systemType} Entry`}),detail:Object.assign(Object.assign({},Ei),{title:Ei.systemType+" Entry",generateCred:null}),timeline:Object.assign(Object.assign({},Ei),{title:Ei.systemType+" Entry Timeline"}),transfer:Object.assign(Object.assign({},Ei),{title:`Transfer ${Ei.systemType} Entry`}),entries:Object.assign(Object.assign({},Ei),{title:Ei.systemType+" Entries",searchFilters:{application_number:"Application Number",status:"Status"}}),reply:Object.assign(Object.assign({},Ei),{title:`Add a Reply to a Comment : ${Ei.systemType} Entry`}),deleteAll:Object.assign(Object.assign({},Ei),{title:Ei.systemType+" Entries : Delete All"})},$i=[{path:"",component:v,canActivate:[f.a],canLoad:[f.a],children:[{path:"",canActivateChild:[f.a],children:[{path:"",component:S,data:{dashboard:zi.dashboard}},{path:"t/:request",component:X,data:{dashboard:zi.dashboard}},{path:"t/:request/entries",component:Lt,data:{entries:zi.entries}},{path:"t/:request/entry/create",loadChildren:()=>Promise.all([n.e(4),n.e(2),n.e(36)]).then(n.bind(null,"6lis")).then(t=>t.GeneralRequestEntryCreateModule)},{path:"t/:request/entry/:entry/detail",component:Ve,data:{detail:zi.detail}},{path:"t/:request/entry/:entry/timeline",component:zn,data:{timeline:zi.timeline}},{path:"t/:request/entry/:entry/transfer",component:ii,data:{transfer:zi.transfer}},{path:"t/:request/entry/:entry/comment/add",component:Nn,data:{comment:zi.comment}},{path:"t/:request/entry/:entry/comment/:comment/reply/add",component:gi,data:{reply:zi.reply}},{path:"t/:request/entry/delete/all",component:Ii,canActivate:[y.a],data:{deleteAll:zi.deleteAll}}]}]}];let xi=(()=>{class t{}return t.\u0275mod=m.Ib({type:t}),t.\u0275inj=m.Hb({factory:function(e){return new(e||t)},imports:[[p.g.forChild($i)],p.g]}),t})(),Ti=(()=>{class t{}return t.\u0275mod=m.Ib({type:t}),t.\u0275inj=m.Hb({factory:function(e){return new(e||t)},providers:[T,kt,Xt],imports:[[i.b,xi,s.n,r.a,b.a,c.a,l.a,u.a,a.a,o.a,g.a,d.a]]}),t})()}}]);