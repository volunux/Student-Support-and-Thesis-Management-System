(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"0FyI":function(e,t,n){"use strict";n.d(t,"a",function(){return m});var i=n("Yvf7"),s=n("8VHZ"),r=n("M35K"),a=n("8yhi"),o=n("hxwH"),c=n("5bm+"),u=n("WEao"),l=n("Ub9n");let m=(()=>{class e{}return e.\u0275mod=l.Ib({type:e}),e.\u0275inj=l.Hb({factory:function(t){return new(t||e)},providers:[c.a,u.a],imports:[[i.b,s.l,r.a,a.a,o.a]]}),e})()},"5bm+":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("8VHZ"),s=n("Ub9n");let r=(()=>{class e{constructor(e){this.fb=e}entryCreateForm(){return this.fb.group({message:["",{validators:[i.o.required,i.o.minLength(10),i.o.maxLength(1e3)]}]})}}return e.\u0275fac=function(t){return new(t||e)(s.Tb(i.b))},e.\u0275prov=s.Gb({token:e,factory:e.\u0275fac}),e})()},"5kR8":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("Ub9n"),s=n("9Ku7"),r=n("Fk62");let a=(()=>{class e{constructor(e,t){this.aus=e,this.router=t}canActivate(e,t){return this.verifyMemberPrivilege()}verifyMemberPrivilege(){return!(["moderator","administrator","superAdministrator"].indexOf(this.aus.userMinorDetails.role)<0&&(this.router.navigate(["unauthorized"]),1))}canActivateChild(e,t){return this.canActivate(e,t)}canLoad(){return this.verifyMemberPrivilege()}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(s.a),i.Tb(r.d))},e.\u0275prov=i.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},PHaz:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("Ub9n"),s=n("9Ku7"),r=n("Fk62");let a=(()=>{class e{constructor(e,t){this.aus=e,this.router=t}canActivate(e,t){return this.verifyLogin(t.url)}verifyLogin(e){return!this.aus.isLoggedIn()||this.router.parseUrl("account/profile")}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(s.a),i.Tb(r.d))},e.\u0275prov=i.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},WEao:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("EYJY"),s=n("Ub9n");let r=(()=>{class e{constructor(){this.isEntryCreated=new i.a,this.isEntryCreated$=this.isEntryCreated.asObservable()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Gb({token:e,factory:e.\u0275fac}),e})()},iojP:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("Ub9n"),s=n("9Ku7"),r=n("Fk62");let a=(()=>{class e{constructor(e,t){this.aus=e,this.router=t}canActivate(e,t){return this.verifyMemberPrivilege()}canActivateChild(e,t){return this.canActivate(e,t)}canLoad(e,t){return this.canActivate(e,t)}verifyMemberPrivilege(){return!(["student","departmentPresident","facultyPresident"].indexOf(this.aus.userMinorDetails.role)<0&&(this.router.navigate(["unauthorized"]),1))}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(s.a),i.Tb(r.d))},e.\u0275prov=i.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},wczn:function(e,t,n){"use strict";n.d(t,"a",function(){return A});var i=n("Ub9n"),s=n("PfYv"),r=n("WEao"),a=n("Yvf7"),o=n("Rxsk"),c=n("+ef2"),u=n("8VHZ"),l=n("bhAK"),m=n("J1Ni");function f(e,t){if(1&e&&(i.Pb(0,"li"),i.xc(1),i.Ob()),2&e){const e=i.ac(3);i.zb(1),i.yc(" Message of ",e.systemType," should be provided and cannot be empty ")}}function b(e,t){if(1&e&&(i.Pb(0,"li"),i.xc(1),i.Ob()),2&e){const e=i.ac(3);i.zb(1),i.yc(" Message of ",e.systemType," cannot be less than 10 characters in length ")}}function d(e,t){if(1&e&&(i.Pb(0,"li"),i.xc(1),i.Ob()),2&e){const e=i.ac(3);i.zb(1),i.yc(" Message of ",e.systemType," cannot be greater than 1000 characters in length ")}}function g(e,t){if(1&e&&(i.Pb(0,"div",2),i.Pb(1,"ul"),i.vc(2,f,2,1,"li",0),i.vc(3,b,2,1,"li",0),i.vc(4,d,2,1,"li",0),i.Ob(),i.Ob()),2&e){const e=i.ac(2);i.gc("@fadeAnimation",void 0),i.zb(2),i.gc("ngIf",null==e.message.errors?null:e.message.errors.required),i.zb(1),i.gc("ngIf",(null==e.message.errors?null:e.message.errors.required)||(null==e.message.errors?null:e.message.errors.minlength)),i.zb(1),i.gc("ngIf",(null==e.message.errors?null:e.message.errors.required)||(null==e.message.errors?null:e.message.errors.maxlength))}}function p(e,t){if(1&e&&(i.Nb(0),i.vc(1,g,5,4,"div",1),i.Mb()),2&e){const e=i.ac();i.zb(1),i.gc("ngIf",e.message.invalid&&(e.message.touched||e.message.dirty))}}let y=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Eb({type:e,selectors:[["app-request-entry-create-validator"]],inputs:{systemType:["system-type","systemType"],message:"message"},decls:1,vars:1,consts:[[4,"ngIf"],["class","validation-error",4,"ngIf"],[1,"validation-error"]],template:function(e,t){1&e&&i.vc(0,p,2,1,"ng-container",0),2&e&&i.gc("ngIf",t.message)},directives:[a.l],styles:[""],data:{animation:[m.a]}}),e})();var h=n("RvSM");const v=["attachments"],F=["fileAttachment"];function w(e,t){if(1&e){const e=i.Qb();i.Pb(0,"app-notification-screen",3),i.Wb("finished",function(){return i.rc(e),i.ac().removeNotification()}),i.Ob()}if(2&e){const e=i.ac();i.gc("notified",e.notificationAvailable)("message",e.notificationMessage)}}function C(e,t){if(1&e&&i.Lb(0,"app-view-description",4),2&e){const e=i.ac();i.gc("view-type",e.view)("system-type",e.systemType)}}function P(e,t){if(1&e&&(i.Pb(0,"div",10),i.Lb(1,"app-request-entry-create-file-guideline",11),i.Ob()),2&e){const e=i.ac(2);i.zb(1),i.gc("view",e.view)("system-guideline",e.systemGuideline)}}function I(e,t){if(1&e&&i.Lb(0,"app-request-entry-create-validator",16),2&e){const e=i.ac(3);i.gc("system-type",e.systemType)("message",e.message)}}function O(e,t){if(1&e&&(i.Pb(0,"div",12),i.Pb(1,"label",13),i.xc(2," Message * : "),i.Ob(),i.Pb(3,"textarea",14),i.xc(4," "),i.Ob(),i.vc(5,I,1,2,"app-request-entry-create-validator",15),i.Ob()),2&e){const e=i.ac(2);i.zb(5),i.gc("ngIf",e.message)}}function z(e,t){if(1&e){const e=i.Qb();i.Pb(0,"app-attachment-upload",18,19),i.Wb("myFile",function(t){return i.rc(e),i.ac(3).pushFile(t)}),i.Ob()}if(2&e){const e=t.$implicit,n=t.index,s=i.ac(3);i.gc("theControl",e.key)("theForm",s.entryCreateForm)("submission",s.submission)("attachment-name",s.attachmentConfig.name)("attachment-type",s.attachmentConfig.type)("end-points",s.uploadConfigU)("myProps",e)("myNumber",n+1)}}function M(e,t){if(1&e&&(i.Nb(0),i.vc(1,z,2,8,"app-attachment-upload",17),i.Mb()),2&e){const e=i.ac(2);i.zb(1),i.gc("ngForOf",e.inputFileControl)}}const k=function(e){return{disabled:e}};function E(e,t){if(1&e){const e=i.Qb();i.Pb(0,"button",20),i.Wb("click",function(){i.rc(e);const t=i.ac(2);return t.createEntry(t.entryCreateForm.value)}),i.xc(1," Submit "),i.Ob()}if(2&e){const e=i.ac(2);i.Bb(i.lc(3,k,!e.isFormValid)),i.gc("disabled",!e.isFormValid)}}function T(e,t){1&e&&(i.Pb(0,"p"),i.xc(1," Your form is being processed. Please kindly be patient and wait while it completes. "),i.Ob())}function x(e,t){if(1&e&&(i.Nb(0),i.vc(1,P,2,2,"div",5),i.Pb(2,"div",6),i.Pb(3,"div",7),i.vc(4,O,6,1,"div",8),i.vc(5,M,2,1,"ng-container",2),i.vc(6,E,2,5,"button",9),i.vc(7,T,2,0,"p",2),i.Ob(),i.Ob(),i.Mb()),2&e){const e=i.ac();i.zb(1),i.gc("ngIf",e.systemGuideline),i.zb(2),i.gc("formGroup",e.entryCreateForm),i.zb(1),i.gc("ngIf",e.message),i.zb(1),i.gc("ngIf",e.inputFileControl),i.zb(1),i.gc("ngIf",!e.isFormProcessing),i.zb(1),i.gc("ngIf",e.isFormSubmitted)}}let A=(()=>{class e{constructor(e,t){this.recs=e,this.ns=t,this.processEntry=new i.n,this.submission=!1,this.isFormSubmitted=!1,this.isFormProcessing=!1,this.$myFiles=[],this.entryCreatedOb=this.recs.isEntryCreated$.subscribe(e=>{0==e?(this.isFormSubmitted=!1,this.isFormProcessing=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and ${this.systemType} is not added.`)):1==e&&(this.isFormSubmitted=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and ${this.systemType} is added.`),null!=this.attachments&&this.attachments.length>0&&this.attachments.forEach(e=>{1==e.currentlyUploading&&null!=e.cancelFile&&(e.cancelFile.unsubscribe(),e.formSubmittedUploadCancel())}))})}ngOnInit(){}ngOnDestroy(){null!=this.entryCreatedOb&&this.entryCreatedOb.unsubscribe()}createEntry(e){this.submission=!0,null!=e&&(e.documents=[]),null!=this.attachments&&this.attachments.length>0&&this.attachments.forEach(t=>{null!=t.$$file&&t.$$file.location&&e.documents.push(t.$$file)}),this.isFormSubmitted=!0,this.isFormProcessing=!0,this.processEntry.emit(e)}pushFile(e){this.$myFiles.push(e)}get message(){return this.entryCreateForm.get("message")}get isFormValid(){return this.entryCreateForm.valid}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}removeNotification(){this.ns.removeNotification()}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(r.a),i.Kb(s.a))},e.\u0275cmp=i.Eb({type:e,selectors:[["app-request-entry-create"]],viewQuery:function(e,t){if(1&e&&(i.Ac(v,!0),i.Ac(F,!0)),2&e){let e;i.pc(e=i.Xb())&&(t.attachments=e),i.pc(e=i.Xb())&&(t.fileInputs=e)}},inputs:{systemType:["system-type","systemType"],systemGuideline:["system-guideline","systemGuideline"],view:"view",entryCreateForm:["entry-create-form","entryCreateForm"],inputFileControl:["input-file-control","inputFileControl"],attachmentConfig:["attachment-config","attachmentConfig"],uploadConfigU:["upload-config-u","uploadConfigU"]},outputs:{processEntry:"processEntry"},features:[i.yb([s.a])],decls:3,vars:3,consts:[[3,"notified","message","finished",4,"ngIf"],[3,"view-type","system-type",4,"ngIf"],[4,"ngIf"],[3,"notified","message","finished"],[3,"view-type","system-type"],["id","guidelines",4,"ngIf"],["id","request-form-max"],[3,"formGroup"],["class","form-group",4,"ngIf"],["class","btn-submit",3,"class","disabled","click",4,"ngIf"],["id","guidelines"],[3,"view","system-guideline"],[1,"form-group"],["for","message",1,"form-label","bold"],["id","message","name","message","placeholder","Request for a resolution","required","required","autocomplete","new-message","formControlName","message",1,"form-control","form-textarea"],[3,"system-type","message",4,"ngIf"],[3,"system-type","message"],[3,"theControl","theForm","submission","attachment-name","attachment-type","end-points","myProps","myNumber","myFile",4,"ngFor","ngForOf"],[3,"theControl","theForm","submission","attachment-name","attachment-type","end-points","myProps","myNumber","myFile"],["attachments",""],[1,"btn-submit",3,"disabled","click"]],template:function(e,t){1&e&&(i.vc(0,w,1,2,"app-notification-screen",0),i.vc(1,C,1,2,"app-view-description",1),i.vc(2,x,8,6,"ng-container",2)),2&e&&(i.gc("ngIf",t.notificationAvailable),i.zb(1),i.gc("ngIf",t.view),i.zb(1),i.gc("ngIf",t.entryCreateForm))},directives:[a.l,o.a,c.a,u.j,u.g,l.a,u.a,u.m,u.i,u.e,y,a.k,h.a],styles:[""]}),e})()}}]);